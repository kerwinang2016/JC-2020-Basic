<!--
Change History   
-------------- 
Date: 15-01-2019
Changed by:Salman Khan
Change /Jira Ticket #: JHD-6
Change Description: Expand room for fit tool names
-->
<!--
Change History   
-------------- 
Date: 28-02-2019
Changed by:Salman Khan
Change /Jira Ticket #: JHD-11
Change Description: Default fit tools can be inputted into the my account section
-->
<% registerMacro('blockMeasureField', function (field, value, increment,fieldset) {
	var type = field.type
	,	label = field.label
	,	name = field.name
	,	inputHtml = "";

	/* JHD-6 Start */
	if(type == "select"){

		if(field.options && field.options.length){
			inputHtml = '<div style="width:20%;margin:0;padding-right: 20px;"  class="span2"><select class="input input-small" data-field="'+name+'" id="body-' + name + '" name="' + name + '">';
			_.each(field.options, function(option){
				var selected = value == option ? 'selected' : '';
				inputHtml = inputHtml + '<option value="' + option + '" ' + selected + '>' + option + '</option>'
			});
			inputHtml = inputHtml + '</select></div>';
		} else {
			if(!_.isUndefined(field.max) && !_.isNull(field.max)){
				inputHtml = inputHtml + '<div style="width:20%;margin:0;padding-right: 20px;" class="span2"><select class="input input-small block-measurement-fld" data-field="'+name+'" id="' + name + '-max" name="' + name + '-max">'
				for(var i = 0; i <= field.max; i = i + increment){
					var selected = !_.isUndefined(value[1]) && parseFloat(value[1].value) == i ? 'selected' : '';
					inputHtml = inputHtml + '<option value="' + i + '" ' + selected + '>' + i + '</option>'
				}
				inputHtml = inputHtml + '</select></div>'
			}
			if(!_.isUndefined(field.min) && !_.isNull(field.min)){
				inputHtml = inputHtml + '<div style="width:20%;margin:0;padding-right: 20px;" class="span2 offset5p"><select class="input input-small block-measurement-fld" data-field="'+name+'" id="' + name + '-min" name="' + name + '-min">'
				for(var i = 0; i >= field.min; i = i - increment){
					var selected = !_.isUndefined(value[0]) && parseFloat(value[0].value) == i ? 'selected' : '';
					inputHtml = inputHtml + '<option value="' + i + '" ' + selected + '>' + i + '</option>'
				}
				inputHtml = inputHtml + '</select></div>'
			}
			if(fieldset.name == 'length' || fieldset.name == 'horizontals') { <!-- JHD-11 -->
			inputHtml = inputHtml + '<div style="width:11%;margin:0;float:left;text-align:left; color:#c1c1c1;" class="span3"><label class="fav-fit-tools-default" id="' + name + '-default"></label></div>'
			inputHtml = inputHtml + '<span style="width:9%;margin:0;padding-right: 20px; color:#c1c1c1;" class="span-w-10 offset5p" data-container="'+name+'-block"></span>'
			inputHtml = inputHtml + '<span style="width:10%;margin:0;padding-right: 20px; color:#c1c1c1;" class="span-w-10" data-container="'+name+'-finished"></span>'
			} else {
				inputHtml = inputHtml + '<div style="width:11%;margin:0;text-align:left; color:#c1c1c1;" class="span3"><label class="fav-fit-tools-default" id="' + name + '-default"></label></div>'
				inputHtml = inputHtml + '<div style="width:9%;margin:0;" class="span3">&nbsp;</div>'
				inputHtml = inputHtml + '<div style="width:10%;margin:0;" class="span3">&nbsp;</div>'

			}
		}

	} else {
		inputHtml = '<input class="input input-small" type="text" data-field="'+name+'" id="' + name + '" name="' + name + '" />'
	}
%>
<div class="row-fluid">
	<div style="width:30%;margin:0;" class="span3"><%= label %></div>
	<%= inputHtml %>
</div>
<% }) 
/* JHD-6 End */
%>
