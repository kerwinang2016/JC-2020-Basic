SC.templates = {"product_list_control_item_tmpl":"<div class=\"control-group\">\n\t<label <%= view.parentView.mode === 'move' ? 'data-action=\"product-list-item\"' : '' %>>\n\t\t<% if(view.parentView.mode !== 'move') { %>\n\t\t<input class=\"product-list-checkbox\" type=\"checkbox\" data-action=\"product-list-item\" <%= view.checked() ? 'checked' : '' %>>\n\t\t<% } %>\n\t\t&nbsp;<span class=\"product-list-name\"><%= view.model.get('type').name === 'predefined' ? _(view.model.get('name')).translate() : view.model.get('name')%><\/span>\n\t<\/label>\n<\/div>\n","quick_view_tmpl":"<% \n\tvar model = view.model\n\t,\titem_url = model.get('_url') + model.getQueryString();\n%>\n<div class=\"row-fluid\">\n\t<div class=\"span6 text-center\">\n\t\t<% var thumbnail = model.get('_images', true)[0] || model.get('_thumbnail'); %>\n\t\t<img src=\"<%= view.options.application.resizeImage(thumbnail.url, 'main') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t<\/div>\n\t<div class=\"span6\">\n\t\t<div class=\"details-header\">\n\t\t\t<div class=\"lead lead-small no-margin-bottom\">\n\t\t\t\t<%= showItemPrice(model.getPrice(), model.getStockInfo().isInStock) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% if (!model.isProperlyConfigured()) { %>\n\n\t\t\t<div class=\"alert alert-error\">\n\t\t\t\t<%= _('<b>Warning<\/b>: This item is not properly configured, please contact your administrator.').translate() %>\n\t\t\t<\/div>\n\n\t\t<% } else {\n\t\t\t\/*\n\t\t\tRender a single option placeholder:\n\t\t\t===================================\n\t\t\tAny HTML element that matches [data-type=option], if it's rendered by ItemDetails.View \n\t\t\twill be populated by the render of a single macro for a single option, especified by the attributes:\n\t\t\t\tdata-cart-option-id: the id of the cart opion\n\t\t\t\tdata-macro: the macro you want this option to be rendered with, if omited the default for the option will be used\n\t\t\t\n\t\t\t<div \n\t\t\t\tclass=\"options-container\" \n\t\t\t\tdata-type=\"option\" \n\t\t\t\tdata-cart-option-id=\"cart_option_id\" \n\t\t\t\tdata-macro=\"macroName\">\n\t\t\t<\/div>\n\t\t\tRender all options placeholder:\n\t\t\t===============================\n\t\t\tAny HTML element that matches [data-type=all-options], if it's rendered by ItemDetails.View \n\t\t\twill be populated with the result of the execution of all the options with the macros, \n\t\t\teither the default one or the one configured in the itemOptions array.\n\t\t\tUse the data-exclude-options to select the options you dont want to be rendered here,\n\t\t\tthis is a coma separated list, for instace: cart_option_id1, cart_option_id2\n\t\t\t*\/\n\t\t%>\n\t\t\t<div \n\t\t\t\tclass=\"options-container\" \n\t\t\t\tdata-type=\"all-options\" \n\t\t\t\tdata-exclude-options=\"\">\n\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t<form action=\"#\" class=\"form-inline add-to-cart-form row-fluid\">\n                <div class=\"span4\">\n                    <% if (model.get('_itemType') !== 'GiftCert') { %>\n                        <label for=\"quantity\">\n                            <%= model.get('_minimumQuantity') !== 1 ? _('Quantity (Minimum of $(0) required)').translate(model.get('_minimumQuantity')) : _('Quantity').translate() %>\n                        <\/label>\n                        <div class=\"control-group\">\n                            <input type=\"number\" name=\"quantity\" id=\"quantity\" class=\"input-mini quantity\" value=\"<%- model.get('quantity') %>\" min=\"1\">\n                        <\/div>\n                    <% } else { %>\n                        <div class=\"control-group\">\n                            <input type=\"hidden\" name=\"quantity\" id=\"quantity\" value=\"1\">\n                        <\/div>\n                    <% } %>\n                <\/div>\n                <div class=\"span8\">\n                    <div class=\"control-group\">\n                        <%= itemDetailsStock(model.getStockInfo()) %>\n                    <\/div>\n                    <button data-type=\"add-to-cart\" class=\"btn btn-primary add-to-cart\"<% if (!model.isReadyForCart()) {%> disabled<%}%>>\n                        <i class=\"icon-shopping-cart icon-white\"><\/i>\n                        <%=  model.cartItemId ? _('Update').translate() : _('Add to Cart').translate() %>\n                    <\/button>\n                    <br\/>\n                <\/div>\n\t\t\t<\/form>\n\t\t\t<div data-type=\"product-lists-control\" style=\"margin-bottom: 9px !important\"><\/div>\n\t\t\t<div data-type=\"alert-placeholder\"><\/div>\n\n            <a class=\"btn btn-primary\" data-touchpoint=\"home\" data-name=\"view-full-details\" data-hashtag=\"#<%= item_url %>\" href=\"<%= item_url %>\">\n                <%= _('View full details').translate() %>\n            <\/a>\n\t\t<% } %>\n\t<\/div>\n<\/div>","modal_gallery_tmpl":"<div id=\"display-option-gallery\"><\/div>","shopping_cart_tmpl":"<!--\nChange History\n--------------\nDate: 14-03-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-34\nChange Description: Price in the items matches the total in The order summary\n-->\n<%\n\tvar lines = view.model.get('lines')\n\t,\tapplication = view.options.application\n\t,\tcontinueURL = application.getConfig('siteSettings.sitetype') === 'ADVANCED' ?  _(application.getConfig('defaultSearchUrl')).fixUrl() : ''\n\t,\tcrumbTrail = [\n\t\t\t{href: '\/', text: _('Home').translate(), 'data-touchpoint': 'home'}\n\t\t,\t{href: '\/cart', text: _('Shopping Cart').translate()}\n\t\t]\n    ,   clientID = application.getCart().get(\"lines\").get(application.getCart().get(\"latest_addition\"));\n\n    if(!_.isUndefined(clientID)){\n        clientID = _.where(clientID.get(\"options\"), {id: \"CUSTCOL_TAILOR_CLIENT\"});\n        if(clientID && clientID.length > 0){\n            clientID = clientID[0].value;\n            continueURL = \"\/item-types?client=\" + clientID;\n        }\n    } else {\n        continueURL = \"\/tailorclient\";\n    }\n\n\tvar paramFragmentValue = _.getUrlParameterValue('fragment');\n\tvar isFragmentCart = (paramFragmentValue == 'cart') ? true : false;\n\n\tif (isFragmentCart)\n\t{\n\t\t\/\/jQuery(\"li[class='mini-cart-summary-container']\").find(\"[data-hashtag='#cart']\").click()\n\t\tjQuery(\"[id='swx-minicart-gotocart']\").click();\n\t}\n\n    \/\/JHD-34 Start\n    var sum = 0.00;\n    lines.each(function (line, index) {\n        var tempLineTotal =  _.where(line.get(\"options\"), {id: \"CUSTCOL_ORDER_LIST_LINE_ITEM_TOTAL\"});\n        if(!tempLineTotal[0]){\n            if(line.get(\"options\")){\n            line.get(\"options\").push({name: \"Item Total\", id: \"CUSTCOL_ORDER_LIST_LINE_ITEM_TOTAL\", value: \"0.00\", displayvalue: \"0.00\"});\n            tempLineTotal =  _.where(line.get(\"options\"), {id: \"CUSTCOL_ORDER_LIST_LINE_ITEM_TOTAL\"});\n            }\n\t\t}\n        var lineTotal = tempLineTotal[0] ? tempLineTotal[0].value : 0;\n        sum = sum + parseFloat(lineTotal);\n    });\n    var linesTotalSum = parseFloat(sum).toFixed(2);\n    \/\/JHD-34 End\n\n%>\n\n<style>\n    .breadcrumb.hidden-phone{\n        margin-bottom: 0px;\n\n        padding-bottom: 0px;\n    }\n\n    .no-margin-top{\n        padding-top:0px;\n        padding-bottom:0px;\n    }\n\n\n<\/style>\n<% if (lines && lines.length) { %>\n\t<div class=\"view-header container\">\n\t\t<%= breadcrumb(crumbTrail) %>\n\t\t<header class=\"shopping-cart-header\">\n\t\t\t<a class=\"pull-right btn btn-expanded continue-shopping\" href=\"<%= continueURL %>\" data-touchpoint=\"home\" data-hashtag=\"#<%= continueURL %>\">\n\t\t\t\t<%= _('Continue Shopping').translate() %>\n\t\t\t<\/a>\n\t\t\t<h1 class=\"no-margin-top\"><%= view.page_header %><\/h1>\n\t\t<\/header>\n\t<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n\t\t\t<div class=\"row-fluid\" style=\"padding:10px;color:red;\">IMPORTANT: FACTORY IS NOW OPEN BUT THE CORONAVIRUS HAS CAUSED FURTHER DELAYS<\/div>\n        <div class=\"row-fluid view-body\">\n            <section class=\"span9\">\n\t\t\t\t\t\t\t\t<div id=\"cart-alert-placeholder\" class=\"alert-placeholder\" data-type=\"alert-placeholder\">\n\n\t\t\t\t\t\t\t\t<\/div>\n                <div class=\"box-cont\">\n                    <div data-confirm-message class=\"confirm-message\"><\/div>\n                    <header class=\"shopping-cart-heading\">\n                        <div class=\"row-fluid\">\n                            <div class=\"span3 strong\"><%= _('Items').translate() %><\/div>\n                            <div class=\"span9\">\n                                <div class=\"span3 offset6 strong\"><%= _('Qty').translate() %><\/div>\n                                <div class=\"span3 strong\"><%= _('Subtotal').translate() %><\/div>\n                            <\/div>\n                        <\/div>\n                    <\/header>\n                    <% lines.each(function (line, index) { %>\n                        <%= itemListNavigable({\n                            line: line\n                        ,\tview: view\n                        ,\tshowActions: true\n                        }) %>\n                    <% }) %>\n                <\/div>\n            <\/section>\n            <section class=\"span3\">\n                <%= shoppingCartSummary(view.model, application.getConfig('siteSettings'), {\n                    checkout: application.getConfig('siteSettings.checkout')\n                ,\tcontinueURL: continueURL\n                ,\tshowActions: true\n                }, linesTotalSum) %> <!-- JHD-34 -->\n            <\/section>\n        <\/div>\n        <div class=\"view-footer\">\n            <div class=\"shopping-cart\" data-type=\"saved-for-later-placeholder\"><\/div>\n            <%\n                var relatedWrap = function relatedWrap (item) {\n                    return SC.macros.relatedItem(item, application);\n                };\n            %>\n            <div class=\"row-fluid\" data-type=\"related-items-placeholder\"><\/div>\n            <div class=\"row-fluid\" data-type=\"correlated-items-placeholder\"><\/div>\n        <\/div>\n    <\/div>\n<\/div>\n\n<% } else { %>\n\t<div class=\"view-header container\">\n\t\t<%= breadcrumb(crumbTrail) %>\n\t<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <section class=\"view-body empty-cart\">\n            <h2 class=\"no-margin-top\"><%= _('Your Shopping Cart is empty').translate() %><\/h2>\n            <p class=\"no-margin-bottom\">\n                <%= _('Continue Shopping on our $(0)').translate('<a href=\"\/\" data-touchpoint=\"home\">' + _('Home Page').translate() + '<\/a>') %>\n            <\/p>\n            <span8 style=\"margin-left:0px\">\n                <div class=\"row-fluid\" data-type=\"saved-for-later-placeholder\"><\/div>\n            <\/span8>\n        <\/section>\n    <\/div>\n<\/div>\n<% } %>\n","product_details_tmpl":"<%\n\tvar model = view.model;\n\tvar application = view.application;\n\tvar cart = application.getCart();\n\tvar cartLines = cart.get('lines');\n\tvar item = view.model.itemOptions.custcol_producttype.internalid;\n\tvar itemoptions_detail = model.get('_optionsDetails');\n\tvar vendorpick = _.find(itemoptions_detail.fields,function(f){return f.internalid == \"custcol_vendorpicked\";});\n\tvar vendorpicklist = [];\n\tif(vendorpick)\n\t\tvendorpicklist = vendorpick.values;\n%>\n\t<div class=\"view-header container\" itemscope itemtype=\"http:\/\/schema.org\/WebPage\">\n\n\t\t<%= breadcrumb(model.get('_breadcrumb')) %>\n\t\t\t<div id=\"banner-content-top\" class=\"content-banner banner-content-top\"><\/div>\n\t<\/div>\n\t<div class=\"gradient-content\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"view-body\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t\t\t\t<meta itemprop=\"url\" content=\"<%= model.get('_url') %>\">\n\t\t\t\t<div id=\"banner-details-top\" class=\"content-banner banner-details-top\"><\/div>\n\t\t\t\t<div class=\"row-fluid item-detailed-page\">\n\t\t\t\t\t<div class=\"span5 item-detailed-image-container\">\n\t\t\t\t\t\t<%\/\/<div id=\"banner-image-top\" class=\"content-banner banner-image-top\"><\/div>%>\n\t\t\t\t\t\t\t<%= SC.macros[view.application.getConfig('macros.itemDetailsImage')](model.get('_images', true), view) %>\n\t\t\t\t\t\t\t\t<%\/\/<div id=\"banner-image-bottom\" class=\"content-banner banner-image-bottom\"><\/div>%>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span7\">\n\t\t\t\t\t\t<div class=\"well item-detailed-info\">\n\t\t\t\t\t\t\t<div class=\"well-header page-header\">\n\t\t\t\t\t\t\t\t<div id=\"page-header-title\">\n\t\t\t\t\t\t\t\t\t<div id=\"banner-summary-bottom\" class=\"content-banner banner-summary-bottom\"><\/div>\n\t\t\t\t\t\t\t\t\t<h1 itemprop=\"name\">\n\t\t\t\t\t\t\t\t\t\t<%= model.get('_pageHeader') %>\n\t\t\t\t\t\t\t\t\t<\/h1>\n\t\t\t\t\t\t\t\t\t<a class=\"btn dropdown-toggle show-wishlist\" href=\"<%=view.model.get('_breadcrumb')[2].href%>\">\n\t\t\t\t\t\t\t\t\t\tChange Fabric\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t<!-- removed ratings -->\n\t\t\t\t\t\t\t\t\t<p class=\"lead lead-small\">\n\t\t\t\t\t\t\t\t\t\t<%= SC.macros.showItemPrice(model.getPrice(), model.getStockInfo().isInStock) %>\n\t\t\t\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t<div class=\"clearfix\"><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"well-body\">\n\t\t\t\t\t\t\t\t<% if (!model.get('_isGridy')) { %>\n\t\t\t\t\t\t\t\t\t<% if (!model.isProperlyConfigured()) { %>\n\t\t\t\t\t\t\t\t\t\t<div class=\"alert alert-error\">\n\t\t\t\t\t\t\t\t\t\t\t<%= _('<b>Warning<\/b>: This item is not properly configured, please contact your administrator.').translate() %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div data-type=\"alert-placeholder\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<% } else {\n\t\t\t\t\t\t\t\/*\n\t\t\t\t\t\t\tRender a single option placeholder:\n\t\t\t\t\t\t\t===================================\n\t\t\t\t\t\t\tAny HTML element that matches [data-type=option], if it's rendered by ItemDetails.View\n\t\t\t\t\t\t\twill be populated by the render of a single macro for a single option, especified by the attributes:\n\t\t\t\t\t\t\t\tdata-cart-option-id: the id of the cart opion\n\t\t\t\t\t\t\t\tdata-macro: the macro you want this option to be rendered with, if omited the default for the option will be used\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"options-container\"\n\t\t\t\t\t\t\t\tdata-type=\"option\"\n\t\t\t\t\t\t\t\tdata-cart-option-id=\"cart_option_id\"\n\t\t\t\t\t\t\t\tdata-macro=\"macroName\">\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\tRender all options placeholder:\n\t\t\t\t\t\t\t===============================\n\t\t\t\t\t\t\tAny HTML element that matches [data-type=all-options], if it's rendered by ItemDetails.View\n\t\t\t\t\t\t\twill be populated with the result of the execution of all the options with the macros,\n\t\t\t\t\t\t\teither the default one or the one configured in the itemOptions array.\n\t\t\t\t\t\t\tUse the data-exclude-options to select the options you dont want to be rendered here,\n\t\t\t\t\t\t\tthis is a coma separated list, for instace: cart_option_id1, cart_option_id2\n\t\t\t\t\t\t\t*\/\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span7\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"default-options-container\" class=\"options-container default-options-container\" data-type=\"all-options\" data-exclude-options=\"\n                                       \t\tcustcol_designoptions_jacket,\n                                       \t\tcustcol_designoptions_overcoat,\n                                       \t\tcustcol_designoptions_shirt,\n                                       \t\tcustcol_designoptions_trouser,\n                                       \t\tcustcol_designoptions_waistcoat\n                                       \t\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<form action=\"#\" class=\"form-inline add-to-cart-form\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% if( window.vendor){%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"section-header\">Fabric<\/h2><hr\/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion\" id=\"fabric-availability\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#fabric-availability-options\" data-parent=\"#fabric-availability\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFabric Availability\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"fabric-availability-options\" class=\"accordion-body collapse\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if(window.vendor.vendorLink){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\" >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;\">Vendor Link : <\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='<%= window.vendor.vendorLink %>' style=\"text-decoration:underline;\" target=\"_blank\"><%= window.vendor.vendorLink %><\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\" >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;\">Vendor File : <\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href='<%= window.vendor.vendorFile %>' style=\"text-decoration:underline;\" target=\"_blank\"><%= window.vendor.vendorFileName %><\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\" >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;margin-right:10px;\">Checked ?<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label style=\"font-size: 1em\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" value=\"\" id='chkItem' <%= (model.get('vendorname') == \"AC Shirt\" || model.get('vendorname') == \"Jerome Clothiers\" || model.get('vendorname') == \"Jerome Clothiers Cut Length\") ? \"checked\":\"\" %>>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion\" id=\"fabric-cmt\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#fabric-cmt-options\" data-parent=\"#fabric-cmt\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCMT Fabric\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"fabric-cmt-options\" class=\"accordion-body collapse\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" for=\"fabric-cmt-vendor\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;width:30%;\">Fabric Vendor <\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<input type=\"text\" value=\"\" name=\"fabric-cmt-vendor\" id=\"fabric-cmt-vendor\" class=\"input-large\" style=\"width:40%;\" value=\"\">-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select name=\"fabric-cmt-vendor\" id=\"fabric-cmt-vendor\" class=\"input-large\" style=\"width:40%;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% _.each(vendorpicklist,function(option){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"<%= option.internalid %>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><%= option.label %><\/option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" for=\"fabric-cmt-othervendorname\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;width:30%;\">*Other Fabric Vendor <\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" value=\"\" name=\"fabric-cmt-othervendorname\" id=\"fabric-cmt-othervendorname\" class=\"input-large\" style=\"width:40%;\" value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" for=\"fabric-cmt-collection\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;width:30%;\">Fabric Collection <\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" value=\"\" name=\"fabric-cmt-collection\" id=\"fabric-cmt-collection\" class=\"input-large\" style=\"width:40%;\" value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" for=\"fabric-cmt-code\" style=\"font-size: 13px;font-weight: normal;line-height: 18px;width:30%;\">Fabric Code <\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" value=\"\" name=\"fabric-cmt-code\" id=\"fabric-cmt-code\" class=\"input-large\" style=\"width:40%;\" value=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<%}%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"clothing-details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa-li fa fa-spinner fa-spin\" style=\"position: static;\"><\/i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div data-type=\"product-lists-control\" class=\"list-control\"><\/div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"fitprofile-details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa-li fa fa-spinner fa-spin\" style=\"position: static;\"><\/i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- previous location of quantity -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if(model.get('custitem_clothing_type') !== \"&nbsp;\") { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h2 style=\"border-bottom: 1px solid #eee;padding-bottom: 5px;margin-bottom: 10px;margin-top: 35px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Fabric Quantity').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/h2>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else {\n\t\t\t\t\t\t\t\t\t\t\tif(model.get('itemtype') === 'NonInvtPart'){\n\t\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= _('Quantity').translate() %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/h2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr \/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% \t}\n\t\t\t\t\t\t\t\t\t\t} %>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style=\"margin-bottom:30px;\">\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if (model.get('_itemType') !== 'GiftCert'){\n\t\t\t\t\t\t\t\t\t\t\t\tvar minimum_quantity = model.get('_minimumQuantity', true);\n\t\t\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\" >\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" style=\"width:100px;font-size: 13px;font-weight: normal;line-height: 18px;\">Design<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select id=\"fabric_extra\" style=\"width:220px;\" class=\"display-option-dropdown\" name=\"fabric_extra\" data-type=\"fabric_extra\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"Please Select\" name=\"Please Select\">\tPlease Select<\/option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar extra = window.extraQuantity[1].values;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar results = _.filter(extra, function(fextra){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn fextra.code == item;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(results && results.length > 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_.each(results[0].design,function(option){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"<%= option.value %>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"<%=option.code%>\"><%= option.code %><\/option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% });} %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if(model.get('itemtype') === 'NonInvtPart') { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if(model.get('custitem_clothing_type') !== \"&nbsp;\") { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label style=\"width:100px\" for=\"quantity\"> <%=_('Metres').translate(minimum_quantity)%><\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else {%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label style=\"width:100px\" for=\"quantity\"> <%=_('Quantity').translate(minimum_quantity)%><\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } }%>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\" style=\"display:inline-block;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if(model.get('custitem_clothing_type') !== \"&nbsp;\") { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" step=\"0.05\" name=\"custcol_fabric_quantity\" id=\"quantity\" class=\"input-mini quantity\" value=\"1\" min=\"1\" readonly>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(model.get('itemtype') === 'NonInvtPart') {\n\t\t\t\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" name=\"custcol_fabric_quantity\" id=\"quantity\" class=\"input-mini quantity\" value=\"1\" min=\"1\" readonly>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% \t}\n\t\t\t\t\t\t\t\t\t\t\t\t} %>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a data-toggle=\"show-in-modal\" href=\"\/imagegallery\/FABQTY|Fabric Usage Chart\">\n                                                    <i class=\"icon-question-sign summary-promocode-help\"><\/i>\n                                                <\/a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"custcol_fabric_quantity\" id=\"quantity\" value=\"1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= itemDetailsStock(model.getStockInfo()) %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"custcol_avt_date_needed\" value=\"\">\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button data-type=\"add-to-cart\" class=\"btn btn-primary btn-large add-to-cart-btn\" <% if (!model.isReadyForCart()) {%> disabled<%}%>>\n                                            <%= _('Add to Cart').translate() %>\n                                        <\/button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/form>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"banner-content-top\" class=\"content-banner banner-content-top\"><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<% if (view.details && view.details.length) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t<% _.each(view.details, function (detail, index) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"well-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-cont\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= detail.name %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/h2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= detail.content %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- removed social icons -->\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<!-- removed item ratins, desc, web desc -->\n\t\t\t\t\t\t<div id=\"banner-details-bottom\" class=\"content-banner banner-details-bottom\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% if (model.get('_isGridy')) { %>\n\t\t\t\t\t\t<% if (!model.isProperlyConfigured()) { %>\n\t\t\t\t\t\t\t<div class=\"alert alert-error\">\n\t\t\t\t\t\t\t\t<%= _('<b>Warning<\/b>: This item is not properly configured, please contact your administrator.').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t<div data-type=\"alert-placeholder\"><\/div>\n\t\t\t\t\t\t\t\t<div id=\"default-options-container\" class=\"options-container default-options-container\" data-type=\"all-options\" data-exclude-options=\"\">\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t<div class=\"grid-options-container\" data-type=\"grid-options\"><\/div>\n\n\t\t\t\t\t\t\t\t<form action=\"#\" class=\"form-inline add-to-cart-form\">\n\t\t\t\t\t\t\t\t\t<div id=\"clothing-details\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa-li fa fa-spinner fa-spin\" style=\"position: static;\"><\/i>\n\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t<div id=\"fitprofile-details\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa-li fa fa-spinner fa-spin\" style=\"position: static;\"><\/i>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<% if (model.get('_itemType') !== 'GiftCert'){ %>\n\t\t\t\t\t\t\t\t\t\t<label for=\"quantity\">\n\t\t\t\t\t\t\t\t\t\t<%= model.get('_minimumQuantity') !== 1 ? _('Quantity (Minimum of $(0) required)').translate(model.get('_minimumQuantity')) : _('Quantity').translate() %>\n\t\t\t\t\t\t\t\t\t<\/label>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity\" class=\"input-mini quantity\" value=\"<%- model.get('quantity') %>\" min=\"1\">\n\t\t\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"quantity\" id=\"quantity\" value=\"1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= itemDetailsStock(model.getStockInfo()) %>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<button data-type=\"add-to-cart\" class=\"btn btn-primary add-to-cart-btn\" <% if (!model.isReadyForCart()) {%> disabled<%}%>>\n\t\t\t\t\t<%= _('Add to Cart').translate() %>\n\t\t\t\t<\/button>\n\t\t\t\t\t\t\t\t<\/form>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<div data-type=\"product-lists-control\" style=\"margin-bottom: 9px !important\"><\/div>\n\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid\" data-type=\"related-items-placeholder\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid\" data-type=\"correlated-items-placeholder\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<div id=\"banner-details-bottom\" class=\"content-banner banner-details-bottom\"><\/div>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<!-- ################# start modal window ################# -->\n\t\t\t<button id=\"butt-modal\" class=\"btn btn-primary btn-lg\" data-toggle=\"modal\" data-target=\"#modal-xyla\" style=\"display: none;\">Modal Butt<\/button>\n\n\t\t\t<div class=\"modal fade\" id=\"modal-xyla\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n\t\t\t\t<div class=\"modal-dialog\">\n\t\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t\t<button id=\"swx-modal-butt-close\" type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;<\/button>\n\t\t\t\t\t\t\t<h3 id=\"h3-profile-header\" class=\"modal-title global-views-modal-content-header\"><\/h3>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div id=\"div-modal-body\" class=\"modal-body\"><\/div>\n\t\t\t\t\t\t<div class=\"modal-footer\" style=\"display: none;\">\n\t\t\t\t\t\t\t<button id=\"butt-modal-close\" type=\"button\" class=\"btn-u btn-u-sea-shop btn-block\" data-dismiss=\"modal\" style=\"width: auto;\">Close<\/button>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<!-- \/.modal-content -->\n\t\t\t\t<\/div>\n\t\t\t\t<!-- ################# end modal window ################# -->\n","category_browse_tmpl":"<div class=\"view-header container\" itemscope itemtype=\"http:\/\/schema.org\/WebPage\">\n\t<%= breadcrumb(view.getBreadcrumb()) %>\n\t<%\n\t\tif (Backbone.history.fragment.split(\"?\").length > 1) {\n\t\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t\t,\tclientId = Backbone.history.fragment.split(\"?\")[1].split(\"=\")[1].split(\"&\")[0] || \"\";\n\n\t\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tclientId = null\n\t\t}\n\t%>\n<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n\t    <div class=\"row-fluid view-body\">\n\t\t\t<section id=\"category-list-container\" class=\"span12 category-list-container\">\n\t\t\t\t<div id=\"banner-section-top\" class=\"content-banner banner-section-top\"><\/div>\n\t\t\t\t<% _.each(view.facets, function(facet){ %>\n\t\t\t\t\t<% if (view.facets.length > 1) { %>\n\t\t\t\t\t<div class=\"category-list-header\">\n\t\t\t\t\t\t<span class=\"category-list-heading\">\n\t\t\t\t\t\t\t<%= facet.configuration.name %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<a href=\"\/<%= facet.configuration.url %>\" class=\"pull-right\">\n\t\t\t\t\t\t\t<%= _('Shop All &gt;').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<%= displayInRows(facet.values.values, categoryCell, 4, facet.values.id == 'category', clientId) %>\n\t\t\t\t<% }) %>\n\t\t\t\t<div id=\"banner-section-bottom\" class=\"content-banner banner-section-bottom\"><\/div>\n\t\t\t<\/section>\n\t\t<\/div>\n    <\/div>\n<\/div>\n","layout_tmpl":"<div id=\"layout\" class=\"layout\">\n\t<header id=\"site-header\" class=\"site-header\">\n\t\t<%= header(view) %>\n\t<\/header>\n\t<!-- Main Content Area -->\n    <div id=\"content\" class=\"content\"><\/div>\n\t<!-- \/ Main Content Area -->\n\t\n\t<%= SC.macros.quickLinks(SC._applications.Shopping.getConfig('quickLinks')) %>\n\t<div id=\"home-spacer\" class=\"spacer\">\n\t<\/div>\n<\/div>","review_form_preview_tmpl":"<div class=\"container\">\n    <%= breadcrumb(view.getBreadcrumb()) %>\n<\/div>\n\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <div class=\"row-fluid review-form prev-review\">\n            <div class=\"span3\">\n                <div class=\"rev-form-side\">\n                    <%= itemCellGrid(view.item, view) %>\n                <\/div>\n             <\/div>\n            <div class=\"span9\">\n                <form>\n                    <h1><%= view.page_header %><\/h1>\n                    <div class=\"product-review-preview\">\n                        <%= showReview(view.model, view.options.application.getConfig('productReviews')) %>\n                    <\/div>\n                    <div class=\"form-actions\">\n                        <button type=\"submit\" class=\"btn btn-primary\"><%= _('Submit Review').translate() %><\/button>\n                        <button type=\"reset\" class=\"btn\" data-action=\"edit-review\"><%= _('Edit Review').translate() %><\/button>\n                        <a href=\"<%= view.item.get('_url') %>\" class=\"btn\"><%= _('Cancel').translate() %><\/a>\n                    <\/div>\n                <\/form>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>\n","shopping_cart_confirmation_modal_tmpl":"<%\n\tvar line = view.line\n\t,\titem = line.get('item')\n\t,\tapplication = view.options.application\n\t,\tclientID = application.getLayout().currentView.client;\n%>\n<div class=\"row-fluid\">\n\t<div class=\"span4 item-thumbnail-container\">\n\t\t<div class=\"thumbnail\">\n\t\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t\t<img src=\"<%= view.options.application.resizeImage(thumbnail.url, 'main') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"span8 item-details-container\">\n\t  <% if(view.hasNoFitProfile){ %>\n\t\t<h3 class=\"alert alert-error\">Please note that you have not selected a fit profile(s)<\/h3>\n\t\t<% } %>\n\t\t<h3 class=\"cart-confirmation-item-name\"><%= item.get('_sku') %><\/h3>\n\t\t<p class=\"lead lead-small\">\n\t\t\t<%= SC.macros.showItemPrice(line.getPrice(), item.getStockInfo().isInStock) %>\n\t\t<\/p>\n\t\t<!-- Item Options -->\n\t\t<%= item.renderAllOptionSelected() %>\n\n\t\t<div id=\"cart-confirmation-modal-message\" class=\"promotional-message cart-confirmation-modal-message\"><\/div>\n\t\t<div class=\"cart-modal-actions\">\n\t\t\t<a href=\"\/cart\" class=\"btn btn-primary view-cart\" data-trigger=\"go-to-cart\"><%= _('View Cart &amp; Checkout').translate() %><\/a>\n\t\t\t<% if(clientID){ %>\n\t\t\t\t<a class='btn continue-shopping' data-dismiss=\"modal\" data-hashtag='#\/item-types?client=<%=clientID%>' data-touchpoint='home' href='\/item-types?client=<%=clientID%>'>\n\t\t\t\t\t<%=_('Continue Shopping').translate()%>\n\t\t\t\t<\/a>\n\t\t\t<% } else { %>\n\t\t\t\t<a class='btn continue-shopping' data-dismiss=\"modal\" data-hashtag='#\/item-types' data-touchpoint='home' href='\/item-types'>\n\t\t\t\t\t<%=_('Continue Shopping').translate()%>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t\t<a href=\"\/tailorclient\" class=\"btn continue-shopping-new\" data-dismiss=\"modal\" data-hashtag='#\/tailorclient' data-touchpoint='home'>\n\t\t\t\t<%= _('Continue Shopping with New Client').translate() %>\n\t\t\t<\/a>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% if (item.get('_relatedItems') && item.get('_relatedItems').length) { %>\n<div class=\"related-items\">\n\t<h4><%= _('You may also like').translate() %><\/h4>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, view.options.application);\n\t\t\t};\n\t\t%>\n\t\t<%= displayInRows(item.get('_relatedItems').first(3), relatedWrap, 3) %>\n\t<\/div>\n<\/div>\n<% } %>\n","list_header_tmpl":"<% var collection = view.collection; %>\n<!-- Todo: Each component should be a macro -->\n<div class=\"list-header text-right clearfix <%= view.classes || '' %>\">\n\t<% if (view.displays) { %>\n\t\t<div class=\"item-listing-display pull-left\">\n\t\t\t<span class=\"btn-group\">\n\t\t\t\t<% _(view.displays).each(function (option) { %>\n\t\t\t\t<a href=\"<%- _(view.displayer(option.id)).fixUrl() %>\"  class=\"btn <%= view.selectedDisplay.id === option.id ? 'active' : '' %>\"  title=\"<%= option.name %>\">\n\t\t\t\t\t<i class=\"<%= option.icon %>\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t\t<% }); %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (view.rangeFilter) { %>\n\t\t<%\n\t\t\tvar selected_range = view.selectedRange\n\t\t\t,\tfilter_range_options = view.rangeFilterOptions\n\t\t\t,\tfrom_min = filter_range_options.fromMin ? 'min=\"' + filter_range_options.fromMin + '\"' : ''\n\t\t\t,\tfrom_max = filter_range_options.fromMax ? 'max=\"' + filter_range_options.fromMax + '\"' : ''\n\t\t\t,\tto_min = filter_range_options.toMin ? 'min=\"' + filter_range_options.toMin + '\"' : ''\n\t\t\t,\tto_max = filter_range_options.toMax ? 'max=\"' + filter_range_options.toMax + '\"' : '';\n\t\t%>\n\t\t<label class=\"pull-left\" for=\"from\"><%= _('From').translate() %>\n\t\t\t<input class=\"input-date\" id=\"from\" pattern=\"(\\d){4}-(\\d){1,2}-(\\d){1,2}\" placeholder=\"<%= _('YYYY-MM-DD').translate() %>\" name=\"from\" type=\"<%= view.rangeFilter %>\" <%= from_min %> <%= from_max %> value=\"<%= selected_range.from %>\" data-action=\"range-filter\">\n\t\t<\/label>\n\t\t<label class=\"pull-left\" for=\"to\"><%= _('to').translate() %>\n\t\t\t<input class=\"input-date\" id=\"to\" pattern=\"(\\d){4}-(\\d){1,2}-(\\d){1,2}\" placeholder=\"<%= _('YYYY-MM-DD').translate() %>\" name=\"to\" type=\"<%= view.rangeFilter %>\" <%= to_min %> <%= to_max %> value=\"<%= selected_range.to %>\" data-action=\"range-filter\">\n\t\t<\/label>\n\t<% } %>\n\n\t<% if (view.filters) { %>\n\t\t<% var selected_filter = _.isFunction(view.selectedFilter.value) ? view.selectedFilter.value.apply(view.view) : view.selectedFilter.value  %>\n\t\t<select name=\"filter\" id=\"\" class=\"list-header-filter\" data-action=\"filter\">\n\t\t<% _.each(view.filters, function (item) { %>\n\t\t\t<% var item_value = _.isFunction(item.value) ? item.value.apply(view.view) : item.value %>\n\t\t\t<option value=\"<%= item_value %>\"  data-permissions=\"<%= item.permission %>\" <%= selected_filter === item_value ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t<% }) %>\n\t\t<\/select>\n\t<% } %>\n\n\t<% if (view.sorts) { %>\n\t\t<% var selected_sort = view.selectedSort.value %>\n\t\t<select name=\"sort\" id=\"\" class=\"list-header-sort\" data-action=\"sort\">\n\t\t<% _.each(view.sorts, function (item) { %>\n\t\t\t<option value=\"<%= item.value %>\" data-permissions==\"<%= item.permission %>\" <%= selected_sort === item.value ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t<% }) %>\n\t\t<\/select>\n\n\t\t<button class=\"btn list-header-sort-btn\" data-action=\"toggle-sort\">\n\t\t\t<i class=\"icon-arrow-up pull-left <%= view.order > 0 ? 'icon-white' : '' %>\"><\/i>\n\t\t\t<i class=\"icon-arrow-down pull-left <%= view.order < 0 ? 'icon-white' : '' %>\"><\/i>\n\t\t<\/button>\n\t<% } %>\n\n\t<% if (view.selectable && collection.length > 1) { %>\n\t\t<%\n\t\t\tvar unselected = collection.filter(function (inv)\n\t\t\t{\n\t\t\t\treturn !inv.get('checked');\n\t\t\t});\n\t\t%>\n\t\t<label class=\"pull-left v-center\" for=\"select-all\">\n\t\t\t<% if (unselected.length) { %>\n\t\t\t\t<input type=\"checkbox\" name=\"select-all\" id=\"select-all\" data-action=\"select-all\"> <%= _('Select All ($(0))').translate(collection.length) %>\n\t\t\t<% } else { %>\n\t\t\t\t<input type=\"checkbox\" name=\"select-all\" id=\"select-all\" data-action=\"unselect-all\" checked> <%= _('Unselect All ($(0))').translate(collection.length) %>\n\t\t\t<% } %>\n\t\t<\/label>\n\t<% } %>\n<\/div>\n\n<% if (collection.totalRecordsFound && collection.recordsPerPage) { %>\n\t<%\n\t\tvar pagination_result = pagination(_.extend({},\n\t\t\tview.options.application.getConfig('defaultPaginationSettings'),\n\t\t\t{\n\t\t\t\tcurrentPage: view.page\n\t\t\t,\ttotalPages: Math.ceil(collection.totalRecordsFound \/ collection.recordsPerPage)\n\t\t\t,\textraClass: 'pagination-small pull-right'\n\t\t\t,\tpager: view.pager\n\t\t}));\n\t%>\n\t<div class=\"clearfix\">\n\t\t<% if (view.options.showCurrentPage) {  %>\n\t\t<%= showingCurrent({\n\t\t\t\tcurrent_page: view.page\n\t\t\t,\titems_per_page: view.collection.recordsPerPage\n\t \t\t,\ttotal_items: view.collection.totalRecordsFound\n\t\t\t,\ttotal_pages: Math.ceil(view.collection.totalRecordsFound \/ view.collection.recordsPerPage)\n\t\t\t,\textraClass: 'pull-left'\n\t\t}) %>\n\t\t<% } %>\n\n\t\t<%= pagination_result %>\n\t<\/div>\n<% } %>\n","product_list_details_tmpl":"<%\n\tvar config = view.application.Configuration.product_lists\n\t,\titems = view.model.get('items')\n\t, \tout_of_stock_items = items.filter(function(product_list_item) { return !product_list_item.get('item').ispurchasable; });\n%>\n<section class=\"product_list_details\">\n\t<header>\n\t\t<h3 class=\"list-header-title\">\n\t\t\t<%= view.model.get('type').name === 'predefined' ? _(view.model.get('name')).translate() : view.model.get('name') %> \n\t\t\t<% if (items.length > 0) { %>\n\t\t\t\t<span class=\"product-list-details-count\">(<%= items.length %> <%= items.length===1 ? _('Item').translate() : _('Items').translate() %>)<\/span>\n\t\t\t<% } %>\n\t\t<\/h3>\n\n\t\t<a href=\"\/\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Account').translate() %>\n\t\t<\/a>\n\n\t\t<hr class=\"divider-small\">\n\t\t\n\t\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\t<\/header>\t\n\n\t<%\n\t\tvar items = view.model.get('items');\n\n\t\tif (items.length > 0)\n\t\t{\t\t\t\n\t\t\tvar displayOption = view.getDisplayOption()\n\t\t\t,\tproductListDisplay = function (row)\n\t\t\t\t{\n\t\t\t\t\treturn SC.macros[displayOption.macro](row, view);\n\t\t\t\t};\n\t%>\n\t\t\t<div data-type=\"product-list-commands\" class=\"product-list-header\">\n\t\t\t\t<div class=\"list-details-actions text-right pull-right\">\n\t\t\t\t\t<% \/* TODO: the following block has repeated markup for mobile and desktop. *\/ %>\n\t\t\t\t\t<div class=\"hidden-phone btn-group pull-left text-left list-actions\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<% if (view.model.get('type').name !== 'predefined') { %>\n\t\t\t\t\t\t\t<a href=\"#\" data-action=\"edit-list\" class=\"btn\"><%= _('Edit list').translate()%><\/a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"><\/span><\/a>\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t<li><a href=\"#\" data-action=\"delete-list\"><%= _('Delete this list').translate()%><\/a><\/li>\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<button class=\"btn <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%> list-details-add-list-to-cart btn-expanded\" data-action=\"add-list-to-cart\" <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>><%= _('Add list to cart').translate() %><\/button>\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"visible-phone\">\n\t\t\t\t\t\t<button class=\"btn <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%> list-details-add-list-to-cart btn-expanded\" data-action=\"add-list-to-cart\" <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>><%= _('Add list to cart').translate() %><\/button>\t\n\n\t\t\t\t\t\t<% if (view.model.get('type').name !== 'predefined') { %>\n\t\t\t\t\t\t\t<button class=\"btn btn-link pull-right\" data-action=\"edit-list\"><%= _('Edit list').translate()%><\/button>\n\t\t\t\t\t\t\t<button class=\"btn btn-link pull-right\" data-action=\"delete-list\"><%= _('Delete this list').translate()%><\/button>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\t\n\n\t\t\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t\t\t<div class=\"product-list-items\" data-type=\"product-list-items\">\n\t\t\t\t<%= displayInRows(items.models, productListDisplay, displayOption.columns) %> \n\t\t\t<\/div>\n\t<% } else { %>\n\t\t<div class=\"product-list-header\">\t\t\n\t\t\t<div class=\"product-list-header-no-items span9\">\n\t\t\t\t<%= _('You don\\'t have items in this list yet. Explore the store or search for an item you would like to add.').translate() %>\t\n\t\t\t<\/div>\n\t\t\t<div class=\"span3\">\n\t\t\t\t<% if (view.model.get('type').name !== 'predefined') { %>\n\t\t\t\t\t<div class=\"btn-group pull-right list-actions\">\n\t\t\t\t\t\t<a href=\"#\" data-action=\"edit-list\" class=\"btn\"><%= _('Edit list').translate()%><\/a>\n\t\t\t\t\t\t<a href=\"#\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"><\/span><\/a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t\t<li><a href=\"#\" data-action=\"delete-list\"><%= _('Delete this list').translate()%><\/a><\/li>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div data-type=\"list-header-placeholder\"><\/div>\n\t<% } %>\n<\/section>","home_tmpl":"<%\n\tvar filePath = '\/SCA QuickStart - Basic\/ShopFlow\/templates\/home\/home.txt';\n\t\/\/console.log('filePath: ' + '\\n' + filePath);\n\n\n\tvar user = view.options.application.getUser();\n\tvar logoUrl = user.get('LogoUrl');\n\tvar bannerUrl = user.get('BannerUrl');\n\n\tvar cartParameterFromMyAccount = _.getUrlParameterValue('cartParameterFromMyAccount');\n\tvar cartParameterFromMyAccountSplit = cartParameterFromMyAccount.split('?')\n\n\tif (cartParameterFromMyAccountSplit[0] == 'T')\n\t{\n\n\n\t\twindow.location = '\/cart'\n\t}\n\n\n\n%>\n\n<section style=\"display:inline;\">\n\t<!--\n    <div class=\"span4\" data-cms-area=\"home_banner_1\" data-cms-area-filters=\"global\"><\/div>\n    <div class=\"span4\" data-cms-area=\"home_banner_2\" data-cms-area-filters=\"path\"><\/div>\n    <div class=\"span4\" data-cms-area=\"home_banner_3\" data-cms-area-filters=\"path\"><\/div>\n    -->\n\n    <!-- <div class=\"slider-wrapper\">\n        <div id=\"home-slider\" class=\"home-slider\"><\/div>\n    <\/div> -->\n\n    <div id=\"tailor-banner\" >\n        <%\n\t\t\t\t\/\/if (SC.ENVIRONMENT.LOGOBRAND.bnrUrl) {\n\t\t%>\n\n        <%\n\t\t\t\/\/\t<img src=\"<!--%= SC.ENVIRONMENT.LOGOBRAND.bnrUrl %-->\" class=\"center-block\"%-->\n\t\t%>\n\n\t\t<%\n\t\t\/\/}\n\t\t%>\n\n\t\t<img src=\"<%=bannerUrl%>\" class=\"center-block\">\n\n    <\/div>\n    <!-- <div class=\"footer-clear-line\"><\/div> -->\n\n    <!-- Home Merchandising zone -->\n    <!-- <div class=\"full-gradient-home merchandising\">\n        <div id=\"home-merchandising\" class=\"home-merchandising container\" data-type=\"merchandising-zone\" data-id=\"home-merchandising\"><\/div>\n    <\/div> -->\n    <!-- \/ Home Merchandising zone -->\n    <!-- Home content delivery zone -->\n    <!-- <div class=\"full-gradient-home cdelivery\">\n        <div id=\"home-promo-content\" class=\"home-promo-content container\"><\/div>\n    <\/div> -->\n    <!-- \/ Home content delivery zone -->\n\n<\/section>\n","page_not_found_tmpl":"<div class=\"view-header container\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <div id=\"page-not-found-content\" class=\"view-body page-not-found-content\">\n            <%= _('Sorry, we could not load the content you requested.').translate() %>\n        <\/div>\n    <\/div>\n<\/div>","fit_profile_tmpl":"<%\n\t\n\t\n\t\/\/var macros = SC.macros;\n\tvar clientCollection = view.model.client_collection;\n\tvar stClientCollection = JSON.stringify(clientCollection, 'key', '\\t');\n\tvar arrObjClientCollection = (!_.isNullOrEmpty(stClientCollection)) ? JSON.parse(stClientCollection) : [];\n\t\n\tvar filterClientName = view.model.get('swx_order_client_name');\n\tvar filterClientEmail = view.model.get('swx_order_client_email');\n\tvar filterClientPhone = view.model.get('swx_order_client_phone');\n\n\tvar objFilters = {};\n\tobjFilters['name'] = filterClientName;\n\tobjFilters['email'] = filterClientEmail;\n\tobjFilters['phone'] = filterClientPhone;\n\t\n\tvar arrObjClient = _.getArrObjOrderClientList(arrObjClientCollection, objFilters)\n\t\n\n%>\n\n<div class=\"container\">\n\t<h3>Tailor's Client<\/h3>\n\t<% if(view.model.client_collection){ %>\n\t\t<div style=\"display: none;\">\n\t\t\t<%= clientsOptionDropdown(view.model.client_collection, view.options.application.getUser().get(\"internalid\")) %>\n\t\t<\/div>\n\t<% } %>\n\t\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t<div id=\"swx-order-client-contents\" style=\"margin-bottom: 20px;\">\n\t\t\t<div class=\"row-fluid\" style=\"border-bottom: solid 1px #e5e5e5; margin-bottom: 20px;\">\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label for=\"swx-order-client-name\" class=\"control-label\">Name<\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" value=\"<%=filterClientName%>\" name=\"swx-order-client-name\" id=\"swx-order-client-name\" class=\"input-large\" style=\"width: 100%;\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\t\n\t\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label for=\"swx-order-client-email\" class=\"control-label\">Email<\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" value=\"<%=filterClientEmail%>\" name=\"swx-order-client-email\" id=\"swx-order-client-email\" class=\"input-large\" style=\"width: 100%;\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\t\n\t\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label for=\"swx-order-client-phone\" class=\"control-label\">Phone<\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" value=\"<%=filterClientPhone%>\" name=\"swx-order-client-phone\" id=\"swx-order-client-phone\" class=\"input-large\" style=\"width: 100%;\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\t\n\t\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label for=\"swx-order-client-search\" class=\"control-label\">&nbsp;<\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t<div class=\"span6\"><button id=\"swx-order-client-search\" class=\"btn btn-primary\" style=\"width: 100%;\">Search<\/button><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span6\"><button id=\"swx-order-client-add\" class=\"btn btn-primary\" style=\"width: 100%;\">Add<\/button><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t<\/div>\t\n\t\t\t<\/div>\n\t\t\n\t\t\t<div id=\"swx-order-client-list\">\n\t\t\t\t<%=swxOrderClientList(arrObjClient)%>\t\n\t\t\t<\/div>\n\n\t\t\t<% _.toggleMobileNavButt() %>\n\t\t\n\t<\/div>\n<\/div>","form_renderer_tmpl":"<%= view.html %>\n\n<p class=\"actions\">\n\t<a class=\"btn btn-link save-action\">\n\t\t<%= _('Save').translate() %>\n\t<\/a>\n\n\t<a class=\"btn btn-link cancel-action\" data-dismiss=\"modal\">\n\t\t<%= _('Cancel').translate() %>\n\t<\/a>\n<\/p>","internal_error_tmpl":"<div class=\"view-header container\">\n\t<% if (view.page_header) { %>\n\t    <h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <div id=\"internal-error-content\" class=\"view-body internal-error-content\">\n            <%= view.options.message || _('Sorry, we could not load the content you requested.').translate() %>\n        <\/div>\n    <\/div>\n<\/div>","review_form_confirmation_tmpl":"<div class=\"container\">\n    <%= breadcrumb(view.getBreadcrumb()) %>\n<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <%= itemCellList(view.item, view) %>\n        <div class=\"row\">\n            <div class=\"span9\">\n                <div class=\"alert alert-success\">\n                    <%= view.page_header %>\n                <\/div>\n                <a href=\"<%= view.item.get('_url') %>\/reviews\" class=\"btn btn-link\">\n                    <i class=\"icon-arrow-left\"><\/i>\n                    <%= _('Back to reviews').translate() %>\n                <\/a>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>","iframe_tmpl":"<iframe src=\"<%- view.src %>\" class=\"modalIFrame\"><\/iframe>\n<script type=\"text\/javascript\">\n\t\/\/TODO: Search for an alternative to this fix of issue 271237\n\tif(navigator.userAgent.match(\/iPhone\/i)){\n\t\tjQuery('.modalIFrame').attr('scrolling','no');\n\t}\n<\/script>","product_list_control_tmpl":"<% if(view.mode !== 'move') { %>\n<div data-confirm-message=\"\"><\/div>\n<% } %>\n\n<div class=\"show-wishlist-link\">\n\t<% if (view.mode !== 'move') { %>\n\t<button class=\"btn dropdown-toggle show-wishlist\" data-toggle=\"dropdown\" data-action=\"show-productlist-control\">\n\t\t<%= view.collection.length === 1 ? _('Add to my product list').translate() : _('Add to my product lists').translate() %>\n\t<\/button>\n\t<% } else { %>\n\t<button class=\"btn btn-link dropdown-toggle show-wishlist\" data-toggle=\"dropdown\" data-action=\"show-productlist-control\">\n\t\t<%= _('Move').translate() %>\n\t<\/button>\n\t<% } %>\n<\/div>\n\n<div class=\"dropdown-menu sub-menu productlist-control <%= view.mode === 'move' ? 'productlist-control-move' : '' %>\" data-type=\"productlist-control\" <%= view.is_visible ? 'style=\"display: block\"' : ''%>>\n\n\t<h4 class=\"product-list-control-title\">\n\t\t<%\n\t\t\tvar header_text = '';\n\t\t\tif (view.collection.length > 0) {\n\t\t\t\theader_text = ' (' + view.collection.length + ' ' + (view.collection.length === 1 ? _('list').translate() : _('lists').translate()) + ')';\n\t\t\t}\n\t\t%>\n\t\t<%= (view.mode !== 'move' ? _('Select from').translate() : _('Move item to').translate()) + header_text + ':' %>\n\t<\/h4>\n\t<ul class=\"ul-product-lists\">\n\t\t<% if (0 === view.collection.length) { %>\n\t\t<li class=\"nolists-msg\">\n\t\t\t<%= view.mode !== 'move' ? _('There are no lists').translate() : _('There are no other lists').translate() %>\n\t\t<\/li>\n\t\t<% } %>\n\t<\/ul>\n\t<h4 class=\"product-list-control-title\"><%= _('Or: ').translate() %><\/h4>\n\t<div class=\"new-product-list-container\" data-type=\"new-item-container\"><\/div>\t\t\n<\/div>","product_list_details_later_tmpl":"<%\n\tvar config = view.application.Configuration.product_lists\n\t,\titems = view.model.get('items')\n\t, out_of_stock_items = items.filter(function(product_list_item) { return !product_list_item.get('item').ispurchasable; })\n\t,\ttype = view.model.get('type').name\n\t,\titems_length = items.length\n\t,\titems_length_message = '';\n\n\tif (items_length === 0)\n\t{\n\t\titems_length_message = _('(No items yet)').translate();\n\t}\n\telse if (items_length === 1)\n\t{\n\t\titems_length_message = _('($(0) Item)').translate(items_length);\n\t}\n\telse if (items_length > 1)\n\t{\n\t\titems_length_message = _('($(0) Items)').translate(items_length);\n\t}\n\tvar filteredItems = items.models;\n\tvar fitter =[];\n\t_.each(items.models,function(a){\n\tvar sfitter = _.find(fitter,function(index){return a.get('fitterid') == index.id;})\n\tif(!sfitter)\n\t\tfitter.push({id:a.get('fitterid'),name:a.get('fitter')})\n\t});\n\tif(!view.showarchiveditems)\n\tfilteredItems = _.filter(items.models, function(item){ return item.get('custrecord_ns_pl_pli_isarchived') == 'F'; });\n\tvar arrObjFilteredItems = [];\n\tvar arrObjFilteredItemsTotal = 0;\n\tvar hasArrObjFilteredItems = false;\n\tvar stFilterSaveForLaterRef = '';\/\/view.model.get('swx_filter_save_for_later_client');\n\tvar hasStFilterSaveForLaterRef = false;\/\/(!_.isNullOrEmpty(stFilterSaveForLaterRef)) ? true : false;\n\n\tvar collpaseClass = \"collapse\";\n\n\n\tif (hasStFilterSaveForLaterRef)\n\t{\n\t\tvar stItems = JSON.stringify(items);\n\t\tvar arrObjItems = JSON.parse(stItems)\n\t\tarrObjFilteredItems = _.getArrObjFilteredSaveForLaterItems(arrObjItems, stFilterSaveForLaterRef);\n\t\tarrObjFilteredItemsTotal = (!_.isNullOrEmpty(arrObjFilteredItems)) ? arrObjFilteredItems.length : 0;\n\t\thasArrObjFilteredItems = (arrObjFilteredItemsTotal != 0) ? true : false;\n\t\tcollpaseClass = \"in collapse\";\n\t}\n%>\n<style>\n    .list-header-title .accordion-toggle:after {\n        font-family: FontAwesome;\n        font-style: normal;\n        font-weight: normal;\n        content: \"\\f054\";\n        \/*Font awesome icon chevron right*\/\n        float: right;\n        color: grey;\n    }\n\n    .list-header-title .accordion-toggle:hover {\n        text-decoration: none;\n        color: grey;\n    }\n\n    .list-header-title .accordion-toggle.collapsed:after {\n        content: \"\\f078\";\n        \/* Font awesome chevron down*\/\n    }\n\t\t::placeholder { \/* Chrome, Firefox, Opera, Safari 10.1+ *\/\n\t    color: #555;\n\t    opacity: 1; \/* Firefox *\/\n\t\t}\n\n\t\t:-ms-input-placeholder { \/* Internet Explorer 10-11 *\/\n\t\t    color: #555;\n\t\t}\n\n\t\t::-ms-input-placeholder { \/* Microsoft Edge *\/\n\t\t    color: #555;\n\t\t}\n<\/style>\n    <header style=\"width:75%\">\n      <h3 class=\"list-header-title\" style=\"padding-bottom: 20px;border-bottom: 1px solid #eee;\">\n        <a data-toggle=\"collapse\" data-target=\"#saveForLaterItemsCart\" aria-expanded=\"true\" aria-controls=\"collapseOne\" class=\"accordion-toggle\" style=\"text-decoration:none;color:grey;\">\n            <!--<%= (type === 'predefined' ||\u00a0type === 'later') ? _(view.model.get('name')).translate() : view.model.get('name') %>-->\n            Saved Items\n        <\/a>\n\t\t\t<\/h3>\n\t\t\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n      <% if(view.model) {\n\t\t\t\t\tvar items = view.model.get('items');\n\t\t\t\t\tif(items_length > 0){\n\t\t\t\t\t\t\tvar productListDisplay = null;\n\n\t\t\t\t\t\t\tif (!hasStFilterSaveForLaterRef){\n\t\t\t\t\t\t\t\tproductListDisplay = function (row){\n\t\t\t\t\t\t\t\t\treturn SC.macros['productListDisplayLater'](row, view);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t%>\n    <\/header>\n\n    <div id=\"saveForLaterItemsCart\" style=\"width:75%;\" class=\"<%=collpaseClass%>\">\n\n    <% if (items_length > 0) { %>\n        <% if (!hasStFilterSaveForLaterRef) { %>\n          <div class=\"row-fluid\">\n              <div class=\"span3\">\n                  <span><%= _('To order an item now, click \"Add\"').translate() %><\/span>\n              <\/div>\n              <div class=\"span9\">\n                <div class=\"row-fluid\">\n                  <div class=\"span-w-21\">\n                        <input style=\"color:#999;padding:4px;width:100%;\" type=\"text\" value=\"<%=stFilterSaveForLaterRef%>\" name=\"swx_filter_save_for_later_client\" id=\"swx_filter_save_for_later_client\" placeholder=\"<%= _('Filter by client name').translate() %>\" >\n                  <\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span-w-25\">\n\t\t\t\t\t\t\t\t\t\t<select style=\"margin:0;padding:4px;color:#999;width:100%\" type=\"text\" name=\"filter_fitter\" id=\"filter_fitter\" >\n\t\t\t\t\t\t\t\t\t\t\t<option selected value=\"-1\">Filter by fitter name<\/option>\n\t\t\t\t\t\t\t\t\t\t\t<% for(var ik=0;ik<fitter.length;ik++){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"<%= fitter[ik].id%>\"><%= fitter[ik].name %><\/option>\n\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t<\/select>\n\t\t\t\t\t\t\t\t\t<\/div>\n                  <div class=\"span-w-10\">\n                      <button id=\"swx-butt-save-for-later-filter\" class=\"btn btn-primary\" style=\"width: 100%;\">Filter<\/button>\n                  <\/div>\n\n                  <div class=\"span-w-10\">\n                      <button id=\"swx-butt-save-for-later-filter-clear\" class=\"btn btn-primary\" style=\"width: 100%;\">Clear<\/button>\n                  <\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span-w-10\">\n\t\t\t\t\t\t\t\t\t\t\t<button data-action=\"archive\" class=\"btn btn-primary\" style=\"width: 100%;padding:4px 0px;\">Archive<\/button>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span-w-10\">\n\t\t\t\t\t\t\t\t\t\t\t<button id=\"add-multiple-save-for-later\" class=\"btn btn-primary\" style=\"width: 100%;\">Add<\/button>\n\t\t\t\t\t\t\t\t\t<\/div>\n                <\/div>\n              <\/div>\n          <\/div>\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<div style=\"float:right;padding-right:20px;\">\n\t\t\t\t\t\t\t\t<label style=\"display:inline;\">Show past Items<\/label><input  style=\"margin-left:20px;\" id=\"show-inactive-items\" data-action=\"show-inactive-items\" type=\"checkbox\">\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div style=\"float:right;padding-right:20px;\">\n\t\t\t\t\t\t\t\t<label style=\"display:inline;\">Show archived Items<\/label><input  style=\"margin-left:20px;\" id=\"show-archived-items\" data-action=\"show-archived-items\" type=\"checkbox\">\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n        <% } %>\n\n\n        <div class=\"product-list-items\" data-type=\"product-list-items\">\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div class=\"span-w-10\">\n\t\t\t\t\t\t\t<strong>Date<\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t\t<strong>Client<\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t\t<strong>Item<\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span-w-20-75\">\n\t\t\t\t\t\t\t<strong>Comment<\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span-w-26\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n            <%= displayInRows(filteredItems, productListDisplay, 1) %>\n        <\/div>\n        <% } else { %>\n            \t<span class=\"product-list-header-no-items\">\n\t\t\t\t\t\t\t\t<%= _('You don\\'t have items in this list yet.').translate() %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n    <\/div>\n","landing_page_tmpl":"<div class=\"view-header\">\n\t<%= breadcrumb(view.getBreadcrumb()) %>\n\n\t<% if (view.page_header && !view.inModal) { %>\n\t\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<% if (view.page && view.page.get('content')) { %>\n<div id=\"landing-page-content\" class=\"view-body landing-page-content\">\n\t<%= view.page.get('content') %>\n<\/div>\n<% }  %>\n","macros":["<% registerMacro('siteLogo', function (application, remove_home_link) { %>\n<%\n\tvar logoUrl = application.getConfig('logoUrl')\n\t,\tsiteName = application.getConfig('siteSettings.displayname');\n\n\tvar filePath = '\/SCA QuickStart - Basic\/Global\/templates\/header\/macros\/logo_macro.txt';\n\n\tvar user = application.getUser();\n\tvar logoUrl = user.get('LogoUrl');\n\tvar bannerUrl = user.get('BannerUrl');\n\n%>\n<div id=\"site-logo\" class=\"site-logo content-banner\">\n<% if (remove_home_link){ %>\n\t<a>\n<% } else { %>\n\t<a href=\"\/\" data-touchpoint=\"home\" data-hashtag=\"\">\n<% } %>\n\n<%\n\/\/if (SC.ENVIRONMENT.LOGOBRAND && SC.ENVIRONMENT.LOGOBRAND.url) {\n%>\n\t<%\n\t  \/\/<img src=\"<!--%- SC.ENVIRONMENT.LOGOBRAND.url %-->\" alt=\"<!--%- siteName %-->\">\n\t%>\n<%\n\/\/}\n%>\n\n\t<img src=\"<%=logoUrl%>\" alt=\"<%- siteName %>\">\n\n\t<\/a>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionsGrid', function (option_horizontal, option_vertical, item_model) { %>\n<%\n\tvar has_id = function (item) { return item.internalid; }\n\t,\toption_h_values = _.filter(option_horizontal.values, has_id)\n\t,\toption_v_values = _.filter(option_vertical.values, has_id)\n\t,\toption_h_id = option_horizontal.itemOptionId\n\t,\toption_v_id = option_vertical.itemOptionId\n\t,\tmatrix_child = {};\n%>\n<table id=\"options-grid-container\" class=\"options-grid-container\" data-type=\"option\" cellpadding=\"10\" style=\"margin: 0 auto;\">\n\t<thead>\n\t\t<th class=\"text-right\"><%= option_horizontal.label %><\/th>\n\t\t<% _.forEach(option_h_values, function (item) { %>\n\t\t\t<th><%= item.label %><\/th>\n\t\t<% }) %>\n\t<\/thead>\n\t<tbody>\n\t<% _.forEach(option_v_values, function (item_v, i) { %>\n\t\t<tr>\n\t\t\t<td class=\"text-right\"><%= option_vertical.label %> <%= item_v.label %><\/td>\n\t\t\t<% _.forEach(option_h_values, function (item_h, j) { %>\n\t\t\t\t<td>\n\t\t\t\t\t<%\n\t\t\t\t\t\tmatrix_child[option_h_id] = item_h.label;\n\t\t\t\t\t\tmatrix_child[option_v_id] = item_v.label;\n\t\t\t\t\t%>\n\t\t\t\t\t<% if (item_h.isAvailable && item_v.isAvailable && (!option_horizontal.isMatrixDimension || !option_vertical.isMatrixDimension || item_model.isCombinationAvailable(combo))) { %>\n\t\t\t\t\t\t<input type=\"number\" name=\"quantity-\" id=\"quantity-\" class=\"input-mini quantity text-center\" value=\"0\" min=\"0\" style=\"margin-bottom: 0;\">\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<span class=\"label label-important\"><%= _('Unavailable').translate() %><\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/td>\n\t\t\t<% }) %>\n\t\t<\/tr>\n\t<% }) %>\n\t<\/tbody>\n<\/table>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListListDetails', function(list) {\t%>\n\t<%\t\n\t\tvar items = list.get('items')\n\t\t, \tout_of_stock_items = items.filter(function(product_list_item) { return !product_list_item.get('item').ispurchasable; }); \n\t%>\n<article class=\"row-fluid\" data-product-list-id=\"<%= list.get('internalid') %>\">\n\t<span class=\"span8 info-box\">\n\t\t<h4 class=\"product-list-name\">\n\t\t\t<a href=\"\/productlist\/<%= list.get('internalid') ? list.get('internalid') : 'tmpl_' + list.get('templateid') %>\">\n\t\t\t\t<%= list.get('type').name === 'predefined' ? _(list.get('name')).translate() : list.get('name') %>\n\t\t\t<\/a>\n\t\t<\/h4>\n\t\t<p class=\"date-modified\"><%= _('Last updated:').translate() %>&nbsp; <%= list.get('lastmodified') %><\/p>\n\t\t<p>\n\t\t\t<% if(items.length && items.length > 0) { %>\n\n\t\t\t<span class=\"item-count\"><%= items.length %><\/span>&nbsp;<%= items.length === 1 ? _('item').translate() : _('items').translate() %>\n\t\t\t<% if(items.length) {\n\t\t\t\tvar last_product_item = _.sortBy(items.models, function(it){ return new Date(it.get('created')); }).reverse()[0]\n\t\t\t\t,\titem;\n\t\t\t\tif(last_product_item)\n\t\t\t\t{\n\t\t\t\t\titem = last_product_item.get('item');\n\t\t\t\t}\n\n\t\t\t\tif(item)\n\t\t\t\t{\n\t\t\t%>\n\n\t\t\t(<%= _('last added').translate()%>  <a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(last_product_item.get('itemDetails').get('_url')).fixUrl() %>\"><%= item.displayname %><\/a>)\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t\t<% } else { %>\n\t\t\t\t<span> <%= _('No items yet').translate() %><\/span>\n\t\t\t<% } %>\n\n\t\t<\/p>\n\t\t<% \n\t\t\tvar list_description = list.get('description');\n\t\t\tif(list_description && list_description.length > 0) {\n\t\t%>\n\t\t<p class=\"list-description\"><%= _('Notes').translate() %>:&nbsp;<%= list.get('description')%><\/p>\n\t\t<% if (out_of_stock_items.length > 0) { %>\n\t\t\t<p class=\"list-stock\">\n\t\t\t\t<span class=\"label label-important products-not-purchasable-message\">\n\t\t\t\t\t<%= _('Some products from this list are not available for purchase').translate() %>\n\t\t\t\t<\/span>\t\t\t\t\n\t\t\t<\/p>\n\t\t<% } %>\n\t\t<% } %>\n\t<\/span>\n\n\t<span class=\"span4 pull-right text-right action-box\">\n\t\t<button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-item-to-cart <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>\" <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>><%= _('Add list to cart').translate() %><\/button>\n\t\t<div class=\"list-commands-crud\">\n\t\t\t<% if (list.get('type').name !== 'predefined') { %>\n\t\t\t<button class=\"btn btn-link\" data-action=\"delete-list\"><%= _('Delete list').translate() %><\/button><span class=\"separator\"><\/span>\n\t\t\t<button class=\"btn btn-link\" data-action=\"edit-list\"><%= _('Edit list').translate() %><\/button><span class=\"separator\"><\/span>\n\t\t\t<% } %>\n\t\t\t<% if (list.get('scope').name !== 'private') { %>\n\t\t\t<button class=\"btn \tbtn-link\" data-action=\"share-list\"><%= _('Email\/Share list').translate() %><\/button><span class=\"separator\"><\/span>\n\t\t\t<% } %>\t\n\t\t<\/div>\n\t<\/span>\n<\/article>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('siteSearch', function (name, view) { %>\n<% var maxLength = view.application.getConfig('searchPrefs.maxLength') || 0; %>\n<form class=\"form-search site-search\" method=\"GET\" action=\"\/search\">\n\t<div class=\"input-append\">\n\t\t<input class=\"input-medium search-query\" placeholder=\"<%- _('Search *').translate() %>\" type=\"search\" name=\"<%- name %>\" autocomplete=\"off\"\n\t\t\t<%= maxLength > 0 ? 'maxlength=\"'+maxLength+'\"' : '' %>\t>\n\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t<i class=\"icon-search\"><\/i>\n\t\t<\/button>\n\t<\/div>\n<\/form>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemCellTable', function (item, view) { %>\n<%\n\tvar min_qty = parseInt(item.get('_minimumQuantity'), 10)\n\t,\tthumbnail = item.get('_thumbnail')\n\t,\tmacros = SC.macros\n\t,\tstock_info = item.getStockInfo();\n\n\tvar client = \"\"\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t,\tclientId = \"\";\n\t \n\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tclient = \"?client=\" + clientId;\n\t}\n%>\n<div class=\"item-cell item-cell-table\" itemprop=\"itemListElement\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t<meta itemprop=\"url\" content=\"<%= item.get('_url') %>\">\n\t<div class=\"item-cell-thumbnail thumbnail\">\n\t\t<a href=\"<%= item.get('_url') %><%= client %>\">\n\t\t\t<img src=\"<%= view.options.application.resizeImage(thumbnail.url, 'main') %>\" alt=\"<%= thumbnail.altimagetext %>\" itemprop=\"image\">\n\t\t<\/a>\n\t<\/div>\n\t<h2 class=\"item-cell-name\">\n\t\t<a href=\"<%= item.get('_url') %><%= client %>\">\n\t\t\t<span itemprop=\"name\">\n\t\t\t\t<%= item.get('_name') %>\n\t\t\t<\/span>\n\t\t<\/a>\n\t<\/h2>\n\t<div class=\"item-cell-price\">\n\t\t<%= macros.showItemPrice(item.getPrice(), stock_info.isInStock) %>\n\t<\/div>\n\t<div class=\"item-rating item-cell-rating rating-<%= item.get('_rating') %>\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t<%= macros.starRating({\n\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t,\tvalue: item.get('_rating')\n\t\t,\tclassName: 'star pull-left'\n\t\t,\tfillRounded: true\n\t\t}) %>\n\t\t<span class=\"review-total\">\n\t\t\t<%= _('($(0))').translate(\n\t\t\t\t'<span>' + item.get('_ratingsCount') + '<\/span>'\n\t\t\t) %>\n\t\t<\/span>\n\t<\/div>\n\t<div class=\"options-container\">\n\t\t<%= item && item.itemOptionsHelper && item.itemOptionsHelper.renderAllOptionSelector(\n\t\t\t_.where(item.itemOptionsHelper.getPosibleOptions(), {showSelectorInList: true})\n\t\t) %>\n\t<\/div>\n\t<% if (view.options.application.getConfig('addToCartFromFacetsView') && item.isReadyForCart()) { %>\n\t\t<form class=\"form-inline\" data-toggle=\"add-to-cart\">\n\t\t\t<input type=\"hidden\" value=\"<%= item.get('_id') %>\" name=\"item_id\">\n\t\t\t<input name=\"quantity\" class=\"input-mini\" type=\"number\" min=\"1\" value=\"<%- min_qty %>\">\n\t\t\t<input type=\"submit\" class=\"btn btn-primary\" value=\"Add to Cart\">\n\t\t<\/form>\n\t<% } %>\n\t<div class=\"item-cell-stock\">\n\t\t<%= macros.itemDetailsStock(stock_info) %>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('image_default', function (content) { %>\n\t<% if (content.fields.string_link) { %>\n\t\t<a href=\"<%- content.fields.string_link %>\">\n\t<% } %>\n\t<img src=\"<%- content.fields.string_src %>\"<% if (content.fields.string_alt) { %> alt=\"<%- content.fields.string_alt %>\"<% } %> data-loader=\"false\" \/>\n\t<% if (content.fields.string_link) { %>\n\t\t<\/a>\n\t<% } %>\n<% }); %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('emailSignUp', function (view) { %>\n<form id=\"email-sign-up-form\">\n    <div class=\"alert-placeholder\"><\/div>\n    <input placeholder=\"E-Mail\" name=\"email\" type=\"text\"\/>\n    <button class=\"btn btn-primary\"><%= _('Submit').translate() %><\/button>\n<\/form>\n<% })%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListDisplayCondensed', function(item, view) { %>\n\t<% \t\t\t\t\t\t\t\n\t\tvar product = item.get('item')\n\t\t,\tquantity = item.get('quantity')\n\t\t,\tpriority = item.get('priority')\n\t\t,\titem_details = item.get('itemDetails')\n\t\t,\tprice = item_details.getPrice()\n\t\t,\tstock_info = item_details.getStockInfo();\n\t%>\n<article data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> >\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span10 info-box\">\n\t\t\t<div class=\"item-details\" data-type=\"item-details\">\n\t\t\t\t<h5 class=\"row-fluid item-details-name\">\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('itemDetails').get('_url')).fixUrl() %>\"> <%= item.getProductName() || item.get('name') %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/h5>\n\t\t\t\t<div class=\"row-fluid item-details-date\">\n\t\t\t\t\t<div class=\"item-details-date-added\">\n\t\t\t\t\t\t<span><%=_('Added on').translate() %>: <%= item.get('created') %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid item-details-pricing\">\n\t\t\t\t\t<div class=\"item-details-price\">\t\t\n\t\t\t\t\t\t<strong><%= price.price_formatted %><\/strong>\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"item-details-stock\">\n\t\t\t\t\t\t<%= SC.macros.itemDetailsStock(item_details.getStockInfo()) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid item-details-options\">\n\t\t\t\t\t<div class=\"item-details-options-others\" data-type=\"all-options\" data-exclude-options=\"\">\t\t\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"item-details-quantity\">\n\t\t\t\t\t\t<span><%=_('Desired Quantity').translate() %>: <%= quantity %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"item-details-priority\">\n\t\t\t\t\t\t<span><%=_('Priority').translate() %>: <%= priority.name %><\/span>\n\t\t\t\t\t<\/div>\t\n\t\t\t\t<\/div>\n\t\t\t<\/div>\t\t\n\t\t<\/div>\n\t\t<div class=\"span2 item-commands action-box\">\n\t\t\t<div class=\"text-right\"><button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-to-cart <%= !product.ispurchasable ? 'disabled' : ''%>\" <%= !product.ispurchasable ? 'disabled' : ''%>><%= _('Add to cart').translate() %><\/button><\/div>\n\t\t\t<div class=\"item-commands-crud\">\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"edit-item\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"delete-item\"><%= _('Delete').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"pull-right move\" data-type=\"productlist-control-move\"><\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\t\t\n<\/article>\t\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('modal', function (page_header) { %>\n<div id=\"modal\" class=\"modal fade\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div id=\"modal-header\" class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n\t\t\t\t\t&times;\n\t\t\t\t<\/button>\n\t\t\t\t<h3 class=\"modal-title\">\n\t\t\t\t\t<%= page_header || '&nbsp;' %>\n\t\t\t\t<\/h3>\n\t\t\t<\/div>\n\t\t\t<div id=\"modal-body\" class=\"modal-body\"><\/div>\n\t\t<\/div><!-- \/.modal-content -->\n\t<\/div><!-- \/.modal-dialog -->\n<\/div><!-- \/.modal -->\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('profileForm', function (model,paramEvent) {\n\tvar profile = model.profile_collection && model.get(\"current_profile\") ? model.profile_collection.where({internalid: model.get(\"current_profile\")})[0] : null\n\t,\tparent = model.get(\"current_client\");\n\tvar eventValue = (!_.isNullOrEmpty(paramEvent) && paramEvent == 'add') ? 'add' : 'viewedit';\n\tvar isAddEvent = (eventValue == 'add') ? true : false;\n\tvar isViewEdit = (eventValue == 'viewedit') ? true : false;\n%>\n\n<form id=\"profile-form\">\n\t<fieldset>\n\n\t\t<input type=\"hidden\" value=\"<%= parent %>\" name=\"custrecord_fp_client\" data-rectype=\"field\">\n\t\t<div class=\"control-group\" data-input=\"name\">\n\t\t\t<label class=\"control-label\" for=\"name\">\n\t\t\t\t<%= _('Profile Name').translate() %>\n\t\t\t\t<small>\n\t\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t\t<\/small>\n\t\t\t<\/label>\n\t\t\t<div class=\"controls\">\n\t\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"name\" name=\"name\" value=\"<%- profile ? profile.get(\"name\") : null %>\" data-rectype=\"field\">\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"control-group\"  data-input=\"custrecord_fp_product_type\">\n\t\t\t\t<label class=\"control-label\" for=\"custrecord_fp_product_type\">\n\t\t\t\t\t<%= _('Product Type').translate() %>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t\t\t<\/small>\n\t\t\t\t<\/label>\n\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t<%= SC.macros.itemTypeDropdown(_.pluck(model.measurement_config, \"item_type\"), profile ? profile.get(\"custrecord_fp_product_type\") : null) %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div id=\"measure-type\">\n\t\t\t\t<% if(profile){\n\t\t\t\t\tvar selectedItemType = _.where(model.measurement_config, {item_type: profile.get(\"custrecord_fp_product_type\")})[0]\n\t\t\t\t\t,\tmeasurementType = _.pluck(selectedItemType.measurement, \"type\");\n\t\t\t\t%>\n\t\t\t\t\t<%= SC.macros.measureTypeDropdown(measurementType, profile ? profile.get(\"custrecord_fp_measure_type\") : null) %>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div id=\"measure-form\">\n\t\t\t<% if(profile){\n\t\t\t\tvar selectedItemTypeMeasure = profile.get(\"custrecord_fp_product_type\")\n\t\t\t\t,\tmeasurementTypeMeasure = profile.get(\"custrecord_fp_measure_type\")\n\t\t\t\t,\tfieldsForm = null;\n\n\t\t\t\tif(measurementTypeMeasure && selectedItemTypeMeasure){\n\t\t\t\t\tfieldsForm = _.where(model.measurement_config, {item_type: selectedItemTypeMeasure})[0];\n\t\t\t\t\tfieldsForm = _.where(fieldsForm.measurement, {type: measurementTypeMeasure})[0];\n\n\t\t\t\t\tmodel.selected_measurement = fieldsForm;\n\t\t\t%>\n\t\t\t\t <%= SC.macros.measureForm(fieldsForm, profile ? JSON.parse(profile.get(\"custrecord_fp_measure_value\")) : null,profile?profile.get(\"custrecord_fp_product_type\"):null,eventValue) %>\n\t\t\t<%\n\t\t\t\t}\n\t\t\t}\n\t\t\t%>\n\t\t<\/div>\n\t\t<div data-type=\"alert-placeholder\"><\/div>\n\t<\/fieldset>\n<\/form>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('pagination', function (configuration) { %>\n<%\n\t\/\/ Pagination Macro\n\t\/\/ ================\n\t\/\/ Displays a pagination component based on the configuration object.\n\t\/\/ The configuration object understands the following keys:\n\t\/\/ * currentPage: (Required) The page you are currently showing.\n\t\/\/ * totalPages: (Required) The total amount of pages you can show (This is not items, you need to do the math of items\/items_per_page outside this macro).\n\t\/\/ * pager: (Required) a function that recives a page number as parameter and returns the url that the mentioned page number should point to.\n\t\/\/ * showPageList: a boolean to show or hide the pages list portion of this component, defauts to true.\n\t\/\/ * pagesToShow: The amount of pages you want to be displayed in the pages list, defaults to 4.\n\t\/\/ * showPageIndicator: a boolean to show or hide a note on which page you have selected and how many pages are there, defaults to false\n\t\/\/ * extraClass: a string that will be added to the class attribute to the component\n\n\n\tvar current_page = parseInt(configuration.currentPage, 10)\n\t,\ttotal_pages = parseInt(configuration.totalPages, 10)\n\t,\tpager = configuration.pager\n\t,\tpages_to_show = parseInt(configuration.pagesToShow, 10) || 4\n\t,\trange_start = 1\n\t,\trange_end = total_pages + 1\n\t,\tpadding_left = (pages_to_show % 2 === 0) ? (pages_to_show \/ 2) - 1 : parseInt(pages_to_show \/ 2, 10) \/\/ ;)\n\t,\tshow_page_list = (_.isBoolean(configuration.showPageList)) ? configuration.showPageList : true\n\t,\tshow_page_indicator = configuration.showPageIndicator || false;\n\n\tif (show_page_list && pages_to_show < total_pages)\n\t{\n\t\t\/\/ if we are getting closer to the end we need to compute from the end to the begingn\n\t\tif (pages_to_show - padding_left > total_pages - current_page)\n\t\t{\n\t\t\trange_start = total_pages + 1 - pages_to_show;\n\t\t}\n\t\telse\n\t\t{\n\n\t\t\trange_start = current_page - padding_left < 1 ? 1 : current_page - padding_left;\n\t\t\trange_end = range_start + pages_to_show > total_pages ? total_pages : range_start + pages_to_show;\n\t\t}\n\t}\n\n\tvar client = \"\"\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\");\n\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\tclient = fragmentArray[i].split(\"&\")[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pages = [];\n\tif(range_end){\n\t\t pages = _.range(range_start, range_end);\n\t}\n\n%>\n\n<% if (total_pages >= current_page && current_page > 0 && pages.length > 1) { %>\n<div class=\"pagination <%= configuration.extraClass || '' %>\">\n\n\t<% if (show_page_indicator) { %>\n\t\t<ul class=\"pagination-page-indicator\">\n\t\t\t<li>\n\t\t\t\t<span class=\"\">\n\t\t\t\t\t<%= _('$(0) of $(1)').translate(current_page, total_pages) %>\n\t\t\t\t<\/span>\n\t\t\t<\/li>\n\t\t<\/ul>\n\n\t<% } %>\n\n\t<ul class=\"pagination-links <% if (!show_page_list) { %>pagination-links-compact<% } %>\">\n\t<% if (current_page !== 1) { %>\n\t\t<li>\n\t\t\t<a rel=\"prev\" href=\"<%- _(pager(current_page-1, client)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page, client)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\n\t<% if (show_page_list) { %>\n\t\t<% if (range_start > 1) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page, client)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<% } %>\n\n\t\t<% _.each(pages, function (page) { %>\n\t\t\t<% if (current_page !== page) { %>\n\t\t\t\t<li><a href=\"<%- pager(page, client) %>\"><%= page %><\/a><\/li>\n\t\t\t<% } else { %>\n\t\t\t\t<li class=\"active\"><a href=\"<%- _(pager(page, client)).fixUrl() %>\"><%= page %><\/a><\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\n\t\t<% if (range_end < total_pages) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page, client)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<% } %>\n\t<% } %>\n\n\t<% if (current_page !== total_pages){ %>\n\t\t<li>\n\t\t\t<a rel=\"next\" href=\"<%- _(pager(current_page+1, client)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page, client)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t<\/ul>\n<\/div>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('navigationTabs', function (item, is_top) {\n\tif (!item.data)\n\t{\n\t\titem.data = {};\n\t}\n\t\/\/ we want all navbar links to preserve current url option 'display'\n\titem.data['keep-options'] = 'display';\n\t%>\n<% if (item.categories && item.categories.length) {\n\t%>\n\t<% if (is_top) { %>\n\t\t<li class=\"dropdown\">\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t\t<%= item.text %>\n                <i class=\"fa fa-caret-down\"><\/i>\n\t\t\t<\/a>\n\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<% _.each(item.categories, function (sub) { %>\n\t\t\t\t\t<%= SC.macros.navigationTabs(sub) %>\n\t\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"dropdown-submenu\">\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t\t<%= item.text %>\n\t\t\t<\/a>\n\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<% _.each(item.categories, function (sub) { %>\n\t\t\t\t\t<%= SC.macros.navigationTabs(sub) %>\n\t\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<% } %>\n<% } else { %>\n<li>\n\t<a <%= _.objectToAtrributes(item) %>>\n\t\t<%= item.text %>\n\t<\/a>\n<\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListDisplayLater', function(item, view, options, paramFilteredItems, paramIsFiltered) {\n\tvar product = item.get('item')\n\t,\tquantity = item.get('quantity')\n\t,\tdescription = item.get('description')\n\t,\titem_details = item.get('itemDetails')\n\t,\tthumbnail = item_details.get('_thumbnail')\n\t,\tstock_info = item_details.getStockInfo()\n\t,\tinternalid = item.get('internalid');\nconsole.log(item)\n\tvar plSku = item_details.get('_sku');\n\n\t\/\/var application = view.application;\n\t\/\/var model = view.model;\n\n\t\/\/var stItem = JSON.stringify(item);\n\t\/\/var objItem = JSON.parse(stItem);\n\n\tvar clientFullName = '';\n\tvar objClient = item.get('client');\n\tvar clientFirstName = objClient.firstname;\n\tvar clientLastName = objClient.lastname;\n\n\tvar hasClientFirstName = (clientFirstName != '' && clientFirstName != null) ? true : false;\n\tvar hasClientLastName = (clientLastName != '' && clientLastName != null) ? true : false;\n\n\tif (hasClientFirstName || hasClientLastName)\n\t{\n\t\tif (hasClientFirstName)\n\t\t{\n\t\t\tclientFullName += clientFirstName + ' ';\n\t\t}\n\n\t\tif (hasClientLastName)\n\t\t{\n\t\t\tclientFullName += clientLastName;\n\t\t}\n\n\t}\n\n\tvar hasClientFullName = (clientFullName != '' && clientFullName != null) ? true : false;\n\n\n\tvar isDisplay = true;\n\n\tvar arrFilteredItems = paramFilteredItems;\n\tvar arrFilteredItemsTotal = (!_.isNullOrEmpty(arrFilteredItems)) ? arrFilteredItems.length : 0;\n\tvar hasFilteredItems = (arrFilteredItemsTotal != 0) ? true : false;\n\tvar isFiltered = (paramIsFiltered == 'T') ? true : false;\n\n\tif (isFiltered)\n\t{\n\t\tisDisplay = false;\n\n\t\tvar arrObjSaveForLaterInternalidsMapping = _.getArrFilteredSaveForLaterInternalIdMapping(arrFilteredItems);\n\t\tvar stSaveForLaterInternalId = internalid.toString();\n\n\t\tvar isStSaveForLaterInternalIdExistInMapping = (_.isObjectExist(arrObjSaveForLaterInternalidsMapping['' + stSaveForLaterInternalId + ''])) ? true : false;\n\n\t\tif (isStSaveForLaterInternalIdExistInMapping)\n\t\t{\n\t\t\tisDisplay = true;\n\t\t}\n\t}\n\n\n%>\n\n<% if (isDisplay) { %>\n<tr>\n<article data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> >\n\t<div class=\"row-fluid\">\n\t<div class=\"span-w-10\">\n\t\t<%= item.get('lastmodified').split(' ')[0]%>\n\t<\/div>\n\t<div class=\"span2\">\n\t\t<%= clientFullName %>\n\t<\/div>\n\t<div class=\"span3\">\n\t\t<%= plSku %>\n\t<\/div>\n\t<div class=\"span-w-20-75\">\n\t\t<input type=\"text\" style=\"padding:4px 0;width:100%\" id=\"comment_<%= item.get('internalid') %>\" value=\"<%= item.get('options').custcol_saved_for_later_comment?item.get('options').custcol_saved_for_later_comment.value:'' %>\">\n\t<\/div>\n\t<div class=\"span-w-26 fl-r margin-0\">\n\t\t<% if(!options || !options.hide_actions) { %>\n\t\t<button class=\"btn btn-expanded\" data-id=\"<%=item.id %>\" data-action=\"update-item\"><%= _('Update').translate() %><\/button>\n\t\t<button class=\"btn btn-expanded remove\" data-action=\"delete-item\"><%= _('Remove').translate() %><\/button>\n\t\t<button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-to-cart <%= !product.ispurchasable ? 'disabled' : ''%>\" <%= !product.ispurchasable ? 'disabled' : ''%>><%= _('Add').translate() %><\/button>\n\t\t<input data-tag=\"saved-item\" data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> type=\"checkbox\">\n\t\t<% } %>\n\t<\/div>\n\t<\/div>\n<\/article>\n<\/tr>\n<% } %>\n\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('breadcrumb', function(pages) {\n\t\n\tvar clientid = \"\", clientname = \"\";\n\tif(location.search.split('?client=')[1])\n\tclientid = location.search.split('?client=')[1].split('&')[0].split('?')[0];\n\tif(clientid){\n\t\tvar param = new Object();\n\t\tparam.type = \"get_client\";\n\t\tparam.data = JSON.stringify({filters: [\"internalid||anyof|integer|\" + clientid,'custrecord_tc_tailor||is|integer|'+SC.Application('Shopping').getUser().id], columns: [\"internalid\", \"custrecord_tc_first_name\", \"custrecord_tc_last_name\", \"custrecord_tc_email\", \"custrecord_tc_addr1\", \"custrecord_tc_addr2\", \"custrecord_tc_country\", \"custrecord_tc_city\", \"custrecord_tc_state\", \"custrecord_tc_zip\", \"custrecord_tc_phone\"]});\n\t\tjQuery.get(_.getAbsoluteUrl('services\/fitprofile.ss'), param).always(function(data){\n\t\t\tif(data[0]){\n\t\t\t\t\tclientname = data[0].custrecord_tc_first_name + \" \" + data[0].custrecord_tc_last_name;\n\t\t\t\t\tjQuery('#clientnameheader').html(clientname);\n\t\t\t}\n\t\t\t\/\/else{\n\t\t\t\/\/\twindow.location.href= \"http:\/\/store.jeromeclothiers.com\";\n\t\t\t\/\/}\n\t\t});\n\t}\n %>\n<% pages = _.isUndefined(pages) || _.isArray(pages) ? pages : [pages]; %>\n<div id=\"banner-breadcrumb-top\" class=\"content-banner banner-breadcrumb-top\"><\/div>\n<ul style=\"display:inline-block;width:50%;\" class=\"breadcrumb hidden-phone\" itemprop=\"breadcrumb\">\n<% _.each(pages, function(link, index) { %>\n\t<% if (link) { %>\n\t\t<% if (index < pages.length - 1) { %>\n\t\t\t<li>\n\t\t\t\t<a <%= _.objectToAtrributes(link) %>><%= link.text %><\/a>\n\t\t\t\t<span class=\"divider\">\/<\/span>\n\t\t\t<\/li>\n\t\t<% } else { %>\n\t\t\t<li class=\"active\">\n\t\t\t\t<%= link.text %>\n\t\t\t<\/li>\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n<\/ul>\n<% if(pages){ %>\n\t<% if( pages.length > 1 && pages[1].href == '\/cart'){ %>\n\t<% }else { %>\n\t\t<span id=\"clientnameheader\" style=\"display: inline-block;text-align: right;width: 49%;\">\n\n\t\t\t<\/span>\n\t\t<% } %>\n\t\t<div id=\"banner-breadcrumb-bottom\" class=\"content-banner banner-breadcrumb-bottom\" style=\"margin-bottom:1.5%;\"><\/div>\n\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemCellOptionColor', function (config, option) { %>\n<ul class=\"item-cell-tiles tiles color-tiles\" data-type=\"option\" data-option-id=\"<%= option.internalid %>\">\n<% _.each(option.values, function (item, index) { %>\n\t<% if ( item.internalid ) { %>\n\t\t<li title=\"<%= item.label %>\">\n\t\t<% var color = config.colors[item.label] || config.colors.defaultColor; %>\n\t\t<% if ( _.isObject( color ) ) { %>\n\t\t\t<% if ( color.type == 'image' ) { %>\n\t\t\t\t<img src=\"<%= color.src %>\" alt=\"<%= item.label %>\" class=\"tile\" width=\"<%= color.width || '' %>\" height=\"<%= color.height || '' %>\" data-value=\"<%= item.label %>\">\n\t\t\t<% } %>\n\t\t<% } else { %>\n\t\t\t<span class=\"tile\" style=\"background: <%= color %>\" data-value=\"<%= item.label %>\"><\/span>\n\t\t<% } %>\n\t\t<\/li>\n\t<% } %>\n<% }) %>\n<\/ul>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('footer', function (view) {\n    var environment = SC.ENVIRONMENT\n\n            ,\tshow_currency_selector = !view.application.getConfig('notShowCurrencySelector')\n            ,\thosts = environment.availableHosts\n            ,\tlanguages = environment.availableLanguages\n            ,\tcurrencies = environment.availableCurrencies\n\n            ,\tnav_links = view.application.getConfig('footerNavigation', [])\n            ,\tmacros = SC.macros;\n%>\n\n<div class=\"container\">\n    <div class=\"customer-site-settings\">\n        <form class=\"form-inline\">\n            <% if (hosts.length) { %>\n            <%= macros.hostSelector(hosts, environment.currentHostString) %>\n            <% } else if (languages.length) { %>\n            <%= macros.languageSelector(languages, environment.currentLanguage.locale) %>\n            <% } %>\n            <% if (currencies.length && show_currency_selector) { %>\n            <%= macros.currencySelector(currencies, environment.currentCurrency.code) %>\n            <% } %>\n        <\/form>\n    <\/div>\n\n    <div class=\"live-chat\">\n        <p><strong><%= _('Live Chat:').translate() %><\/strong> <%= _('Let our experts help you choose the perfect bike.').translate() %> <a href=\"#\" class=\"btn btn-primary\"> Connect <i class=\"right-arrow\"><\/i><\/a><\/p>\n    <\/div>\n\n    <div class=\"social-media\">\n        <ul class=\"unstyled\">\n\n        <\/ul>\n    <\/div>\n\n    <% if (nav_links.length) { %>\n        <%= macros.footerNavigation(nav_links) %>\n    <% } %>\n    <div class=\"row-fluid footer-cols\">\n        <div class=\"span3\">\n            <ul class=\"unstyled\">\n                <li><p><%= _('Help & Info').translate() %><\/p><\/li>\n                <li><a href=\"#\"><%= _('FAQ').translate() %><\/a><\/li>\n                <li><a href=\"#\"><%= _('Shipping & Deliveries').translate() %><\/a><\/li>\n                <li><a href=\"#\"><%= _('Returns & Exchanges').translate() %><\/a><\/li>\n            <\/ul>\n        <\/div>\n        <div class=\"span3\">\n            <ul class=\"unstyled\">\n                <li><p><%= _('Customer Support').translate() %><\/p><\/li>\n                <li><a href=\"#\"><%= _('800-750-8783').translate() %><\/a><\/li>\n                <li><a href=\"\/contactus\" data-hashtag=\"#contactus\" data-touchpoint=\"home\"><%= _('Contact Us').translate() %><\/a><\/li>\n                <li><a href=\"#\"><%= _('Email Us').translate() %><\/a><\/li>\n            <\/ul>\n        <\/div>\n        <div class=\"span3\">\n            <ul class=\"unstyled\">\n                <li><p><%= _('About Us').translate() %><\/p><\/li>\n                <li><a href=\"\/who_we_are\" data-hashtag=\"#who_we_are\" data-touchpoint=\"home\"><%= _('Who We Are').translate() %><\/a><\/li>\n                <li><a href=\"\/our_guarantees\" data-hashtag=\"#our_guarantees\" data-touchpoint=\"home\"><%= _('Our Guarantees').translate() %><\/a><\/li>\n                <li><a href=\/jobs\" data-hashtag=\"#jobs\" data-touchpoint=\"home\"><%= _('Jobs').translate() %><\/a><\/li>\n            <\/ul>\n        <\/div>\n        <div class=\"span3\">\n            <ul class=\"unstyled\">\n                <li><p><%= _('Stay Connected').translate() %><\/p><\/li>\n                <% if(view.application.getConfig('emailSignUp')) { %>\n                <li><span><%= _('Sign up for updates and exclusive offers').translate() %><\/span><\/li>\n                <%= SC.macros.emailSignUp() %>\n                <% } %>\n                <li><span><%= _('1-800-992-9922').translate() %><\/span><\/li>\n                <li><a href=\"#\"><%= _('hello@company.com').translate() %><\/a><\/li>\n                <li class=\"social-container\">\n                    <span class=\"social-icons\">\n                        <a href=\"#\"><i class=\"fa fa-twitter\"><\/i><\/a>\n                        <a href=\"#\"><i class=\"fa fa-instagram\"><\/i><\/a>\n                        <a href=\"#\"><i class=\"fa fa-pinterest\"><\/i><\/a>\n                        <a href=\"#\"><i class=\"fa fa-facebook\"><\/i><\/a>\n                        <a href=\"#\"><i class=\"fa fa-foursquare\"><\/i><\/a>\n                    <\/span>\n                <\/li>\n            <\/ul>\n        <\/div>\n    <\/div>\n    <%= macros.backToTop() %>\n    <div id=\"banner-footer\" class=\"content-banner banner-footer\"><\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('languageSelector', function (languages, selected_locale) { %>\n<% if (languages && languages.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<i class=\"icon-globe\"><\/i>\n\t<\/span>\n\t<select data-toggle=\"lenguage-selector\" class=\"input-medium\">\n\t<% _.each(languages, function(language) { %>\n\t\t<option value=\"<%- language.locale %>\" <%= language.locale === selected_locale ? 'selected' : '' %>>\n\t\t\t<%= language.title || language.name %>\n\t\t<\/option>\n\t<%})%>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('fitProfileOptionDropdown', function (profile) { %>\n<div>\n<div style=\"width:100px;display:inline-block;\" >\n\t<label for=\"clients-options\"><%= profile.profile_type %>:<\/label>\n\t<\/div>\n\t<% if(profile.profiles){ %>\n\t\t<div style=\"display:inline-block;\">\n\t\t\t<div style=\"display:inline-block;\">\n\t\t\t\t<select class=\"profiles-options\" data-type=\"<%= profile.profile_type %>\" id=\"profiles-options-<%= profile.profile_type %>\">\n\t\t\t\t\t<option value=\"\"><%= _('Select a profile').translate() %><\/option>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar selected = false;\n\t\t\t\t\t\tvar profileID = jQuery(\"#profiles-options-\" + profile.profile_type).attr('id');\n\t\t\t\t\t\tvar selectedValue = jQuery(\"#profiles-options-Jacket\").val();\n\t\t\t\t\t%>\n\t\t\t\t\t<% _.each(profile.profiles, function(prof){ %>\n\t\t\t\t\t\t<option value=\"<%= prof.get(\"internalid\") %>\"><%= prof.get(\"name\") %><\/option>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/select>\n\t\t\t<\/div>\n\n\t\t\t<div style=\"display:inline-block;padding-left:20px;\" id=\"profile-actions-<%= profile.profile_type %>\">\n\t\t\t\t<% if(!profileID || selectedValue == \"\" || profile.profiles.length == 0){ %>\n\t\t\t\t\t<a data-backdrop=\"static\" data-keyboard=\"false\"  data-toggle=\"show-in-modal\" href=\"\/fitprofile\/new\">Add<\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a data-backdrop=\"static\" data-keyboard=\"false\" data-toggle=\"show-in-modal\" href=\"\/fitprofile\/new\">Add<\/a> |\n\t\t\t\t\t<a data-backdrop=\"static\" data-keyboard=\"false\" data-toggle='show-in-modal' href=\"\/fitprofile\/<%= selectedValue %>\">Edit<\/a> |\n\t\t\t\t\t<a data-backdrop=\"static\" data-keyboard=\"false\" data-action='remove-rec' data-type='profile' data-id='<%= selectedValue %>'>Remove<\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemTypeDropdown', function (itemTypes, selectedType) { %>\n\t<% if(itemTypes && itemTypes.length){ %>\n\t\t<select class=\"input-xlarge\" id=\"custrecord_fp_product_type\" name=\"custrecord_fp_product_type\">\n\t\t\t<option value=\"\">Select an Item Type<\/option>\n\t\t\t<% _.each(itemTypes, function(itemType){ %>\n\t\t\t\t<option value=\"<%= itemType %>\" <%= selectedType == itemType? 'selected' : '' %>><%= itemType %><\/option>\n\t\t\t<% }) %>\n\t\t<\/select>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionText', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %>\n\t<\/label>\n\t<% if (option.type === 'textarea') { %>\n\t\t<textarea name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" data-toggle=\"text-option\" data-available=\"true\"><%= selected_value && selected_value.internalid || '' %><\/textarea>\n\t<% } else { %>\n\t\t<input type=\"<%= option.type === 'email' ? 'email' : 'text' %>\" name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" value=\"<%- selected_value && selected_value.internalid || '' %>\" data-toggle=\"text-option\" data-available=\"true\">\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionColor', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles color-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable\n\t\t\t\t\t,\tcolor = option.colors && (option.colors[item.label] || option.colors.defaultColor);\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\ttitle=\"<%= item.label %>\"\n\t\t\t\t\t<% if (!_.isObject(color)) { %>\n\t\t\t\t\t\tstyle=\"background: <%= color %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc=\"<%= color.src %>\" \n\t\t\t\t\t\t\t\talt=\"<%= item.label %>\"\n\t\t\t\t\t\t\t\twidth=\"<%= color.width || '' %>\" \n\t\t\t\t\t\t\t\theight=\"<%= color.height || '' %>\">\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemImageGallery', function (images, view) { %>\n<%\n\tvar resizeImage = view.application.resizeImage\n\t,\timage_resize_id = SC.ENVIRONMENT.screenWidth < 768 ? 'thumbnail' : 'zoom';\n%>\n<div class=\"item-image-gallery\">\n<% if (images.length) { %>\n\t<% if (images.length > 1) { %>\n\t\t<ul class=\"bxslider\" data-slider>\n\t\t<% _.each(images, function (image) { %>\n\t\t\t<li class=\"pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t\t<img src=\"<%= resizeImage(image.url, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\">\n\t\t\t<\/li>\n\t\t<% }) %>\n\t\t<\/ul>\n\t<% } else { %>\n\t\t<% var image = images[0]; %>\n\t\t<div class=\"item-detailed-image pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t<img class=\"center-block\" src=\"<%= resizeImage(image.url, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\">\n\t\t<\/div>\n\t<% } %>\n<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetBrowseItemList', function (view) { %>\n<%\n\tvar model = view.model\n\t,\titems = model.get('items')\n\t,\tfacets = model.get('facets')\n\t,\ttranslator = view.translator;\n\n\tvar\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid\n\t,\tspan = isOrderPage ? \"span12\" : \"span9\"\n\t\t\/\/ Some calls to macros so we have can reuse them\n\t,\tfacetsDisplayResults = SC.macros.facetsDisplay(translator)\n\n\t,\titemListSummaryResult = SC.macros.itemListSummary({\n\t\t\ttotalItems: model.get('total')\n\t\t,\tcurrentPage: translator.getOptionValue('page')\n\t\t,\titemsPerPage: translator.getOptionValue('show')\n\t\t})\n\n\t,\tpaginationResult = SC.macros.pagination(_.extend({}, view.options.application.getConfig('defaultPaginationSettings'), {\n\t\t\tcurrentPage: translator.getOptionValue('page')\n\t\t,\ttotalPages: view.totalPages\n\t\t,\textraClass: 'pagination-small pull-right'\n\t\t,\tpager: function (page, rawClientID) {\n\t\t\t\tvar result = \"\";\n\t\t\t\tif (rawClientID){ \/\/ fix for pagination not handling the client parameter\n\t\t\t\t\tvar url = translator.cloneForOption('page', page).getUrl();\n\t\t\t\t\tvar arr = url.split(\"?\")\n\t\t\t\t\tarr.splice(1,0, \"?\" + rawClientID + \"&\")\n\t\t\t\t\tresult = arr.join(\"\");\n\t\t\t\t} else {\n\t\t\t\t\tresult = translator.cloneForOption('page', page).getUrl();\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}))\n\n\t,\titemListDisplaySelectorResult = SC.macros.itemListDisplaySelector({\n\t\t\ttranslator: translator\n\t\t,\tclasses: 'pull-right'\n\t\t,\toptions: view.options.application.getConfig('itemsDisplayOptions')\n\t\t})\n\n\t,\titemListSortSelectorResult = SC.macros.itemListSortSelector({\n\t\t\ttranslator: translator\n\t\t,\toptions: view.options.application.getConfig('sortOptions')\n\t\t})\n\n\t,\titemListShowSelectorResult = SC.macros.itemListShowSelector({\n\t\t\ttranslator: translator\n\t\t,\toptions: view.options.application.getConfig('resultsPerPage')\n\t\t})\n\n\n\t,\tpage_header = _(view.page_header).substitute({\n\t\t\titemscount: model.get('total')\n\t\t});\n\t\tvar hash = window.location.hash;\n\t\tif(hash.indexOf('Inventory\/Fabrics') == -1 && hash.indexOf('Inventory\/Inventory-Accessories') == -1 && hash.indexOf('Inventory\/Packaging') == -1){\n\t\t\tvar paramarr = hash.split('item-types\/')[1];\n\t\t\tvar product = paramarr.split('?')[0];\n\t\t\tvar client = paramarr.split('?')[1];\n\t\t}\n%>\n<meta itemprop=\"name\" content=\"<%- view.getTitle() %>\">\n<div id=\"banner-section-top\" class=\"content-banner banner-section-top\"><\/div>\n  <header>\n    <!-- visible-phone -->\n    <p class=\"h1 visible-phone\">\n      <%= page_header %>\n    <\/p>\n    <% if (view.subtitle) { %>\n      <h4><%- _(view.subtitle).translate() %><\/h4>\n    <% } %>\n    <!-- \/visible-phone -->\n    <div class=\"facet-header <%= translator.facets.length ? 'no-facets-selected' : '' %>\">\n      <%= paginationResult %>\n      <% if (items.length && facets.length) { %>\n        <button class=\"btn btn-inverse pull-left narrow-by-btn\" data-toggle=\"facet-navigation\">\n          <span><%= _('Narrow By').translate() %><\/span>\n          <i class=\"icon-plus-sign\"><\/i>\n          <i class=\"icon-minus-sign\"><\/i>\n        <\/button>\n      <% } %>\n\n      <div class=\"hidden-phone pull-left\">\n        <%= itemListShowSelectorResult %>\n      <\/div>\n\t\t\t<div style=\"clear:both;\"><\/div>\n\n\t\t\t<div style=\"margin-bottom:10px;\">\n\t\t\t<!-- <strong>The factory will be closed from 1st-7th October. This will impact all orders placed from Thursday 19th September or orders that fabric has not arrived by this date<\/strong>  \n\t\t\t<br\/>-->\n\t\t\t\t* The following vendors are searchable: AC Shirt, Ariston, Carnet, Dormeuil, Drago, Dugdale Bros, Filarte, Harrisons, Loro Piana, Solbiati, Thomas Mason\n\t\t\t<\/div>\n    <\/div>\n    <%= facetsDisplayResults %>\n    <div id=\"banner-section-middle\" class=\"content-banner banner-section-middle\"><\/div>\n\n  <\/header>\n  <!-- Item List -->\n  <div id=\"item-list\" class=\"item-list\">\n    <%\n      var displayOption = _.find(view.options.application.getConfig('itemsDisplayOptions'), function (option)\n        {\n          return option.id === view.options.translator.getOptionValue('display');\n        })\n      ,\tcellWrap = function cellWrap (item)\n        {\n          return SC.macros[displayOption.macro](item, view);\n        };\n    %>\n    <%= SC.macros.displayInRows(items.models, cellWrap, displayOption.columns) %>\n    <div class=\"bottom-pagination\">\n      <%= paginationResult %>\n    <\/div>\n    <div class=\"clearfix\"><\/div>\n  <\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('correlatedItems', function (items, application) { %>\n<%\n\tvar macros = SC.macros\n\t,\trelatedWrap = function relatedWrap (item) {\n\t\treturn macros.relatedItem(item, application);\n\t}\n%>\n<aside class=\"shopping-cart-related-items\">\n\t<h3><%= _('Customers who bought this item also bought').translate() %><\/h3>\n\t<div class=\"row-fluid\">\n\t\t<%= macros.displayInRows(_.first(items, 6), relatedWrap, 6) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('quickLinks', function(model) { %>\n\t\t\n\t<div id=\"quick-button-content\" class=\"quick-button-area\" style=\"margin:0px;background-color: #ebebeb\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<% _.each(model, function (quickLink) { %>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<a href=\"<%= quickLink.href %>\" data-touchpoint=\"<%= quickLink.data.touchpoint %>\" data-hashtag=\"<%= quickLink.data.hashtag %>\">\n\t\t\t\t\t\t\t<div class=\"quick-button-image-wrapper\">\n\t\t\t\t\t\t\t\t<div style=\n\t\t\t\t\t\t\t\t\t\"background-image: url('\/assets\/images\/content\/quick buttons\/quick_buttons.png');\n\t\t\t\t\t\t\t\t\t background-position: <%=quickLink.xPosition%> 0px\"><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div><%= quickLink.text %><\/div>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merchandisingZone', function (zone) { %>\n<aside>\n\t<h3><%= _(zone.title).translate() %><\/h3>\n\t<% if (zone.description) { %>\n\t<p class=\"description\"><%= zone.description %><\/p>\n\t<% } %>\n\t<div class=\"merchandising-slider\">\n\t\t<% _.each(zone.items, function(item) { %>\n\t\t\t<%= SC.macros.relatedItem(item, zone.application) %>\n\t\t<% }) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('designOptionsImageGallery', function (images, view) { %>\n<%\n\tvar resizeImage = view.application.resizeImage\n\t,\timage_resize_id = SC.ENVIRONMENT.screenWidth < 768 ? 'thumbnail' : 'zoom';\n%>\n<div id=\"banner-image-top\" class=\"content-banner banner-image-top\"><\/div>\n<div class=\"item-image-gallery\">\n<% if (images.length) { %>\n\t<% if (images.length > 1) { %>\n\t\t<ul class=\"bxslider\" data-slider>\n\t\t<% _.each(images, function (image) { %>\n\t\t\t<li class=\"pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t\t<img src=\"<%= resizeImage(image, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\">\n\t\t\t<\/li>\n\t\t<% }) %>\n\t\t<\/ul>\n\t\t<div id=\"bx-pager\">\n\t\t\t<% for (var idx = 0; idx < images.length; idx++) { %>\n\t\t\t  <a data-slide-index=\"<%=idx%>\" href=\"\"><img src=\"<%= resizeImage(images[idx], 'tinythumb') %>\" \/><\/a>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% } else { %>\n\t\t<% var image = images[0]; %>\n\t\t<div class=\"item-detailed-image pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t<img class=\"center-block\" src=\"<%= resizeImage(image, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\">\n\t\t<\/div>\n\t<% } %>\n<% } %>\n<\/div>\n<div id=\"banner-image-bottom\" class=\"content-banner banner-image-bottom\"><\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayDesignOptions', function (line) { %>\n<div id=\"design-option\">\n\t<% if ((line.attributes.designOptions && line.attributes.designOptions.length > 0) ||line.attributes.designOptionsNotes){ %>\n\t<div class=\"accordion\" id=\"design-options-<%=line.id%>\">\n\t<% if (line.attributes.designOptions && line.attributes.designOptions.length > 0){ %>\n\n\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#design-option-<%=line.id%>\" data-parent=\"#design-option-<%=line.id%>\">\n\t\t\t\t\t\t\tDesign Options\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div id=\"design-option-<%=line.id%>\" class=\"accordion-body collapse\" style=\"padding-left:50px;\">\n\t\t\t\t\t<% _.each(line.attributes.designOptions, function (designOption){ %>\n\t\t\t\t\t\t<div><b><%= designOption.header %><\/b><\/div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<% _.each(designOption.selections, function (selection){ %>\n\t\t\t\t\t\t\t\t<li><%= selection.name %> : <%= (!_.isNullOrEmpty(selection.value)) ? selection.value : 'NA' %><\/li>\n\t\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% }); %>\n\n\t<% } %>\n\n\t\t<% if (line.attributes.designOptionsNotes) { %>\n\t\t\t<div><b><%= _('Design Option Message').translate() %><\/b><\/div>\n\t\t\t<p><%=line.attributes.designOptionsNotes%><\/p>\n\t\t<% } %>\n\n\t\t<\/div>\n\t<\/div>\n\t<\/div>\n\t<% } %>\n\t<% if (line.attributes.fitProfileOptions && line.attributes.fitProfileOptions.length > 0){ %>\n\t<div class=\"accordion\" id=\"fitprofile-options-<%=line.id%>\">\n\t\t<div class=\"accordion-group\">\n\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#fitprofile-option-<%=line.id%>\" data-parent=\"#fitprofile-options-<%=line.id%>\">\n\t\t\t\t\t\tFit Profile\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/div>\n\t\t\t\t<div id=\"fitprofile-option-<%=line.id%>\" class=\"accordion-body collapse\" style=\"padding-left:50px;\">\n\t\t\t\t\t<div><b><%= _('Fit Profile Options').translate() %><\/b><\/div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<% _.each(line.attributes.fitProfileOptions, function (fitProfileOption){ %>\n\t\t\t\t\t\t\t\t<li> <%= fitProfileOption.name %> : <%= fitProfileOption.value %> <\/li>\n\t\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (line.attributes.fitProfileNotes) { %>\n\t\t<div><b><%= _('Fit Profile Message').translate() %><\/b><\/div>\n\t\t<p><%=line.attributes.fitProfileNotes%><\/p>\n\t<% } %>\n\n\t<% \tvar fabric_quantity_option = _.where(line.get('options'), {id: \"CUSTCOL_FABRIC_QUANTITY\"})[0];\n\t\tif (fabric_quantity_option){ %>\n\t\t<div class=\"accordion\" id=\"quantity-options-<%=line.id%>\">\n\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#quantity-option-<%=line.id%>\" data-parent=\"#quantity-options-<%=line.id%>\">\n\t\t\t\t\t\tFabric \tDetails\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div id=\"quantity-option-<%=line.id%>\" class=\"accordion-body collapse\" style=\"padding-left:50px;\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<b><%= !_.isEmpty(line.get('designOptions')) ? _(\"Fabric Quantity\").translate() : _(\"Quantity\").translate() %>: <%= fabric_quantity_option.displayvalue %><\/b>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% if(line.get('item').get('_outOfStockMessage') && line.get('item').get('_outOfStockMessage') != \"Available\"){ %>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<b> Fabric Status: <%= line.get('item').get('_outOfStockMessage') %><\/b>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('measureTypeDropdown', function (measureTypes, selectedType) { %>\n\t<% if(measureTypes && measureTypes.length){ %>\n\t\t<div class=\"control-group\"  data-input=\"custrecord_fp_product_type\">\n\t\t\t<label class=\"control-label\" for=\"custrecord_fp_product_type\">\n\t\t\t\t<%= _('Measurement Type').translate() %>\n\t\t\t\t<small>\n\t\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t\t<\/small>\n\t\t\t<\/label>\n\t\t\t<div class=\"controls\">\n\t\t\t\t<select class=\"input-xlarge\" id=\"custrecord_fp_measure_type\" name=\"custrecord_fp_measure_type\">\n\t\t\t\t\t<option value=\"\">Select an Measurement Type<\/option>\n\t\t\t\t\t<% _.each(measureTypes, function(measureType){ %>\n\t\t\t\t\t\t<option value=\"<%= measureType %>\" <%= selectedType == measureType ? 'selected' : '' %>><%= measureType %><\/option>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/select>\n\t\t\t<\/div>\n\t\t<\/div>\t\t\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('miniCartSummary', function (total_items, loading) { %>\n<span class=\"item-count<%= loading ? ' loading' : '' %>\">\n<% if (loading) { %>\n\t<%= _('Loading cart...').translate() %>\n    <i class=\"fa fa-spinner fa-spin fa-lg\"><\/i>\n<% } else { %>\n\t<% if (total_items !== 1) { %>\n\t\t<%= _('$(0) items').translate(total_items) %>\n\t<% } else { %>\n\t\t<%= _('1 item').translate() %>\n\t<% } %>\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('socialSharingIcons', function( config ) { %>\n<% if (config.addThis.enable) { %>\n<div href=\"#\" class=\"add-this-btn\" data-toggle=\"share-in-add-this\"><\/div>\n<% } else { %>\n<div>\n\t<% if (config.pinterest.enable) { %>\n\t<a href=\"#\" class=\"social-sharing-btn pinterest-btn\" data-toggle=\"share-in-pinterest\"><\/a>\n\t<% } %>\n\t\n\t<% if (config.twitter.enable) { %>\n\t<a href=\"#\" class=\"social-sharing-btn twitter-btn\" data-toggle=\"share-in-twitter\"><\/a>\n\t<% } %>\n\t\n\t<% if (config.googlePlus.enable) { %>\n\t<a href=\"#\" class=\"social-sharing-btn google-plus-btn\" data-toggle=\"share-in-google-plus\"><\/a>\n\t<% } %>\n\t\n\t<% if (config.facebook.enable) { %>\n\t\t<div href=\"#\" class=\"social-sharing-btn facebook-like-btn\" data-toggle=\"like-in-facebook\"><\/div>\n\t<% } %>\n\t<div class=\"clearfix\"><\/div>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History   \n-------------- \nDate: 14-03-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-34\nChange Description: Price in the items matches the total in The order summary\n-->\n<% registerMacro('shoppingCartSummary', function (cart, siteSettings, options, linesTotalSum) { %>\n<%\n\toptions = _.extend({ showShipto: true, showLabelsAsEstimated: true}, options || {});\n\n\tvar summary = cart.get('summary')\n\t,\titem_count = _.reduce(cart.get('lines').pluck('quantity'), function (memo, quantity) { return memo + (parseFloat(quantity) || 1); }, 0)\n\n\t,\tshipping_address = cart.get('addresses').get(cart.get('shipaddress')) || new Backbone.Model()\n\t,\tdefault_county = shipping_address.get('country') || siteSettings.defaultshipcountry\n\t,\tshipping_zipcode = shipping_address.get('zip')\n\n\t,\tis_estimate = options.showShipto && shipping_zipcode && false\n\n\t,\tpromocode = cart.get('promocode')\n\t,\tis_promocode_valid = promocode && promocode.isvalid\n\n\t,\tgiftcertificates = cart.get('paymentmethods').where({type: 'giftcertificate'}) || []\n\t\/\/\tThird party checkouts\n\t,\tcheckout = options.checkout || {}\n\t,\tpaypal_express = checkout.paypalexpress\n\t,\tsubtotal = 0;\n\n\t\/\/Custom subtotal computation\n\tcart.get(\"lines\").each(function(line){\n\t\tvar costOption = _.where(line.get(\"options\"), {id: \"CUSTCOL_TAILOR_CUST_PRICING\"});\n\t\tif(costOption && costOption[0]){\n\t\t\tsubtotal = subtotal + parseFloat(costOption[0].value);\n\t\t}\n\t});\n%>\n<div class=\"box-wells shopping-cart-summary\">\n\t<header class=\"box-wells-header\">\n\t\t<h3>\n\t\t\t<%= _('Order Summary').translate() %>\n\t\t<\/h3>\n\t<\/header>\n\n\t<div class=\"box-wells-body\">\n\t\t<div class=\"cart-summary-subtotal\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<% if(linesTotalSum){ %> <!-- JHD-34 -->\n\t\t\t\t\t<span class=\"pull-right summary-subtotal-formatted\"><%= _.formatCurrency(linesTotalSum) %><\/span>\n\t\t\t\t<% } else{%>\n\t\t\t\t<span class=\"pull-right summary-subtotal-formatted\"><%= _.formatCurrency(subtotal) %><\/span>\n\t\t\t\t<% } %>\n\t\t\t\t<%= _('Subtotal (<span class=\"summary-item-quantity-subtotal\">$(0)<\/span> $(1))').translate( cart.get('lines').length, cart.get('lines').length === 1 ? _('item').translate() : _('items').translate() ) %>\n\t\t\t<\/p>\n\t\t\t<% if (!is_estimate && false) { %>\n\t\t\t\t<p class=\"no-margin-bottom small\">\n\t\t\t\t\t<%= _('(Total does not include shipping or tax)').translate() %>\n\t\t\t\t<\/p>\n\t\t\t<% } %>\n\t\t<\/div>\n\n\t\t<% if (is_promocode_valid || summary.giftcertapplied) { %>\n\n\t\t\t<% if (is_promocode_valid) { %>\n\t\t\t\t<div class=\"cart-summary-promocode-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong class=\"lead-price pull-right\"><%= summary.discountrate_formatted %><\/strong>\n\t\t\t\t\t\t<%= _('Promo Code Applied').translate() %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<p class=\"text-success\">\n\t\t\t\t\t\t#<%= promocode.code %> - <%= _('Instant Rebate').translate() %>\n\t\t\t\t\t\t<a href=\"#\" data-action=\"remove-promocode\">\n\t\t\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.discounttotal) { %>\n\t\t\t\t<div class=\"cart-summary-discount-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<span class=\"pull-right\"><%= summary.discounttotal_formatted %><\/span>\n\t\t\t\t\t\t<%= _('Discount Total').translate() %>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (summary.giftcertapplied) { %>\n\t\t\t\t<div class=\"cart-summary-giftcertificate-applied\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<%= _('Gift Certificates Applied ($(0))').translate(giftcertificates.length) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<% _.each(giftcertificates, function(giftCertificate) { %>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span class=\"pull-right\"><%= _('-$(0)').translate(giftCertificate.get('giftcertificate').amountapplied_formatted) %><\/span>\n\t\t\t\t\t\t\t<span title=\"<%= giftCertificate.get('giftcertificate').code %>\"><%= SC.macros.formatPaymentMethod(giftCertificate) %><\/span>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t<% }); %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\n\t\t<% if (is_estimate) { %>\n\t\t\t<div class=\"cart-summary-shipping-cost-applied\">\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Ship to:').translate() %>\n\t\t\t\t\t<span class=\"text-success\"><%= shipping_zipcode %><\/span>\n\t\t\t\t\t<a href=\"#\" data-action=\"remove-shipping-address\">\n\t\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/p>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"pull-right cart-summary-shipping-cost-formatted\">\n\t\t\t\t\t\t<%= summary.shippingcost_formatted %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<%= _('Shipping').translate() %>\n\t\t\t\t<\/p>\n\n\t\t\t\t<% if (summary.handlingcost) { %>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"pull-right cart-summary-handling-cost-formatted\">\n\t\t\t\t\t\t<%= summary.handlingcost_formatted %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<%= _('Handling').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"pull-right cart-summary-tax-total-formatted\">\n\t\t\t\t\t\t<%= summary.taxtotal_formatted %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<%= _('Tax').translate() %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n\n\t<% if (is_estimate) {%>\n\t\t<div class=\"cart-summary-total\">\n\t\t\t<p class=\"no-margin-bottom strong\">\n\t\t\t\t<span class=\"pull-right\"><%= summary.total_formatted %><\/span>\n\t\t\t\t<%= options.showLabelsAsEstimated ? _('Estimated Total').translate() : _('Total').translate() %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (options.showActions) { %>\n\t\t<div class=\"box-wells-footer shopping-cart-action-buttons\">\n\t\t\t<a id=\"btn-proceed-checkout\" class=\"btn btn-large btn-block btn-primary btn-proceed-checkout\" href=\"#\"  data-hashtag=\"#\">\n\t\t\t\t<%= _('Proceed to Checkout').translate() %>\n\t\t\t<\/a>\n\t\t\t<a id=\"btn-download-pdf\" class=\"btn btn-large btn-block btn-primary btn-download-pdf\">\n\t\t\t\t<%= _('Download PDF quote').translate() %>\n\t\t\t<\/a>\n\n\t\t\t<% if (paypal_express.available === 'T') { %>\n\t\t\t\t<a href=\"#\" data-touchpoint=\"checkout\" data-hashtag=\"#\" data-parameters=\"paypalexpress=T\">\n\t\t\t\t\t<img src=\"<%= paypal_express.imageurl %>\" alt=\"PayPal Express\" width=\"145px\" height=\"42px\">\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% } %>\n<\/div>\n<% if (!shipping_zipcode && false) { %>\n<div class=\"box-wells\">\n    <div class=\"box-wells-header\">\n        <h3 class=\"\">\n            <%= _('Estimate Tax & Shipping').translate() %> <i data-toggle=\"tooltip\" title=\"<%= _('<b>Shipping Estimator<\/b><br>Shipping fees are based on your shipping location. Please enter your information to view estimated shipping costs.').translate() %>\" class=\"icon-question-sign summary-estimate-ts-help\"><\/i>\n        <\/h3>\n    <\/div>\n    <div class=\"cart-summary-shipping-section box-wells-body\">\n        <div id=\"estimate-shipping-form\" class=\"estimate-shipping-form\">\n            <form action=\"#\" data-action=\"estimate-tax-ship\">\n                <fieldset>\n                    <% if (_.size(siteSettings.countries) > 1) { %>\n                    <div class=\"control-group\">\n                        <label for=\"country\"><%= _('Select Country').translate() %><\/label>\n                        <select name=\"country\" id=\"country\" class=\"input-medium country\" data-action=\"estimate-tax-ship-country\">\n                            <% _.each(siteSettings.countries, function (item, index) { %>\n                            <option value=\"<%= item.code %>\" <%= item.code === default_county ? 'selected' : '' %>><%= item.name %><\/option>\n                            <% }) %>\n                        <\/select>\n                    <\/div>\n                    <% } else { %>\n                    <span><%= _('Ship available only to $(0)').translate(_.toArray(siteSettings.countries)[0].name) %><\/span>\n                    <input name=\"country\" id=\"country\" class=\"country\" value=\"<%- _.toArray(siteSettings.countries)[0].code %>\" type=\"hidden\" \/>\n                    <% } %>\n                    <div class=\"control-group\">\n                        <label for=\"zip\">\n                            <%= default_county === 'US' ? _('Ship to the following zip code').translate() : _('Ship to the following postal code').translate() %>\n                        <\/label>\n                        <div class=\"form-inline\">\n                            <input type=\"text\" name=\"zip\" id=\"zip\" class=\"input-small zip\" value=\"<%- shipping_zipcode || '' %>\" placeholder=\"<%= default_county === 'US' ?  _('Zip code').translate() : _('Postal code').translate() %>\" required>\n                            <button class=\"btn\"><%= _('Estimate').translate() %><\/button>\n                        <\/div>\n                    <\/div>\n                <\/fieldset>\n            <\/form>\n        <\/div>\n    <\/div>\n<\/div>\n<% } %>\n<% if (!is_promocode_valid && false) { %>\n<div class=\"box-wells\">\n    <div class=\"box-wells-header\">\n        <h3 class=\"\" data-target=\"#promo-code-container\">\n            <%= _('Have a Promo Code?').translate() %> <i data-toggle=\"tooltip\" title=\"<%= _('<b>Promo Code<\/b><br>To redeem a promo code, simply enter your information and we will apply the offer to your purchase during checkout.').translate() %>\" class=\"icon-question-sign summary-promocode-help\"><\/i>\n        <\/h3>\n    <\/div>\n    <div class=\"cart-summary-promocode-section box-wells-body\">\n        <div id=\"promo-code-container\" class=\"promo-code-container\">\n            <%= SC.macros.promocodeForm(promocode) %>\n        <\/div>\n    <\/div>\n<\/div>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayInRows', function(items, macro, items_per_row, isCategory, clientId) { %>\n\t<% items_per_row = parseInt(items_per_row, 10) || 3 %>\n\t<% var span = 12 \/ items_per_row %>\n\t<% if(isCategory){ %>\n\t<div><div class='mensbanner fa'>\n\tMens\n\t<\/div>\n<% if(clientId) { %>\n\t<div style=\"float:right;\">\n\n\t<a data-hashtag=\"#productlists\/?id=<%=clientId%>\" data-touchpoint=\"customercenter\" href=\"#\" class=\"btn\">\n\t\t\t\t\t\t\t\tMy Product List\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% } %>\n\t<\/div>\n\t<% } %>\n\t<div class=\"row-fluid\" style=\"margin-top:20px;\">\n\t<% var count = 0;\n\t_.each(items, function (item, index){\n\t%>\n\t\t<% if (((count % items_per_row) == 0 || index == 10) && index > 0 ){\n\t\t\tcount=0; %>\n\t\t\t<\/div>\n\t\t\t<% if(index == 10 && isCategory){ %>\n\t\t\t<div class='womensbanner fa collapsed' data-toggle=\"collapse\" data-target=\"#womensbanner\" data-parent=\".womensbanner\">\n\t\t\t<span style=\"margin-right:75px;\">Womens<\/span>\n\t\t\t<\/div>\n\t\t\t<div id=\"womensbanner\" class=\"collapse\" style=\"height:0px;\">\n\t\t\t<% } %>\n\n\t\t\t<div class=\"row-fluid\" style=\"margin-top:20px;\">\n\t\t<% } %>\n\t\t<div class=\"span<%= span %>\">\n\t\t\t<% if (_.isFunction(macro)){ %>\n\t\t\t\t<%= macro(item) %>\n\t\t\t<% }else{ %>\n\t\t\t\t<%= item %>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<%\n\tcount++;\n\t}) %>\n\t<% if(isCategory){ %>\n\t<\/div>\n\t<% } %>\n\t<\/div>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetRange', function (translator, config, facet) { %>\n<%\n\tvar values = _.map(facet.values, function (item, index) {\n\t\t\treturn parseFloat(item.url);\n\t\t})\n\t\n\t,\tmin = _.min(values)\n\t,\tmax = _.max(values);\n%>\n<% if (max > min) { %>\n<%\n\tvar facet_html_id = _.uniqueId('facetRange_')\n\t,\trange_value = translator.getFacetValue(facet.id) || {from: min, to: max};\n%>\n<div id=\"<%= facet_html_id %>\" class=\"well-section facet-well facet-range\" data-type=\"rendered-facet\" data-facet-id=\"<%= facet.id %>\">\n\t<% if ( config.uncollapsible ) { %>\n\t\t<h3 class=\"heading uncollapsible\">\n\t\t\t<%= config.name || facet.id %>\n\t\t<\/h3>\n\t<% } else { %>\n\t\t<h3 class=\"heading\" data-toggle=\"collapse\" data-target=\"#<%= facet_html_id %> .filters\">\n\t\t\t<% if (facet.max != max || facet.min != min) { %>\n\t\t\t\t<a class=\"pull-right\" href=\"<%= translator.cloneWithoutFacetId( facet.id ).getUrl() %>\">\n\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t\t<i class=\"icon-chevron-down\" data-collapsed=\"true\"><\/i>\n\t\t\t<i class=\"icon-chevron-right\" data-collapsed=\"false\"><\/i>\n\t\t\t<%= config.name %>\n\t\t<\/h3>\n\t<% } %>\n\t<div class=\"filters <%= !config.uncollapsible && config.collapsed ? 'collapse' : 'in' %>\">\n\t\t<span class=\"pull-right\" data-range-indicator=\"end\"><%= _.isFunction(config.parser) ? config.parser(range_value.to, false) : range_value.to %><\/span>\n\t\t<span data-range-indicator=\"start\"><%= _.isFunction(config.parser) ? config.parser(range_value.from, false) : range_value.from %><\/span>\n\t\t\n\t\t<div class=\"progress slider slider-mini\" data-facet-id=\"<%= facet.id %>\" data-toggle=\"slider\" data-min=\"<%= min %>\" data-max=\"<%= max %>\" data-low=\"<%= range_value.from %>\" data-high=\"<%= range_value.to %>\">\n\t\t\t<div class=\"bar\"><\/div>\n\t\t\t<button class=\"btn btn-small slider-control control-left\" data-control=\"low\"><\/button>\n\t\t\t<button class=\"btn btn-small slider-control control-right\" data-control=\"high\"><\/button>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemListShowSelector', function(config) {  %>\n<div class=\"item-listing-items-limit\">\n\t<%\n\t\tvar client = \"\"\n\t\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\t\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t\t,\tclientId = \"\";\n\t\t \n\t\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tclient = \"?client=\" + clientId;\n\t\t}\n\t%>\n\t<label>\n\t\t<%= _('Show').translate() %>: \n\t\t<select data-type=\"navigator\">\n\t\t\t<% _.each(config.options, function(option) { %>\n\t\t\t\t<option value=\"<%- config.translator.cloneForOptions({show: option.items, page: 1}).getUrl()%><%=client%>\" <%= parseInt(config.translator.getOptionValue(\"show\"), 10) === option.items ? 'selected' : '' %> ><%= option.name %><\/option>\n\t\t\t<%})%>\n\t\t<\/select>\n\t<\/label>\n<\/div>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('typeahead', function (item, query, application) { %>\n<div class=\"typeahead-item clearfix\">\n\t<div class=\"typeahead-item-head\">\n\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t<img class=\"typeahead-image\" src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t<div class=\"typeahead-title\"><%= _.highlightKeyword(item.get('_name'), query) %><\/div>\n\t<\/div>\n<\/div>\n<%})%> \n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merch_cms', function (zone) { %>\n<% var items_per_row = 4; %>\n<% var grid_columns = 12 \/ items_per_row; %>\n<aside>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<% _.each(zone.items, function (item, index) { %>\n\t\t\t\t<% if ((index % items_per_row) == 0 && index > 0) { %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<% } %>\n\t\t\t\t<div class=\"span<%= grid_columns %>\">\n\t\t\t\t\t<% var item_url = '\/'+ item.urlcomponent; %>\n\t\t\t\t\t<div class=\"item-cell item-cell-grid\">\n\t\t\t\t\t\t<a class=\"thumbnail\" href=\"<%= item_url %>\">\n\t\t\t\t\t\t\t<img src=\"<%= item.cms.merch.image.url %>\" alt=\"<%= item.cms.merch.image.alt_text %>\" \/>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t<a href=\"<%= item_url %>\"><%= item.name %><\/a>\n\t\t\t\t\t\t<\/h5>\n\t\t\t\t\t\t<a class=\"btn btn-small btn-primary btn-expanded\" href=\"<%= item_url %>\"><%= _('See more').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% }); %>\n\t\t<\/div>\n\t<\/div>\n<\/aside>\n<% }); %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('starRating', function (options) { %>\n<%\n\tvar fill_value = options.fillRounded ? Math.round(options.value * 2) \/ 2 : options.value\n\t,\tfilled_by = fill_value * 100 \/ options.max\n\t,\ti;\n%>\n<div class=\"rating <%= options.className %>\">\n\t<% if (options.label) { %>\n\t\t<span class=\"rating-label\">\n\t\t\t<%= options.label %>\n\t\t<\/span>\n\t<% } %>\n\t<div class=\"rating-area\" data-toggle='rater' data-name=\"<%= options.name %>\" data-max=\"<%= options.max %>\" data-value=\"<%= options.value %>\">\n\t\t<meta itemprop=\"bestRating\" content=\"<%= options.max %>\">\n\t\t<div class=\"rating-area-fill\" data-toggle='ratting-component-fill' style=\"width: <%= filled_by %>%\">\n\t\t<\/div>\n\t\t<% if (options.writeMode) { %>\n\t\t\t<% for (i = 1; i <= options.max; i++) { %>\n\t\t\t\t<button type=\"button\" data-action=\"rate\" name=\"<%= options.name %>\" value=\"<%= i %>\"><\/button>\n\t\t\t<% } %>\n\t\t<% } %>\n\t\t<div class=\"clearfix\"><\/div>\n\t<\/div>\n\t<% if (options.showValue) { %>\n\t\t<span class=\"rating-value\" itemprop=\"ratingValue\">\n\t\t\t<%= options.value %>\n\t\t<\/span>\n\t<% } else { %>\n\t\t<meta itemprop=\"ratingValue\" content=\"<%= options.value %>\">\n\t<% } %>\n\t<div class=\"clearfix\"><\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('categoryCell', function (item) {\nvar application = SC.Application('Shopping'); %>\n<div class=\"category-cell\">\n\t<% if (Backbone.history.fragment.split(\"?\").length > 1) { %>\n\t\t\t<%\n\t\t\t\tvar client = \"\"\n\t\t\t\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\t\t\t\tif (isOrderPage) {\n\t\t\t\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t\t\t\t,\tclientId = \"\";\n\n\t\t\t\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\t\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tclient = \"?client=\" + clientId;\n\t\t\t\t}\n\n\t\t\t%>\n\t\t\t<div class=\"category-cell-thumbnail thumbnail\" style=\"text-align:center;\">\n\t\t\t\t<a href=\"<%= item.url %><%= client %>\">\n\t\t\t\t\t<img src=\"<%- application.resizeImage(item.image, 'thumbnail') %>\" alt=\"<%= item.label %>\">\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t\t<div class=\"category-cell-name\">\n\t\t\t\t<a href=\"<%= item.url %><%= client %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<% } else {%>\n\t\t\t<div class=\"category-cell-thumbnail thumbnail\">\n\t\t\t\t<a href=\"<%= item.url %>\">\n\t\t\t\t\t<img src=\"<%- application.resizeImage(item.image, 'thumbnail') %>\" alt=\"<%= item.label %>\">\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t\t<div class=\"category-cell-name\">\n\t\t\t\t<a href=\"<%= item.url %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerTopNav', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tenvironment = SC.ENVIRONMENT\n\t,\tshow_currency_selector = !application.getConfig('notShowCurrencySelector')\n\t,\tmacros = SC.macros\n\n\t,\thosts = environment.availableHosts\n\t,\thas_multiple_hosts = hosts.length > 1\n\n\t,\tlanguages = environment.availableLanguages\n\t,\thas_multiple_languages = languages.length > 1\n\n\t,\thas_hosts_or_languages = has_multiple_hosts || has_multiple_languages\n\n\t,\tcurrencies = environment.availableCurrencies\n\t,\thas_multiple_currencies = currencies.length > 1;\n%>\n<nav class=\"navbar navbar-inverse navbar-static-top site-header-top-nav\">\n\t<div class=\"navbar-inner\">\n\t\t<div class=\"container\">\n            <div class=\"content-toplogo pull-left\"><\/div>\n\t\t\t<% if (has_hosts_or_languages || has_multiple_currencies) { %>\n\t\t\t\t<ul class=\"nav customer-site-settings\">\n\t\t\t\t<% if (has_hosts_or_languages) { %>\n\t\t\t\t\t<li id=\"language-selector-container\" class=\"language-selector-container\">\n\t\t\t\t\t\t<form action=\"\" class=\"navbar-form\">\n\t\t\t\t\t\t\t<% if (has_multiple_hosts) { %>\n\t\t\t\t\t\t\t\t<%= macros.hostSelector(hosts, environment.currentHostString) %>\n\t\t\t\t\t\t\t<% } else if (has_multiple_languages) { %>\n\t\t\t\t\t\t\t\t<%= macros.languageSelector(languages, environment.currentLanguage.locale) %>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/form>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (has_hosts_or_languages && has_multiple_currencies && show_currency_selector) { %>\n\t\t\t\t\t<li class=\"divider-vertical\"><\/li>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (has_multiple_currencies) { %>\n\t\t\t\t\t<li id=\"currency-selector-container\" class=\"currency-selector-container\">\n\t\t\t\t\t\t<form action=\"\" class=\"navbar-form\">\n\t\t\t\t\t\t\t<% if (show_currency_selector) { %>\n\t\t\t\t\t\t\t\t<%= macros.currencySelector(currencies, environment.currentCurrency.code) %>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/form>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t\t<\/ul>\n\t\t\t<% } %>\n\t\t\t<!-- TODO: should the following be inside a macro? -->\n\t\t\t<ul class=\"nav pull-right\">\n\t\t\t\t<%= macros[application.getConfig('profileMacro')](application) %>\n\t\t\t\t<li id=\"mini-cart-container\" class=\"dropdown mini-cart-container\">\n\t\t\t\t\t<%= macros.miniCart(application.getCart(), application) %>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n<\/nav>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetsDisplay', function (translator) { %>\n<%\n\tvar fileLocationPath = '\/SCA QuickStart - Basic\/ShopFlow\/templates\/items_list\/macros\/facets_display_macro.txt';\n\n\t\/\/ Takes Category out and returns all the other facets\n\tvar facets = translator.cloneWithoutFacetId('category').getAllFacets().sort(function (a, b) {\n\t\treturn b.config.priority - a.config.priority;\n\t});\n\n\t\/\/var facets = translator.getAllFacets()\n\t\/\/var facets = [{priority:10, behavior:'single', value:[]}];\n\n\tvar client = \"\"\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t,\tclientId = \"\";\n\n\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tclient = \"?client=\" + clientId;\n\t}\n%>\n<% if (facets && facets.length) { %>\n<div class=\"facet-selections\">\n\t<ul class=\"facets-display nav nav-pills\">\n\t\t<!-- hidden-phone -->\n\t\t<li class=\"disabled hidden-phone facet-selections-label\">\n\t\t\t<%= _('Narrowed By:').translate() %>\n\t\t<\/li>\n\t\t<!-- \/hidden-phone -->\n\t\t<% var values = []; %>\n\t\t<% _.each(facets, function (facet) { %>\n\t\t\t<% values = _.isArray(facet.value) ? facet.value : [facet.value] %>\n\t\t\t<% _.each(values, function (value) { %>\n\t\t\t\t<li class=\"active\">\n\t\t\t\t\t<a href=\"<%=translator.cloneForFacetId(facet.id, value).getUrl()%><%= client%>\">\n\t\t\t\t\t<% if (_.isObject(value)) { %>\n\t\t\t\t\t\t<%= _('$(0) to $(1)').translate(_.formatCurrency(value.from), _.formatCurrency(value.to)) %> &times;\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<%= translator.getLabelForValue(facet.id, value) %> &times;\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% }) %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('clientsOptionDropdown', function (clients, parent) { %>\n\t<% if(clients){ %>\n\t\t<form id=\"tailorclient-form\">\n\t\t\t<fieldset>\n\t\t\t\t<div data-input=\"clients-options\" class=\"control-group\">\n\t\t\t\t\t<label for=\"clients-options\" class=\"control-label\"><%= _('Client: ').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<select class=\"clients-options\" id=\"clients-options\">\n\t\t\t\t\t\t\t<% \n\t\t\t\t\t\t\t\tvar selected = false;\n\t\t\t\t\t\t\t\tvar selectedID = \"\";\n\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<option value=\"\"><%= _('Select a client').translate() %><\/option>\n\t\t\t\t\t\t\t<% clients.sort(); %>\n\t\t\t\t\t\t\t<% clients.each(function(client){ %>\n\t\t\t\t\t\t\t\t<% \n\t\t\t\t\t\t\t\t\tif(client.get(\"internalid\") == SC._applications.Shopping.getLayout().currentView.model.get(\"current_client\")){\n\t\t\t\t\t\t\t\t\t\tselected = true;\n\t\t\t\t\t\t\t\t\t\tselectedID = client.get(\"internalid\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t<option value=\"<%= client.get(\"internalid\")%>\" <%= client.get(\"internalid\") == SC._applications.Shopping.getLayout().currentView.model.get(\"current_client\") ? 'selected' : ''%>><%= client.get(\"custrecord_tc_last_name\")%>, <%= client.get(\"custrecord_tc_first_name\")%><\/option>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<\/select>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"form-actions\">\n\t\t\t\t\t<a id=\"swx-order-clients-add-href\" data-toggle=\"show-in-modal\" class=\"btn\" href=\"\/tailorclientdetails\/new|client|<%= parent %>\">Add<\/a>\n\t\t\t\t\t<% if(selected){ %>\n\t\t\t\t\t\t<a data-toggle=\"show-in-modal\" class=\"btn\" href=\"\/tailorclientdetails\/<%= selectedID %>|client|<%= parent %>\">Edit<\/a>\n\t\t\t\t\t\t<a data-toggle=\"show-in-modal\" class=\"btn\" data-action=\"remove-rec\" data-type=\"client\" data-id=\"<%= selectedID %>\">Remove<\/a>\n\t\t\t\t\t\t<a class='btn btn-primary' data-hashtag='#\/item-types?client=<%= selectedID %>' data-touchpoint='home' href='\/item-types?client=<%= selectedID %>'>Create Order<\/a>\n\t\t\t\t\t<% } %>\t\n\t\t\t\t<\/div>\n\t\t\t<\/fieldset>\n\t\t<\/form>\t\t\t\t\t\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemCellList', function (item, view) { %>\n<%\n\tvar min_qty = parseInt(item.get('_minimumQuantity'), 10)\n\t,\tthumbnail = item.get('_thumbnail')\n\t,\tmacros = SC.macros\n\t,\tstock_info = item.getStockInfo();\n\n\tvar client = \"\"\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t,\tclientId = \"\";\n\t \n\t\t\/\/for(var i = fragmentArray.length -1; i >= 0; i--){\n\t\tfor(var i = 0; i <= fragmentArray.length; i++){\n\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tclient = \"?client=\" + clientId;\n\t}\n%>\n<div class=\"row-fluid item-cell item-cell-list\" itemprop=\"itemListElement\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t<div class=\"span3\">\n\t\t<div class=\"item-cell-thumbnail thumbnail\">\n\t\t\t<a href=\"<%= item.get('_url') %><%= client %>\">\n\t\t\t\t<img src=\"<%= view.options.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\" itemprop=\"image\">\n\t\t\t<\/a>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"span9\">\n\t\t<meta itemprop=\"url\" content=\"<%= item.get('_url') %>\">\n\t\t<h2 class=\"item-cell-name\">\n\t\t\t<a href=\"<%= item.get('_url') %><%= client %>\">\n\t\t\t\t<span itemprop=\"name\">\n\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t<\/span>\n\t\t\t<\/a>\n\t\t<\/h2>\n\t\t<div class=\"item-cell-price\">\n\t\t\t<%= macros.showItemPrice(item.getPrice(), stock_info.isInStock) %>\n\t\t<\/div>\n\t\t<div class=\"item-cell-rating item-cell-rating item-rating rating-<%= item.get('_rating') %>\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t<%= macros.starRating({\n\t\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t\t,\tvalue: item.get('_rating')\n\t\t\t,\tclassName: 'star pull-left'\n\t\t\t,\tfillRounded: true\n\t\t\t}) %>\n\t\t\t<span class=\"review-total\">\n\t\t\t\t<%= _('($(0))').translate(\n\t\t\t\t\t'<span>' + item.get('_ratingsCount') + '<\/span>'\n\t\t\t\t) %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"options-container\">\n\t\t\t<%= item && item.renderAllOptionSelector(\n\t\t\t\t_.where(item.getPosibleOptions(), {showSelectorInList: true})\n\t\t\t) %>\n\t\t<\/div>\n\t\t<% if (view.options.application.getConfig('addToCartFromFacetsView') && item.isReadyForCart()) { %>\n\t\t\t<form class=\"form-inline\" data-toggle=\"add-to-cart\">\n\t\t\t\t<input type=\"hidden\" value=\"<%= item.get('_id') %>\" name=\"item_id\">\n\t\t\t\t<input name=\"quantity\" class=\"input-mini\" type=\"number\" min=\"1\" value=\"<%- min_qty %>\">\n\t\t\t\t<input type=\"submit\" class=\"btn btn-primary\" value=\"Add to Cart\">\n\t\t\t<\/form>\n\t\t<% } %>\n\t\t<div class=\"item-cell-stock\">\n\t\t\t<%= macros.itemDetailsStock(stock_info) %>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('promocodeForm', function( promocode ) { %>\n<% var is_invalid = !!( promocode && promocode.error ); %>\n<form class=\"form-inline\" data-action=\"apply-promocode\">\n\t<fieldset>\n\t\t<div class=\"control-group <%= is_invalid ? 'error' : '' %>\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"promocode\"\n\t\t\t\tid=\"promocode\"\n\t\t\t\tclass=\"input-medium promocode\"\n\t\t\t\tvalue=\"<%- promocode && promocode.code %>\"\n\t\t\t\tplaceholder=\"<%- _('Promo code').translate() %>\"\n\t\t\t\trequired\n\t\t\t>\n\t\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t\t<%= _('Apply').translate() %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t\t<div data-type=\"promocode-error-placeholder\">\n\t\t<% if (is_invalid) { %>\n\t\t\t<%= SC.macros.message(promocode.error, 'error', true) %>\n\t\t<% } %>\n\t\t<\/div>\n\t<\/fieldset>\n<\/form>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('galleryPanel', function (images, view) { %>\n<%\n\tvar resizeImage = view.application.resizeImage\n\t,\timage_resize_id = SC.ENVIRONMENT.screenWidth < 768 ? 'thumbnail' : 'zoom'\n\t,\tthumbImageIndex = new Array();\n%>\n<div class=\"in-modal-image-gallery\">\n<% if (images.length) { %>\n\t<% if (images.length > 1) { %>\n\t\t<ul class=\"bxslider\" data-slider>\n\t\t<% _.each(images, function (image) { %>\n\t\t\t<li class=\"pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t\t<img src=\"<%= resizeImage(image, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\">\n\t\t\t<\/li>\n\t\t<% }) %>\n\t\t<\/ul>\n\t<% } else { %>\n\t\t<% var image = images[0]; %>\n\t\t<div class=\"item-detailed-image pinterest-image\" data-zoom data-share-hover-pint-it-button=\"true\">\n\t\t\t<img class=\"center-block\" src=\"<%= resizeImage(image, image_resize_id) %>\" alt=\"<%= image.altimagetext %>\" itemprop=\"image\">\n\t\t<\/div>\n\t<% } %>\n<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('recentlyViewed', function (items, application) { %>\n\t<% if(items.length){ %>\n\t<aside class=\"shopping-cart-recent-items\">\n\t\t<h2><%= _('Recently viewed').translate() %><\/h2>\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, application);\n\t\t\t};\n\t\t%>\n\t\t<%= SC.macros.displayInRows(items, relatedWrap, 6) %>\n\t<\/aside>\n\t<% } %>\n<% }) %>\t\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('countriesDropdown', function (countries, selected_country, manage) { %>\n<select class=\"input-xlarge\" id=\"<%= manage ? manage : ''%>country\" name=\"country\" data-type=\"country\">\n\t<option value=\"\">\n\t\t<%= _('-- Select --').translate() %>\n\t<\/option>\n\t<% _.each(_.values(countries), function (country, index) { %>\n\t\t<option value=\"<%- country.code %>\" <%= country.code === selected_country ? 'selected' : '' %>>\n\t\t\t<%= country.name %>\n\t\t<\/option>\n\t<% }) %>\n<\/select>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemListDisplaySelector', function(config) {  %>\n<div class=\"item-listing-display span6 <%= config.classes || '' %>\">\n\t<span class=\"btn-group pull-right\">\n\t\t<% _.each(config.options, function(option) { %>\n\t\t\t<a href=\"<%- config.translator.cloneForOption(\"display\", option.id).getUrl() %>\" class=\"btn <%= config.translator.getOptionValue(\"display\") === option.id ? 'active' : '' %> \" title=\"<%= option.name %>\"><i class=\"<%= option.icon  %>\"><\/i><\/a>\n\t\t<% }) %> \n\t<\/span>\n<\/div>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('message', function (message, type, closable) { %>\n<%\n\tswitch(message) {\n\t\tcase \"Record was updated\" :\n\t\tcase \"Record was created\" :\n\t\tcase \"Record was deleted\" :\n\t\tcase \"Field was updated\" :\n\t\t\ttype = 'success';\n\t\t\tbreak;\n\t}\n%>\n<div class=\"alert <%= type ? 'alert-' + type : '' %>\">\n\t<% if (closable) { %>\n\t\t<button class=\"close\" data-dismiss=\"alert\">&times;<\/button>\n\t<% } %>\n\t<% if (_.isObject(message)) { %>\n\t\t<ul>\n\t\t<% _.each(message, function(item, index) { %>\n\t\t\t<li><%= item %><\/li>\n\t\t<% }) %>\n\t\t<ul>\n\t<% } else { %>\n\t\t<%= message %>\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('showReview', function (review, configuration) { %>\n<%\n\tvar rated = review.get('rated') || {};\n\trated.voted = rated['mark-as-useful'] || rated['mark-as-not-useful'];\n%>\n<article class=\"product-review\" itemprop=\"review\" itemscope itemtype=\"http:\/\/schema.org\/Review\">\n    <div class=\"row-fluid\">\n        <div class=\"span5\">\n            <header>\n                <div class=\"product-review-info\">\n\t\t\t<span class=\"pull-left\" itemprop=\"reviewRating\" itemscope itemtype=\"http:\/\/schema.org\/Rating\">\n\t\t\t\t<%= SC.macros.starRating({\n                    max: configuration.maxRate\n                    ,\tvalue: review.get('rating')\n                    ,\tclassName: 'star'\n                    ,\tfillRounded: true\n                }) %>\n\t\t\t<\/span>\n                    |\n\t\t\t<span class=\"product-review-date\" itemprop=\"datePublished\">\n\t\t\t\t<%= review.get('created_on') || (new Date()).toDateString() %>\n\t\t\t<\/span>\n                <\/div>\n                <blockquote class=\"unstyled\">\n                    <h4 class=\"product-review-title\" itemprop=\"name\">\n                        <%= review.get('title') %>\n                    <\/h4>\n                    <cite class=\"prouct-review-author\">\n\t\t\t\t<span>\n\t\t\t\t<%= _('by $(0)').translate(\n                                '<span itemprop=\"author\">' + (review.get('writer').name || _('anonymous').translate()) + '<\/span>'\n                ) %>\n\t\t\t\t<\/span>\n                        <% if (review.get('isVerified')) { %>\n                        - <i class=\"icon-ok-sign\"><\/i> <%= _('verified purchaser').translate() %>\n                        <% } %>\n                    <\/cite>\n                <\/blockquote>\n            <\/header>\n            <div class=\"row-fluid\">\n                <div class=\"span9\">\n                    <blockquote class=\"product-review-content\" itemprop=\"description\">\n                        <%= review.get('text') %>\n                    <\/blockquote>\n                <\/div>\n                <div class=\"span3\">\n                    <% if (_.values(review.get('rating_per_attribute')).length) { %>\n                    <div class=\"product-review-rating-per-attribute\">\n                        <% _.each(review.get('rating_per_attribute'), function(attr_rating, attr_name) { %>\n                        <%= SC.macros.starRating({\n                            max: configuration.maxRate\n                            ,\tvalue: attr_rating\n                            ,\tlabel: attr_name\n                            ,\tclassName: 'pegs text-center'\n                            ,\tfillRounded: true\n                        }) %>\n                        <% }) %>\n                    <\/div>\n                    <% } %>\n                <\/div>\n            <\/div>\n        <\/div>\n        <div class=\"span7\">\n            <% if (configuration.showActionButtons) { %>\n            <footer>\n                <p><%= _('Was this review helpful?').translate() %><\/p>\n                <p class=\"product-review-actions\">\n                    <button\n                            class=\"btn useful-review <%= rated.voted ? 'disabled'+ (rated['mark-as-useful'] ? ' btn-success' : '') : '' %>\"\n                            type=\"button\"\n                            data-type=\"vote\"\n                            data-action=\"mark-as-useful\"\n                            data-review-id=\"<%= review.get('internalid') %>\">\n\n                        <%= (review.get('useful_count') > 0) ? _('Yes ($(0))').translate(review.get('useful_count')) : _('Yes').translate() %>\n                    <\/button>\n                    <button\n                            class=\"btn not-useful-review <%= rated.voted ? 'disabled'+ (rated['mark-as-not-useful'] ? ' btn-success' : '') : '' %>\"\n                            type=\"button\"\n                            data-type=\"vote\"\n                            data-action=\"mark-as-not-useful\"\n                            data-review-id=\"<%= review.get('internalid') %>\">\n\n                        <%= (review.get('not_useful_count') > 0) ? _('No ($(0))').translate(review.get('not_useful_count')) : _('No').translate() %>\n                    <\/button>\n                <\/p>\n            <\/footer>\n            <div data-type=\"alert-placeholder\"><\/div>\n            <% } %>\n        <\/div>\n    <\/div>\n\n\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionColor', function (option, value, model) { %>\n<div>\n\t<%= option.label || option.name.replace(':', '') %>: \n\t<% var color = option.colors && (option.colors[value.label] || option.colors.defaultColor); %>\n\t<span \n\t\t<% if (!_.isObject(color)) { %>\n\t\t\tstyle=\"background: <%= color %>\"\n\t\t<% } %>\n\t\tclass=\"cart-color-tile\">\n\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t<img \n\t\t\t\t\tsrc=\"<%- color.src %>\" \n\t\t\t\t\talt=\"<%- value.label %>\"\n\t\t\t\t\twidth=\"<%- color.width || '' %>\" \n\t\t\t\t\theight=\"<%- color.height || '' %>\">\n\t\t\t<% } %>\t\n\t<\/span> <%= value.label %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('miniCartSummary', function (total_items, loading) { %>\n<span class=\"item-count<%= loading ? ' loading' : '' %>\">\n<% if (loading) { %>\n\t<%= _('Loading cart...').translate() %>\n    <i class=\"fa fa-spinner fa-spin fa-lg\"><\/i>\n<% } else { %>\n\t<% if (total_items !== 1) { %>\n\t\t<%= _('$(0) items').translate(total_items) %>\n\t<% } else { %>\n\t\t<%= _('1 item').translate() %>\n\t<% } %>\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionRadio', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<div id=\"<%= htmlid %>\" class=\"<%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<label class=\"radio <%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"radio\" \n\t\t\t\t\t\tname=\"<%= htmlid %>\" \n\t\t\t\t\t\tvalue=\"<%= item.internalid %>\" \n\t\t\t\t\t\t<%= is_active ? 'checked' : '' %> \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t\t<\/label>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('footerNavigation', function (nav_links) { %>\n<ul class=\"site-footer-main-nav\">\n<% _.each(nav_links, function (item) { %>\n\t<li>\n\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t<%= item.text %>\n\t\t<\/a>\n\t<\/li>\n<% }) %>\n<\/ul>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('statesDropdown', function (options) { %>\n<%\n\tvar country = options.selectedCountry && options.countries[options.selectedCountry]\n\t,\tstates = country && country.states;\n%>\n<% if (country && states) { %>\n\t<label class=\"control-label\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State').translate() %>\n\t\t<small><%= _('(required)').translate() %><\/small>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<select class=\"input-xlarge\" id=\"<%= options.manage ? options.manage : ''%>state\" name=\"state\" data-type=\"state\">\n\t\t\t<option value=\"\">\n\t\t\t\t<%= _('-- Select --').translate() %>\n\t\t\t<\/option>\n\t\t\t<% _.each(states, function (state) { %>\n\t\t\t<option value=\"<%- state.code %>\" <%= state.code === options.selectedState ? 'selected' : '' %>>\n\t\t\t\t<%= state.name %>\n\t\t\t<\/option>\n\t\t\t<% }) %>\n\t\t<\/select>\n\t<\/div>\n<% } else { %>\n\t<label class=\"control-label\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State\/Province\/Region').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tid=\"<%= options.manage ? options.manage : ''%>state\"\n\t\t\tname=\"state\"\n\t\t\tclass=\"input-xlarge\"\n\t\t\tvalue=\"<%- options.selectedState %>\"\n\t\t\tdata-type=\"state\"\n\t\t\tplaceholder=\"<%- _('(optional)').translate() %>\"\n\t\t>\n\t<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetList', function (translator, config, facet) { %>\n<%\n\tvar is_active = false\n\t,\tvalues = _.reject((_.isArray(facet.values) ? facet.values : [facet.values]), function (filter) {\n\t\t\treturn filter.url === '';\n\t\t});\n\n\tif (values.length && facet.id != \"custitem_applicable_tailor\" && facet.id != \"category\" && facet.id != \"category\" && facet.id != \"custitem_clothing_type\")\n\t{ \/\/Remove custitem_applicable_tailor, item type and category from the list\n\t\tvar selected = translator.getFacetValue(facet.id) || []\n\t\t,\tfacet_html_id = _.uniqueId('facetList_');\n\n\t\tselected = _.isArray(selected) ? selected : [selected];\n\t\tconfig.max = config.max || values.length;\n\n\tvar client = \"\"\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t,\tclientId = \"\";\n\n\t\tfor(var i = fragmentArray.length -1; i >= 0; i--){\n\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tclient = \"?client=\" + clientId;\n\t}\n%>\n<div id=\"<%= facet_html_id %>\" class=\"well-section facet-well\" data-type=\"rendered-facet\" data-facet-id=\"<%= facet.id %>\">\n\t<% if (!config.hideHeading) { %>\n\t\t<% if (config.uncollapsible) { %>\n\t\t\t<h3 class=\"heading uncollapsible\">\n\t\t\t\t<% if (selected.length) { %>\n\t\t\t\t\t<a class=\"pull-right\" data-url=\"\/<%= facet.id+'\/'+filter.url %><%= client %>\">\n\t\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t\t<\/a>\n\t\t\t\t<% } %>\n\t\t\t\t<%= config.name || facet.id %>\n\t\t\t<\/h3>\n\t\t<% } else { %>\n\t\t\t<h3 class=\"heading\" data-toggle=\"collapse\" data-target=\"#<%= facet_html_id %> .filters\" data-type=\"collapse\" title=\"<%= config.name || facet.id %>\">\n\t\t\t\t<i class=\"icon-chevron-down\" data-collapsed=\"true\"><\/i>\n\t\t\t\t<i class=\"icon-chevron-right\" data-collapsed=\"false\"><\/i>\n\t\t\t\t<% if (selected.length) { %>\n\t\t\t\t\t<a class=\"pull-right\" data-url=\"\/<%= facet.id+'\/'+filter.url %><%= client %>\">\n\t\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t\t<\/a>\n\t\t\t\t<% } %>\n\t\t\t\t<%= config.name || facet.id %>\n\t\t\t<\/h3>\n\t\t<% } %>\n\t<% } else { %>\n\t\t<h3 class=\"heading uncollapsible\"><\/h3>\n\t<% } %>\n\t<div class=\"filters <%= !config.uncollapsible && config.collapsed ? 'collapse' : 'in' %>\">\n\t\t<ul class=\"nav nav-list\">\n\t\t<% _.each(_.first(values, config.max), function (filter, index) {%>\n\t\t\t<% is_active = _.contains(selected, filter.url); %>\n\t\t\t<li class=\"<%= is_active ? 'active' : '' %>\">\n\t\t\t\t<h4>\n\t\t\t\t\t<a data-filter='facet' data-facet='<%=facet.id%>' data-url='<%=filter.url%>' title=\"<%= filter.label %>\">\t\t\t\t\t\t\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<%= filter.label || filter.url || _('(none)').translate() %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<span class=\"hidden\">\n\t\t\t\t\t\t\t(<%= filter.count %>)\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/h4>\n\t\t\t<\/li>\n\t\t<% })%>\n\t\t<\/ul>\n\t\t<% if (values.length > config.max) { %>\n\t\t\t<ul class=\"nav nav-list extra collapse\">\n\t\t\t<% _.each(_.rest(values, config.max), function (filter, index) { %>\n\t\t\t\t<% is_active = _.contains(selected, filter.label); %>\n\t\t\t\t<li class=\"<%= is_active ? 'active' : '' %>\">\n\t\t\t\t\t<h4>\n\t\t\t\t\t\t<a data-filter='facet' data-facet='<%=facet.id%>' data-url='<%=filter.url%>' title=\"<%= filter.label %>\">\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<%= filter.label || filter.url || _('(none)').translate() %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<span class=\"hidden\">\n\t\t\t\t\t\t\t\t(<%= filter.count %>)\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/h4>\n\t\t\t\t<\/li>\n\t\t\t<% })%>\n\t\t\t<\/ul>\n\t\t\t<div class=\"right-aligned\">\n\t\t\t\t<button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#<%= facet_html_id %> .extra\" data-type=\"view-all\">\n\t\t\t\t\t<span data-collapsed=\"false\">\n\t\t\t\t\t\t<%= _('see more').translate() %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span data-collapsed=\"true\">\n\t\t\t\t\t\t<%= _('see less').translate() %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<\/div>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('relatedItems', function (items, application) { %>\n<%\n\tvar macros = SC.macros\n\t,\trelatedWrap = function relatedWrap (item) {\n\t\treturn macros.relatedItem(item, application);\n\t}\n%>\n<aside class=\"shopping-cart-related-items\">\n\t<h2><%= _('You may also like').translate() %><\/h2>\n\t<div class=\"row-fluid\">\n\t\t<%= macros.displayInRows(_.first(items, 6), relatedWrap, 6) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartItem', function(line, view, options) { %>\n<%\nvar item = line.get('item');\noptions = _.extend({ showActions: true}, options || {});\n\nvar url = _(item.get('_url') + item.getQueryStringWithQuantity(1)).fixUrl();\nvar application = view.options.application;\nvar stock_info = item.getStockInfo();\n\nif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n{\n\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\thref: url\n\t,\tdata: {\n\t\t\ttouchpoint: 'home'\n\t\t,\thashtag: '#'+url\n\t\t}\n\t});\n}\nelse if (url)\n{\n\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\thref: url\n\t});\n}\n\n%>\n<article id=\"<%- line.get('internalid') %>\" class=\"cart-item-cell <%= line.get('internalid') %>\">\n\t<div data-type=\"alert-placeholder\">\n\t<% if (item.get('_cartCustomAlert')) {%>\n\t\t<div class=\"alert alert-<%= item.get('_cartCustomAlertType') || 'info' %>\">\n\t\t\t<%= item.get('_cartCustomAlert') %>\n\t\t<\/div>\n\t<% } %>\n\t<\/div>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span3 thumbnail cart-item-thumbnail\">\n\t\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t\t<% if (options.showActions) { %>\n\t\t\t\t<a <%= link_attributes %>>\n\t\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t\t<\/a>\n\t\t\t<% } else { %>\n\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"span9 details\">\n\t\t\t<div class=\"span9 cart-item-details\">\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<% if (options.showActions) { %>\n\t\t\t\t\t\t<a <%= link_attributes %>>\n\t\t\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"lead lead-small price\">\n\t\t\t\t\t<%= SC.macros.showItemPrice(line.getPrice(), stock_info.isInStock) %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"sku\">\n\t\t\t\t\t<%= _('<span class=\"sku-label\">SKU: #<\/span><span class=\"sku-value\">$(0)<\/span>').translate( item.get('_sku') ) %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"cart-item-options\">\n\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"quantity-container\">\n\t\t\t\t<% if (options.showActions) { %>\n\t\t\t\t\t<form action=\"#\" data-action=\"update-quantity\">\n\t\t\t\t\t\t<input type=\"hidden\" name=\"internalid\" id=\"update-internalid-<%= line.get('internalid') %>\" class=\"update-internalid-<%= line.get('internalid') %>\" value=\"<%- line.get('internalid') %>\">\n\t\t\t\t\t\t<% if(item.get('_itemType') !== 'GiftCert') { %>\n\t\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity-<%= line.get('internalid') %>\" class=\"input-mini quantity-<%= line.get('internalid') %>\" value=\"<%- line.get('quantity') %>\" min=\"1\">\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"quantity\" id=\"quantity-<%= line.get('internalid') %>\" value=\"1\">\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<\/form>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%=_('Qty: $(0)').translate(line.get('quantity')) %>\n\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"span3 amount\">\n\t\t\t\t<%= line.get('total_formatted') %>\n\t\t\t\t<% if( line.get('amount') > line.get('total') ) {%>\n\t\t\t\t\t<small class=\"muted crossed\"><%=  line.get('amount_formatted') %><\/small>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"clearfix\"><\/div>\n\t\t\t<div class=\"text-right cart-item-stock-info\">\n\t\t\t\t<%= SC.macros.itemDetailsStock(stock_info) %>\n\t\t\t<\/div>\n\t\t\t<% if (options.showActions) { %>\n\t\t\t\t<div class=\"cart-item-actions\">\n\t\t\t\t\t<% if (SC.ENVIRONMENT.siteType !== \"STANDARD\") { %>\n\t\t\t\t\t\t<a class=\"btn edit\" href=\"<%- _(item.get('_editUrl')).fixUrl() %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<button class=\"btn remove\" data-action=\"remove-item\" data-internalid=\"<%- line.get('internalid') %>\">\n\t\t\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t\t\t<\/button>\n\t\t\t\t\t<% if (SC.ENVIRONMENT.siteType !== \"STANDARD\" && application.ProductListModule && application.ProductListModule.isProductListEnabled() && application.name.toLowerCase() === 'shopping') { %>\n\t\t\t\t\t\t<button class=\"btn saveforlater\" data-action=\"save-for-later-item\" data-internalid=\"<%- line.get('internalid') %>\">\n\t\t\t\t\t\t\t<%= _('Save for Later').translate() %>\n\t\t\t\t\t\t<\/button>\n\t\t\t\t\t<% }\u00a0%>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('header', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tcart = application.getCart()\n\t,\tmacros = SC.macros\n\t,\tprofile = macros[application.getConfig('profileMacro')](application)\n\t,\thas_cart_router = application.modulesMountToAppResult.Cart instanceof application.modules.Cart.Router\n\t,\tcurrent_touchpoint = application.Configuration.currentTouchpoint\n\t,\tis_loading = cart.application.cartInstance.isLoading\n\t, \titemsCount = cart.getItemsIds().length;\n%>\n\t<%= macros.headerTopNav(view) %>\n\t<div class=\"container\">\n\t\t<div data-type=\"message-placeholder\"><\/div>\n\t\t<div class=\"row-fluid site-branding\">\n\t\t\t<div class=\"span5\">\n\t\t\t\t<%= macros.siteLogo(application) %>\n\t\t\t\t<!-- MOBILE -->\n\t\t\t\t<div class=\"navbar navbar-inverse mobile-nav\">\n\t\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t\t\t<div class=\"container\">\n\t\t\t\t\t\t\t<ul class=\"nav pull-right\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\" class=\"mini-cart-summary\">\n\t\t\t\t\t\t\t\t\t\t<%= macros.miniCartSummary(itemsCount, is_loading) %>\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t<a id=\"butt-toggle-mobile\" href=\"#\" class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".main-nav\">\n\t\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<nav class=\"navbar collapse visible-phone main-nav site-header-main-nav\">\n\t\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t\t\t<ul class=\"nav\">\n\t\t\t\t\t\t\t<% _.each(application.getConfig('navigationTabs', []), function (item) { %>\n\t\t\t\t\t\t\t\t<%= macros.navigationTabs(item, true) %>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t<ul class=\"nav mobile-profile\">\n\t\t\t\t\t\t\t<%= profile %>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/nav>\n\t\t\t\t<!-- \/MOBILE -->\n\t\t\t<\/div>\n\t\t\t<div class=\"span4 header-banner\">\n\t\t\t\t<div id=\"banner-header-top\" class=\"content-banner banner-header-top\"><\/div>\n\t\t\t\t&nbsp;\n\t\t\t<\/div>\n\n\t\t<\/div>\n\t\t<div id=\"banner-header-bottom\"  class=\"content-banner banner-header-bottom\"><\/div>\n\t<\/div>\n\t<div id=\"main-nav-container\">\n\t\t<div class=\"container\">\n\t\t\t<nav class=\"navbar hidden-phone main-nav site-header-main-nav\">\n\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t\t<ul id=\"main-nav-ul\"class=\"nav\">\n\t\t\t\t\t\t<% _.each(application.getConfig('navigationTabs', []), function (item) { %>\n\t\t\t\t\t\t\t<%= macros.navigationTabs(item, true) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<\/ul>\n\t\t\t\t<\/div>\n\t\t\t<\/nav>\n\t\t<\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsReviews', function ( options ) { %>\n<% if (options.item.get('_ratingsCount')) { %>\n\t<div class=\"item-detailed-reviews\">\n        <div class=\"row-fluid\">\n            <div class=\"span3\">\n            <header class=\"reviews-header\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n                <div class=\"row-fluid\">\n                    <div class=\"reviews-star-filters\">\n                        <div class=\"star-rating\">\n                            <%= SC.macros.starRating({\n                                max: options.application.getConfig('productReviews.maxRate')\n                            ,\tvalue: options.item.get('_rating')\n                            ,\tfillRounded: true\n                            ,\tclassName: 'star'\n                            ,\tshowValue: true\n                            }) %>\n                        <\/div>\n                        <div class=\"rating-by-star\">\n                            <%= SC.macros.ratingByStar({\n                                ratingsCountsByRate: options.item.get('_ratingsCountsByRate') || {}\n                            ,\tmaxRate: options.application.getConfig('productReviews.maxRate')\n                            ,\ttotalReviews: options.item.get('_ratingsCount')\n                            ,\tbaseUrl: options.item.get('_url')\n                            ,\tshowPercentage: true\n                            ,\tshowCount: true\n                            }) %>\n                        <\/div>\n                    <\/div>\n                    <div class=\"based-on strong\">\n                        <%\n                            var label = options.item.get('_ratingsCount') === 1 ? _('Review').translate() : _('').translate()\n                            ,\tcount = options.item.get('_ratingsCount');\n                        %>\n                       <!-- <%= _('Based on $(0) $(1)').translate('<span class=\"reviews-count\" itemprop=\"reviewCount\">'+ count +'<\/span>', label) %>-->\n                    <\/div>\n                    <div class=\"right-aligned write-review-container\">\n                        <a href=\"<%= options.item.get('_url') %>\/reviews\/new\" class=\"btn btn-primary\"><%= _('Write a Review').translate() %><\/a>\n                    <\/div>\n                <\/div>\n            <\/header>\n            <\/div>\n            <div class=\"span9\">\n                <section class='reviews-list'>\n                    <h4 class=\"topic-head\"><%= options.subtitle || 'Reviews List' %> :<\/h4>\n                    <% if (options.collection.totalRecordsFound) { %>\n                        <% options.collection.each(function (review) { %>\n                            <div class=\"review-container\">\n                                <%= SC.macros[options.application.getConfig('productReviews.reviewMacro')](review, _.extend({showActionButtons: true}, options.application.getConfig('productReviews'))) %>\n                            <\/div>\n                        <% }) %>\n                    <% } %>\n                <\/section>\n                <% if (options.collection.length < options.collection.totalRecordsFound) { %>\n                <footer>\n                    <a href=\"<%= options.item.get('_url') %>\" class=\"btn btn-large\">\n                        <%= _('View more reviews ($(0))').translate(options.collection.totalRecordsFound) %>\n                        <i class=\"icon-chevron-right\"><\/i>\n                    <\/a>\n                <\/footer>\n            <\/div>\n        <\/div>\n\t<% } %>\n\t<\/div>\n<% } else { %>\n\t<% if (jQuery('#first-review').length == 0) { %>\n\t\t<div class=\"item-detailed-reviews\">\n\t\t\t<p id=\"first-review\" class=\"first-review\">\n\t\t\t\t<%= _('Be the first to <a href=\"$(0)\">write a review<\/a>').translate( options.item.get('_url') + '\/reviews\/new' ) %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<% } %>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('relatedItem', function (item, application) { %>\n<div class=\"item-cell item-cell-grid\">\n\t<a class=\"thumbnail\" href=\"<%= item.get('_url') %>\">\n\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t<img src=\"<%= application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t<\/a>\n\t<h5>\n\t\t<a href=\"<%= item.get('_url') %>\">\n\t\t\t<%= item.get('_name') %>\n\t\t<\/a>\n\t<\/h5>\n\t<a class=\"btn btn-small btn-primary btn-expanded\" href=\"<%= item.get('_url') %>\">\n\t\t<%= _('See more').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsMainImage', function (images, view) { %>\n<% if (images.length) { %>\n\t<% var image = images[0]; %>\n\t<div class=\"item-detailed-image\">\n\t\t<img src=\"<%= view.application.resizeImage(image.url, 'main') %>\" alt=\"<% image.altimagetext %>\">\n\t<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListDisplayFull', function(item, view, options) { \n\tvar product = item.get('item')\n\t,\tquantity = item.get('quantity')\n\t,\tpriority = item.get('priority')\n\t,\tdescription = item.get('description')\n\t,\titem_details = item.get('itemDetails')\n\t,\tthumbnail = item_details.get('_thumbnail')\n\t,\tprice = item_details.getPrice()\n\t,\trating = item_details.get('_rating')\n\t,\tstock_info = item_details.getStockInfo();\n%>\n<article data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> >\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span10 info-box\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span4 item-image\" data-type=\"product-list-item\">\n\t\t\t\t\t<img src=\"<%= view.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%=thumbnail.altimagetext %>\">\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span8 item-details\" data-type=\"item-details\">\n\t\t\t\t\t<h5 class=\"item-details-name\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('itemDetails').get('_url')).fixUrl() %>\"> <%=  item.getProductName() || item.get('name') %><\/a>\n\t\t\t\t\t<\/h5>\n\n\t\t\t\t\t<% if(!options || !options.hide_added_on) { %>\n\t\t\t\t\t<div class=\"item-details-date-added\">\n\t\t\t\t\t\t<span><%=_('Added on').translate() %>: <%= item.get('created') %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\n\t\t\t\t\t<% if(!options || !options.hide_rating) { %>\n\t\t\t\t\t<div class=\"item-rating\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t\t\t\t<%= SC.macros.starRating({\n\t\t\t\t\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t\t\t,\tvalue: rating\n\t\t\t\t\t\t\t,\tclassName: 'star pull-left'\n\t\t\t\t\t\t\t,\tfillRounded: true\n\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t<span class=\"review-total\">\n\t\t\t\t\t\t\t<%= _('($(0))').translate(\n\t\t\t\t\t\t\t'<span itemprop=\"reviewCount\">' + item_details.get('_ratingsCount') + '<\/span>'\n\t\t\t\t\t\t\t) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<div class=\"row-fluid item-details-pricing\">\n\t\t\t\t\t\t<div class=\"item-details-price\">\t\t\n\t\t\t\t\t\t\t<strong><%= price.price_formatted %><\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"item-details-stock\">\n\t\t\t\t\t\t\t<%= SC.macros.itemDetailsStock(stock_info) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"item-details-options\">\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"options-container\" data-type=\"all-options\" data-exclude-options=\"\">\t\t\t\t\t\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"item-details-quantity\">\n\t\t\t\t\t\t\t<span class=\"item-details-label\"><%=_('Desired Quantity').translate() %><\/span>: <span class=\"item-details-value\"><%= quantity %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"item-details-priority\">\n\t\t\t\t\t\t\t<span class=\"item-details-label\"><%=_('Priority').translate() %><\/span>: <span class=\"item-details-value\"><%= priority.name %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t\t\t<div class=\"item-details-notes\" data-type=\"item-details-notes\">\n\t\t\t\t\t\t<% if(description) { %>\n\t\t\t\t\t\t\t<p><%= _('Notes: ').translate() + description %><\/p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"span2 item-commands action-box\" data-type=\"item-commands\">\n\t\t\t<% if(!options || !options.hide_actions) { %>\n\t\t\t<div class=\"text-right\"><button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-to-cart <%= !product.ispurchasable ? 'disabled' : ''%>\" <%= !product.ispurchasable ? 'disabled' : ''%>><%= _('Add to cart').translate() %><\/button><\/div>\n\t\t\t<div class=\"item-commands-crud\">\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"edit-item\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"delete-item\"><%= _('Delete').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"pull-right move\" data-type=\"productlist-control-move\"><\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/article>\t\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History\n--------------\nDate: 18-03-2019\nChanged by:Shoaib Iqbal\nChange \/Jira Ticket #: JHD-38\nChange Description: Remove the pricing from the mini-cart\n-->\n\n\n\t<% registerMacro('miniCart', function (cart, application) { %>\n\t<%\n\t\tvar lines = cart.get('lines')\n\t\t,\thas_cart_router = application.modulesMountToAppResult.Cart instanceof application.modules.Cart.Router\n\t\t,\tcurrent_touchpoint = application.Configuration.currentTouchpoint\n\t\t,\ttotal_items = application.getCart().getItemsIds().length\n\t\t,\tis_loading = application.cartInstance.isLoading;\n\n\n\t\tvar isSecureSite = (location.protocol == 'https:') ? true : false;\n\n\t%>\n\t<a href=\"#\" class=\"dropdown-toggle btn btn-primary\" data-toggle=\"dropdown\">\n\t\t<%= SC.macros.miniCartSummary(total_items, is_loading) %>\n\t<\/a>\n\t<div class=\"dropdown-menu\">\n\t<% if (lines.length) { %>\n\t\t<ul class=\"cart-summary-items mini-cart-items\">\n\t\t\t<% var thumbnail = '', item = null, subtotal = 0; %>\n\t\t\t<% lines.each(function (line) { %>\n\t\t\t\t<%\n\t\t\t\t\titem = line.get('item');\n\t\t\t\t\tvar clientid = _.where(line.get(\"options\"), {id:\"CUSTCOL_TAILOR_CLIENT\"});\n\t\t\t\t\tthumbnail = item.get('_thumbnail');\n\t\t\t\t\tvar fabricdetails = _.where(item.get(\"options\"), {id:\"CUSTCOL_CUSTOM_FABRIC_DETAILS\"})\n\t\t\t\t\tvar productType = _.where(item.get(\"options\"), {id:\"CUSTCOL_PRODUCTTYPE\"}) <!-- JHD-38 -->\n\t\t\t\t\tif(fabricdetails && fabricdetails[0]){\n\t\t\t\t\t\tvar fabricjson = JSON.parse(fabricdetails[0].value);\n\t\t\t\t\t\tif(fabricjson.code && fabricjson.collection){\n\t\t\t\t\t\t\tvar itemsku = item.get('_sku');\n\t\t\t\t\t\t\titem.set('_sku', itemsku.replace('CMT Item', fabricjson.collection +'-'+fabricjson.code));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t%>\n\t\t\t\t<li class=\"cart-summary-item-cell mini-cart-item-cell\" data-item=\"<%= item.get('internalid') %>\">\n\t\t\t\t\t<a class=\"row-fluid\" href=\"#\/product\/<%= item.get('internalid') %>?client=<%= clientid[0].value %>|<%= line.get('internalid')%>&product=<%= productType[0].value %>\">\n\t\t\t\t\t\t<div class=\"span3 thumbnail mini-cart-item-thumbnail\">\n\t\t\t\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'tinythumb') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span9 mini-cart-item-details\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<strong><%= item.get('_sku') %> - <%= productType[0].value %><\/strong> <!-- JHD-38 -->\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<!-- Renders the selected options for the item -->\n\t\t\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t\t\t<!-- <div class=\"price\"> JHD-38\n\t\t\t\t\t\t\t\t<%\n\n\t\t\t\t\t\t\t\t\tvar tailorPricingColumn = _.where(line.get(\"options\"), {id: \"CUSTCOL_TAILOR_CUST_PRICING\"})\n\t\t\t\t\t\t\t\t\t,\ttailorPricing = \"0.00\";\n\t\t\t\t\t\t\t\t\tif(!_.isUndefined(tailorPricingColumn)){\n\t\t\t\t\t\t\t\t\t\tif(!_.isUndefined(tailorPricingColumn[0]))\n\t\t\t\t\t\t\t\t\t\ttailorPricing = tailorPricingColumn[0].value;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t<%= _('$(0)').translate(_.formatCurrency(tailorPricing)) %>\n\t\t\t\t\t\t<\/div> -->\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\t<% \/\/Custom subtotal computation\n\t\t\t\t\tsubtotal += parseFloat(tailorPricing);\n\t\t\t\t%>\n\t\t\t<% }) %>\n\t\t<\/ul>\n\t\t<ul class=\"summary\">\n\t\t\t<li class=\"mini-cart-summary-container\">\n\t\t\t<!-- <p class=\"mini-cart-summary\"> JHD-38\n\t\t\t\t\t<span class=\"pull-right mini-cart-subtotal\">\n\t\t\t\t\t\t<%= _('Subtotal: <b>$(0)<\/b>').translate(_.formatCurrency(subtotal)) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span class=\"item-count\">\n\t\t\t\t\t<% if ( total_items !== 1 ) { %>\n\t\t\t\t\t\t<%= _('$(0) items').translate( total_items ) %>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<%= _('1 item').translate() %>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/span>\n\t\t\t<\/p> -->\n\t\t\t\t<div class=\"mini-cart-actions row-fluid\">\n\n\t\t\t\t\t<% if (!isSecureSite) { %>\n\t\t\t\t\t\t<a style=\"background:none;\" id=\"swx-minicart-gotocart\" href=\"\/cart\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\" class=\"btn btn-view-cart span\">\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<a style=\"background:none;\" id=\"swx-minicart-gotocart\" href=\"\/cart\" data-touchpoint=\"home\" data-hashtag=\"#cart\" class=\"btn btn-view-cart span\">\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<%= _('View Cart').translate() %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/div>\n\t\t\t\t<div id=\"mini-cart-bottom-banner\" class=\"mini-cart-bottom-banner\"><\/div>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<% } else { %>\n\t\t<ul class=\"items mini-cart-empty\">\n\t\t\t<li>\n\t\t\t\t<% if (!isSecureSite) { %>\n\t\t\t\t\t<a href=\"#\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\">\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#cart\">\n\t\t\t\t<% } %>\n\t\t\t\t\t<% if(is_loading) { %>\n\t\t\t\t\t<%= _('Your cart is loading').translate() %>\n\t\t\t\t\t<% } else {%>\n\t\t\t\t\t<%= _('Your cart is empty').translate() %>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\t<li style=\"display: none\"><a style=\"background:none;\" id=\"swx-minicart-gotocart\" href=\"\/cart\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\"><\/li>\n\t\t<\/ul>\n\t<% } %>\n\t<\/div>\n\t<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetColor', function(translator, config, facet) { %>\n<%\t\n\tvar is_active = false\n\t,\tvalues = _.reject((_.isArray(facet.values) ? facet.values : [facet.values]), function (filter) {\n\t\t\treturn !filter.url;\n\t\t});\n\n\tif (values.length)\n\t{\n\t\tvar selected = translator.getFacetValue(facet.id) || []\n\t\t,\tfacet_html_id = _.uniqueId('facetColor_')\n\t\t,\tcolor;\n\n\t\tselected = _.isArray(selected) ? selected : [selected]\n\t\tconfig.max = config.max || values.length;\n%>\n<div id=\"<%= facet_html_id %>\" class=\"well-section facet-well\" data-type=\"rendered-facet\" data-facet-id=\"<%= facet.id %>\">\n\t<% if (config.uncollapsible) { %>\n\t\t<h3 class=\"heading uncollapsible\">\n\t\t\t<% if (selected.length) { %>\n\t\t\t\t<a class=\"pull-right\" href=\"<%= translator.cloneWithoutFacetId( facet.id ).getUrl() %>\">\n\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t\t<%= config.name %>\n\t\t<\/h3>\n\t<% } else { %>\n\t\t<h3 class=\"heading\" data-toggle=\"collapse\" data-target=\"#<%= facet_html_id %> .filters\" data-type=\"collapse\">\n\t\t\t<i class=\"icon-chevron-down\" data-collapsed=\"true\"><\/i>\n\t\t\t<i class=\"icon-chevron-right\" data-collapsed=\"false\"><\/i>\n\t\t\t<% if (selected.length) { %>\n\t\t\t\t<a class=\"pull-right\" href=\"<%= translator.cloneWithoutFacetId( facet.id ).getUrl() %>\">\n\t\t\t\t\t<i class=\"icon-remove\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t\t<%= config.name %>\n\t\t<\/h3>\n\t<% } %>\n\t<div class=\"filters color-filters <%= !config.uncollapsible && config.collapsed ? 'collapse' : 'in' %>\">\n\t\t<ul class=\"unstyled tiles color-tiles\">\n\t\t<% _.each(_.first(values, config.max), function(filter, index) { %>\n\t\t\t<%\n\t\t\t\tis_active = _.contains(selected, filter.url);\n\t\t\t\tfilter.label = filter.label || filter.url;\n\t\t\t%>\n\t\t\t<li class=\"<%= is_active ? 'active' : '' %>\">\n\t\t\t\t<a href=\"<%= translator.cloneForFacetId(facet.id, filter.url).getUrl() %>\" title=\"<%= filter.label %>\" data-color=\"<%= filter.label %>\">\n\t\t\t\t<% color = config.colors ? config.colors[filter.label] || config.colors.defaultColor : '#fff'; %>\n\n\t\t\t\t<% if (_.isObject(color)) { %>\n\t\t\t\t\t<% if ( color.type == 'image' ) { %>\n\t\t\t\t\t\t<img src=\"<%= color.src %>\" alt=\"<%= filter.label %>\" width=\"<%= color.width || '' %>\" height=\"<%= color.height || '' %>\">\n\t\t\t\t\t<% } %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span class=\"tile\" style=\"background: <%= color %>\"><\/span>\n\t\t\t\t<% } %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<% }) %>\n\t\t<\/ul>\n\t\t<% if (values.length > config.max) { %>\n\t\t\t<ul class=\"unstyled tiles color-tiles extra collapse\">\n\t\t\t<% _.each(_.rest(values, config.max), function(filter, index) { %>\n\t\t\t\t<%\n\t\t\t\t\tis_active = _.contains(selected, filter.url);\n\t\t\t\t\tfilter.label = filter.label || filter.url;\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= is_active ? 'active' : '' %>\">\n\t\t\t\t\t<a href=\"<%= translator.cloneForFacetId(facet.id, filter.url).getUrl() %>\" title=\"<%= filter.label %>\" data-color=\"<%= filter.label %>\">\n\t\t\t\t\t<% color = config.colors ? config.colors[filter.label] || config.colors.defaultColor : '#fff'; %>\n\n\t\t\t\t\t<% if (_.isObject(color)) { %>\n\t\t\t\t\t\t<% if ( color.type == 'image' ) { %>\n\t\t\t\t\t\t\t<img src=\"<%= color.src %>\" alt=\"<%= filter.label %>\" width=\"<%= color.width || '' %>\" height=\"<%= color.height || '' %>\">\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<span class=\"tile\" style=\"background: <%= color %>\"><\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t\t<div class=\"right-aligned\">\n\t\t\t\t<button class=\"btn btn-link collapsed\" data-toggle=\"collapse\" data-target=\"#<%= facet_html_id %> .extra\" data-type=\"view-all\">\n\t\t\t\t\t<span data-collapsed=\"false\"><%= _('see more').translate() %><\/span>\n\t\t\t\t\t<span data-collapsed=\"true\"><%= _('see less').translate() %><\/span>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History   \n-------------- \nDate: 15-01-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-6\nChange Description: Expand room for fit tool names\n-->\n<!--\nChange History   \n-------------- \nDate: 28-02-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-11\nChange Description: Default fit tools can be inputted into the my account section\n-->\n<% registerMacro('blockMeasureField', function (field, value, increment,fieldset) {\n\tvar type = field.type\n\t,\tlabel = field.label\n\t,\tname = field.name\n\t,\tinputHtml = \"\";\n\n\t\/* JHD-6 Start *\/\n\tif(type == \"select\"){\n\n\t\tif(field.options && field.options.length){\n\t\t\tinputHtml = '<div style=\"width:20%; margin:0;\" class=\"span2\"><select class=\"input input-small\" data-field=\"'+name+'\" id=\"body-' + name + '\" name=\"' + name + '\">';\n\t\t\t_.each(field.options, function(option){\n\t\t\t\tvar selected = value == option ? 'selected' : '';\n\t\t\t\tinputHtml = inputHtml + '<option value=\"' + option + '\" ' + selected + '>' + option + '<\/option>'\n\t\t\t});\n\t\t\tinputHtml = inputHtml + '<\/select><\/div>';\n\t\t} else {\n\t\t\tif(!_.isUndefined(field.max) && !_.isNull(field.max)){\n\t\t\t\tinputHtml = inputHtml + '<div style=\"width:20%; margin:0;\" class=\"span2\"><select class=\"input input-small block-measurement-fld\" data-field=\"'+name+'\" id=\"' + name + '-max\" name=\"' + name + '-max\">'\n\t\t\t\tfor(var i = 0; i <= field.max; i = i + increment){\n\t\t\t\t\tvar selected = !_.isUndefined(value[1]) && parseFloat(value[1].value) == i ? 'selected' : '';\n\t\t\t\t\tinputHtml = inputHtml + '<option value=\"' + i + '\" ' + selected + '>' + i + '<\/option>'\n\t\t\t\t}\n\t\t\t\tinputHtml = inputHtml + '<\/select><\/div>'\n\t\t\t}\n\t\t\tif(!_.isUndefined(field.min) && !_.isNull(field.min)){\n\t\t\t\tinputHtml = inputHtml + '<div style=\"width:20%; margin:0;\" class=\"span2 offset5p\"><select class=\"input input-small block-measurement-fld\" data-field=\"'+name+'\" id=\"' + name + '-min\" name=\"' + name + '-min\">'\n\t\t\t\tfor(var i = 0; i >= field.min; i = i - increment){\n\t\t\t\t\tvar selected = !_.isUndefined(value[0]) && parseFloat(value[0].value) == i ? 'selected' : '';\n\t\t\t\t\tinputHtml = inputHtml + '<option value=\"' + i + '\" ' + selected + '>' + i + '<\/option>'\n\t\t\t\t}\n\t\t\t\tinputHtml = inputHtml + '<\/select><\/div>'\n\t\t\t}\n\t\t\tif(fieldset.name == 'length' || fieldset.name == 'horizontals') { <!-- JHD-11 -->\n\t\t\tinputHtml = inputHtml + '<div style=\"width:10%;margin:0;text-align:left; color:#c1c1c1;\" class=\"span3\"><label class=\"fav-fit-tools-default\" id=\"' + name + '-default\"><\/label><\/div>'\n\t\t\tinputHtml = inputHtml + '<span style=\"width:10%; margin:0;padding-left: 7px; color:#c1c1c1;\" class=\"span-w-10 offset5p\" data-container=\"'+name+'-block\">&nbsp;<\/span>'\n\t\t\tinputHtml = inputHtml + '<span style=\"width:10%; margin:0; color:#c1c1c1;\" class=\"span-w-10\" data-container=\"'+name+'-finished\">&nbsp;<\/span>'\n\t\t\t} else {\n\t\t\t\tinputHtml = inputHtml + '<div style=\"width:10%;margin:0;text-align:left; color:#c1c1c1;\" class=\"span3\"><label class=\"fav-fit-tools-default\" id=\"' + name + '-default\"><\/label><\/div>'\n\t\t\t\tinputHtml = inputHtml + '<div style=\"width:10%;margin:0;\" class=\"span3\">&nbsp;<\/div>'\n\t\t\t\tinputHtml = inputHtml + '<div style=\"width:10%;margin:0;\" class=\"span3\">&nbsp;<\/div>'\n\n\t\t\t}\n\t\t}\n\n\t} else {\n\t\tinputHtml = '<input class=\"input input-small\" type=\"text\" data-field=\"'+name+'\" id=\"' + name + '\" name=\"' + name + '\" \/>'\n\t}\n%>\n<div class=\"row-fluid\">\n\t<div style=\"width:30%\" class=\"span3\"><%= label %><\/div>\n\t<%= inputHtml %>\n<\/div>\n<% }) \n\/* JHD-6 End *\/\n%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History\n--------------\nDate: 15-01-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-6\nChange Description: Expand room for fit tool names\n-->\n<% registerMacro('bodyMeasureField', function (field, value, fieldset, baseAllowance, allowance,selectedItemType) {\n\tconsole.log('selectedItemType');\n\tconsole.log(selectedItemType);\n\tvar type = field.type\n\t,\tlabel = field.label\n\t,\tname = field.name\n\t, optional = field.optional == 'true'? true:false\n\t,\tinputHtml = \"\"\n\t,\tfinishValue = 0;\n\n\n\tvar measurementConfiguration = window.itemRangeConfig;\n\n\tvar selectedProductType = selectedItemType;\n\tif(selectedProductType==='' || selectedProductType === null || selectedProductType === undefined){\n\t\t\/\/selectedProductType = window.selectedProductType;\n\t\tselectedProductType = jQuery(\"#in-modal-custrecord_fp_product_type option:selected\").text();\n\t\tif(selectedProductType === undefined || selectedProductType === null || selectedProductType === ''){\n\t\t\tselectedProductType = jQuery(\"#custrecord_fp_product_type option:selected\").text();\n\t\t}\n\t}\n\tvar selectedMeasurementConfig = _.findWhere(measurementConfiguration,{ type: selectedProductType });\n\n\tvar config = _.findWhere(selectedMeasurementConfig.config,{ name: name});\n\tif(config===null || config ==undefined){\n\t\tif(name===\"Sleeve L\" || name===\"Sleeve-L\"){\n\t\t\tconfig = _.findWhere(selectedMeasurementConfig.config,{ name: \"Sleeve L\"});\n\t\t}\n\t\tif(name===\"Sleeve R\" || name===\"Sleeve-R\"){\n\t\t\tconfig = _.findWhere(selectedMeasurementConfig.config,{ name: \"Sleeve R\"});\n\t\t}\n\t}\n\n\tif(type == \"select\"){\n\t\tinputHtml = '<select class=\"input\" id=\"' + name + '\" name=\"' + name + '\">';\n\t\tif(field.options && field.options.length){\n\t\t\t_.each(field.options, function(option){\n\n\t\t\t\tif(value===null){\n                                     inputHtml = inputHtml + ' <option value=\"' + option + '\">' + option + '<\/option>'\n                                }else{\n                                         if(value.toString().replace(\/\\+\/g,' ') == option.replace(\/\\+\/g,' ')){\n                                              inputHtml = inputHtml + '<option value=\"' + option + '\" selected>' + option + '<\/option>'\n                                         } else {\n                                               inputHtml = inputHtml + '<option value=\"' + option + '\">' + option + '<\/option>'\n                                         }\n                                 }\n\n\t\t\t});\n\t\t}\n\t\tinputHtml = inputHtml + '<\/select>'\n\t} else {\n\t\tinputHtml = '<input class=\"input input-small body-measure-fld\" type=\"number\" step=\"any\" id=\"' + name + '\" name=\"' + name + '\" value=\"' + value + '\"\/>'\n\t}\n\n\n\tif(value) {\n\t\tif(allowance){\n\t\t\tfinishValue = parseFloat(value) + parseFloat(allowance);\n\t\t} else {\n\t\t\tif(baseAllowance){\n\t\t\t\tallowance = baseAllowance;\/\/(parseFloat(value) * (parseFloat(baseAllowance) \/ 100))\n\t\t\t\t\/\/finishValue = (parseFloat(value) * (parseFloat(baseAllowance) \/ 100)) + parseFloat(value);\n\t\t\t\tfinishValue = parseFloat(value) + parseFloat(baseAllowance);\n\t\t\t} else {\n\t\t\t\tfinishValue = value;\n\t\t\t}\n\t\t}\n\t\tfinishValue = Math.round(finishValue * 10) \/ 10;\n\t}\n\n\tif(isNaN(finishValue)){\n\t\tfinishValue = 0;\n\t}\n\n\tif(finishValue=='NaN'){\n\t\tfinishValue = 0;\n\t}\n\n\tif(!finishValue){\n\t\tfinishValue = 0;\n\t}\n%>\n\t<!-- JHD-6 Start -->\n\t<div class=\"row-fluid\">\n\t\t<% if(fieldset == \"body-measurement\"){ %>\n\t\t\t<div  style=\"width : 30%;margin:0;\" class=\"span2 measurement\"><%= label %><\/div>\n\t\t\t<div style=\"width : 20%;margin:0;\" class=\"span3-profile measurement\">\n\t\t\t<%= inputHtml %>\n\t\t<\/div>\n\t\t\t<div style=\"width : 20%;margin:0;\" class=\"span3-profile measurement\">\n\t\t\t\t<input class=\"input input-small allowance-fld\" type=\"number\" step=\"any\" id=\"allowance_<%= name %>\" name=\"allowance-<%= name %>\" value=\"<%= allowance ? allowance : baseAllowance %>\"\/>\n\t\t\t<\/div>\n\t\t\t<div style=\"width : 20%;margin:0;text-align:center;\" class=\"span3-profile measurement\">\n\t\t\t<% if(config!=null){ %>\n\t\t\t\t<span data-optional=\"<%= optional %>\" min-value=\"<%= config.min %>\" max-value=\"<%= config.max %>\" id=\"finish_<%= name %>\"><%= finishValue %><\/span>\n\t\t\t\t<% }else{ %>\n\t\t\t\t<span data-optional=\"<%= optional %>\" id=\"finish_<%= name %>\"><%= finishValue %><\/span>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div style=\"width : 10%;margin:0;\" class=\"span3-profile measurement\">\n\t\t\t\t<% if(config!=null){ %>\n\t\t\t\t\t<span id=\"range_<%= name %>\">(<%= config.min %>-<%= config.max %>)<\/span>\n\t\t\t\t<%} %>\n\t\t\t<\/div>\n\t\t\t<% } else if(fieldset == \"body-profile\") { %>\n\t\t\t<div  style=\"width : 30%;margin:0;\" class=\"span2 measurement\"><%= label %><\/div>\n\t\t\t<div  style=\"width : 20%;margin:0;\" class=\"span3-profile measurement\">\n\t\t\t\t<%= inputHtml %>\n\t\t\t<\/div>\n\t\t<% } else{ %>\n\t\t\t<div  class=\"span2 measurement\"><%= label %><\/div>\n\t\t\t<div  class=\"span3-profile measurement\">\n\t\t\t\t<%= inputHtml %>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n\t<!-- JHD-6 End -->\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionDefault', function (option, value, model) { %>\n<div class=\"cart-option\" data-cart-option-id=\"<%= option.cartOptionId %>\" data-item-option-id=\"<%= option.itemOptionId %>\">\n\t<span class=\"option-label\">\n\t\t<%= option.label || option.name.replace(':', '') %><\/span>: <span class=\"option-value\"><%= value.label %>\n\t<\/span>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsDesignOptions', function (designOptions,isItemCheck) { %>\n\t<%\n\n\tvar Jacket = ['Trims','Monogram Underside Collar','Monogram Lining','Branding'];\n\tvar Trouser = ['Trims','Monogram','Branding'];\n\tvar Waistcoat = ['Trims','Branding'];\n\tvar Overcoat = ['Trims','Monogram Under Collar','Monogram Interior Lining','Branding'];\n\tvar Shirt = ['Trims','Contrast','Monogram','Branding and Presentation'];\n\tvar Trenchcoat = [];\n\tvar LadiesJacket = [];\n\tvar LadiesSkirt = [];\n\tvar LadiesPants = [];\n\tvar ShortSleevesShirt = [];\n\tvar collapse = [];\n\tcollapse['Jacket'] = Jacket;\n\tcollapse['Trouser'] = Trouser;\n\tcollapse['Waistcoat'] = Waistcoat;\n\tcollapse['Overcoat'] = Overcoat;\n\tcollapse['Shirt'] = Shirt;\n\tcollapse['Trenchcoat'] = Trenchcoat;\n\tcollapse['Ladies-Jacket'] = Trenchcoat;\n\tcollapse['Ladies-Skirt'] = Trenchcoat;\n\tcollapse['Ladies-Pants'] = Trenchcoat;\n\tcollapse['Short-Sleeves-Shirt'] = Trenchcoat;\n\t\t%>\n\n\t<% if (designOptions && Object.keys(designOptions).length > 0) { %>\n\n\t\t<%\n\t\t\tvar objDesignOpt = designOptions;\n\t\t%>\n\n\t\t<h2 class=\"section-header\" style=\"margin-top: 30px\"><%= _('Design Options').translate() %><\/h2><hr\/>\n\n\t    <div class=\"accordion\" id=\"design-option\">\n\t\t\t<% var count = 0; %>\n\t\t\t<% for (var clothingType in designOptions){\n\t\t\t\tvar currentClothingType = designOptions[clothingType];\n\n\n\t\t\t%>\n\t\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#design-option-<%= clothingType %>\" data-parent=\"#design-option\">\n\t\t\t\t\t\t\t<%= clothingType %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div id=\"design-option-<%= clothingType %>\" class=\"accordion-body collapse\" style=\"height: 0;background-color:#ececec;\">\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t\tvar index1 = 0;\n\t\t\t\t\t\t\tfor (var component in currentClothingType){\n\t\t\t\t\t\t\tindex1++;\n\t\t\t\t\t\t\tvar currentComponent = currentClothingType[component];\n\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t<div class=\"control-group-new\" data-input=\"canvas_canvas_jacket\" id=\"design-option-control-group-<%= clothingType %>-<%=index1%>\">\n\t\t\t\t\t\t\t\t<% if(collapse[clothingType].indexOf(component) !=-1){ %>\n\t\t\t\t\t\t\t\t\t<a data-toggle=\"collapse\" data-target=\"#design-option-members-<%= clothingType %>-<%=index1%>\" data-parent=\"#design-option-control-group<%=index1%>\" class=\"collapsed\">\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"accordion-toggle\" style=\"margin:8px 0;\"><%= component %><\/h4>\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t\t\t\t<a data-toggle=\"collapse\" data-target=\"#design-option-members-<%= clothingType %>-<%=index1%>\" data-parent=\"#design-option-control-group<%=index1%>\">\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"accordion-toggle\" style=\"margin:8px 0;\"><%= component %><\/h4>\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t\t\t\t<hr style=\"margin:6px 0;\"\/>\n\n\t\t\t\t\t\t\t\t\t<% if(collapse[clothingType].indexOf(component) !=-1){ %>\n\t\t\t\t\t\t\t\t\t\t<div id=\"design-option-members-<%= clothingType %>-<%=index1%>\" class=\"collapse\" style=\"background-color:#ececec;height:0px;\">\n\t\t\t\t\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t\t\t\t\t<div id=\"design-option-members-<%= clothingType %>-<%=index1%>\" class=\"in collapse\" style=\"background-color:#ececec;\">\n\t\t\t\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t\t\tfor (var field in currentComponent){\n\t\t\t\t\t\t\t\t\t\tvar currentField = currentComponent[field];\n\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t<div style=\"padding-left:25px;\">\n\t\t\t\t\t\t\t\t\t\t\t<div style=\"width:200px;display:inline-block;\" >\n\t\t\t\t\t\t\t\t\t\t\t<label class=\"control-label\" for=\"canvas_canvas_jacket\"><%= field %><\/label>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t\t\t\t\tvar isSelectType = (currentField.type == \"select\") ? true : false;\n\t\t\t\t\t\t\t\t\t\t\t\tvar isTextType = (currentField.type == \"text\") ? true : false;\n\t\t\t\t\t\t\t\t\t\t\t\tvar isNumberType = (currentField.type == \"number\") ? true : false;\n\t\t\t\t\t\t\t\t\t\t\t%>\n\n\t\t\t\t\t\t\t\t\t\t\t<% if (isSelectType) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"controls\" style=\"display:inline-block;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select fieldname=\"<%= field %>\" id=\"<%= currentField.name %>\" class=\"input-xlarge display-option-dropdown\" name=\"<%= currentField.name %>\" data-type=\"fav-option-customization\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% var fieldCount = 0; %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% _.each(currentField.values, function (option) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if (option.isFavourite == true || option.isFavourite == \"true\"){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected=\"selected\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"<%= option.value %>\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"<%=option.name%>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= option.name %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% fieldCount++;%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/select>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"show-options-img\" id=\"more-info_<%= currentField.name %>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% _.each(currentField.values, function (option, index) { %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% if (option.isFavourite == true || option.isFavourite == \"true\"){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= SC.macros.displayMoreInfo(option.value + \"|\" + currentField.label +\"|\"+ currentField.name)%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% if(currentField.name == 'li-b-j' || currentField.name == 'T010227' ||\n\t\t\t\t\t\t\t            currentField.name == 'li-bl-w' || currentField.name == 'li-bl-o' || currentField.name == 'T010415'){ %>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"show-lining-img\" id=\"liningstatusimage\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<% \t}  %>\n\n\t\t\t\t\t\t\t\t\t\t\t<% if (isTextType) {%>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"controls\" style=\"margin-bottom: 15px;display:inline\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input data-type=\"<%= currentField.datatype %>\" data-placeholder=\"<%= currentField.dataplaceholder %>\" placeholder=\"<%= currentField.placeholder%>\" type=\"text\" maxlength=\"<%= currentField.maxlength%>\" fieldname=\"<%= field %>\" id=\"<%= currentField.name %>\" class=\"input-xlarge\" name=\"<%= currentField.name %>\" value=\"<%= currentField.value %>\" data-type=\"fav-option-customization\" onkeypress=\"return (event.charCode >= 32 && event.charCode < 128)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"show-options-img\" id=\"more-info_<%= currentField.name %>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= SC.macros.displayMoreInfo(currentField.name+\"|\"+currentField.label+\"|\"+ currentField.name)%>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<% \t}  %>\n\t\t\t\t\t\t\t\t\t\t\t<% if (isNumberType) {%>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"controls\" style=\"margin-bottom: 15px;display:inline\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" fieldname=\"<%= field %>\" step=\"0.01\" min=\"<%= clothingType == 'Jacket'?0.88:clothingType == 'Waistcoat'? 0.84:0 %>\" id=\"<%= currentField.name %>\" class=\"input-xlarge\" name=\"<%= currentField.name %>\" value=\"<%= currentField.value %>\" data-type=\"fav-option-customization\">\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"show-options-img\" id=\"more-info_<%= currentField.name %>\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<%= SC.macros.displayMoreInfo(currentField.name+\"|\"+currentField.label +\"|\"+ currentField.name)%>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<% \t}  %>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<% \t}  %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% count++; %>\n\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"control-group\" data-input=\"designoption-message\">\n\t\t\t<label class=\"control-label\" for=\"designoption-message\">Notes (Internal use only. Notes not actioned by Jerome)<\/label>\n\t\t\t<div class=\"controls\">\n\t\t\t\t<textarea class=\"input-xxlarge designoption-message\" id=\"designoption-message\" name=\"designoption-message\"><\/textarea>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% }  %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayMoreInfo', function (selectedOption) { %>\n\t<a data-toggle=\"show-in-modal\" href=\"\/imagegallery\/<%= escape(selectedOption) %>\">\n\t\t<i class=\"icon-question-sign summary-promocode-help\"><\/i>\n\t<\/a>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('formatPaymentMethod', function (payment, creditCardIcons, normalNameInCard) {\n\t%><span class=\"payment-method-formatted payment-method-formatted-<%=payment.get('type')%>\"><%\n\tswitch (payment.get('type')){\n\t\tcase 'creditcard':\n\t\t\tvar creditcard = payment.get('creditcard');\n\t\t\tif (creditcard && creditcard.ccnumber) {\n\t\t\t\tvar ccpname = creditcard.paymentmethod ? creditcard.paymentmethod.name : ''; %>\n\t\t\t\t<b class=\"credit-card-icon\">\n\t\t\t\t\t<% if(creditCardIcons && ccpname in creditCardIcons){ %>\n\t\t\t\t\t\t<img class=\"credit-card-icon\" src=\"<%= creditCardIcons[ccpname] %>\" alt=\"<%= ccpname %>\">\n\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t<%= ccpname %>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span>&nbsp;-&nbsp;<\/span>\n\t\t\t\t\t<%= _('Ending in $(0)').translate(creditcard.ccnumber.replace(\/\\*\/g, '')) %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<b class=\"credit-card-name<%= normalNameInCard ? ' normal-weight' : '' %>\">\n\t\t\t\t\t<%= creditcard.ccname %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<span class=\"credit-card-expiredate\">\n\t\t\t\t\t<%= _('Expires ').translate() + creditcard.ccexpiredate %>\n\t\t\t\t<\/span>\n\t\t\t<% } else { %>\n\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t<%}\n\t\t\tbreak;\n\t\tcase 'giftcertificate':\n\t\t\tvar code_length = payment.get('giftcertificate').code.length; %>\n\t\t\t<%= _('Ending in: $(0)').translate(payment.get('giftcertificate').code.substring(code_length - 4, code_length)) %>\n\t\t\t<% break;\n\t\tcase 'invoice': %>\n\t\t\t<b class=\"payment-method-formatted-invoice-terms\">\n\t\t\t\t<%= _('Invoice: Terms $(0)').translate(payment.get('paymentterms').name) %>\n\t\t\t<\/b>\n\t\t\t<% if(payment.get('purchasenumber')) { %>\n\t\t\t\t<br\/>\n\t\t\t\t<span class=\"payment-method-formatted-invoice-purchasenumber\">\n\t\t\t\t\t<%= _('Purchase Number: $(0)').translate(payment.get('purchasenumber')) %>\n\t\t\t\t<\/span>\n\t\t\t<% }\n\t\t\tbreak;\n\t\tcase 'paypal': %>\n\t\t\t<b>\n\t\t\t\t<%= _('Payment via Paypal').translate() %>\n\t\t\t<\/b>\n\t\t\t<%\n\t\t\tbreak;\n\t\tdefault: %>\n\t\t<%= payment.get('type') %><%\n\t}\n\t%><\/span><%\n\tif (payment.get('ccstreet'))\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Street: <span class=\"CardStreet\">$(0)<\/span>').translate(payment.get('ccstreet')) %>\n\t<% }\n\tif (payment.get('cczipcode'))\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Zip Code: <span class=\"CardZipCode\">$(0)<\/span>').translate(payment.get('cczipcode')) %>\n\t<% }\n}) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemListNavigable', function (options) { %>\n<%\n\tvar macros = SC.macros\n\t,\tis_advanced = SC.ENVIRONMENT.siteType !== 'STANDARD'\n\n\t,\tview = options.view\n\t,\tapplication = view.application\n\n\t,\tline = options.line\n\t,\tline_id = line.get('internalid')\n\n\t,\titem = line.get('item')\n\t,\tstock_info = item.getStockInfo()\n\t,\tthumbnail = item.get('_thumbnail')\n\t,\tlink_attributes = _.getItemLinkAttributes(item)\n\t, fitprofile = line.get('fitProfileOptions');\n\n\t\t\/\/JHD-7 Start\n\t\tvar expectedDate = '';\n\t\tvar item = line.get('item');\n\t\tvar itemId = item.get('internalid');\n\t\tvar companyId = SC.ENVIRONMENT.companyId,\n\t\t\tcustomerId = SC.ENVIRONMENT.PROFILE.internalid,\n\t\t\tscriptId = \"customscript_sl_expected_delivery_date\",\n\t\t\tdeployId = \"customdeploy_sl_expected_delivery_date\",\n\t\t\turl = \"\/app\/site\/hosting\/scriptlet.nl?script=\" + scriptId + \"&deploy=\" + deployId + \"&compid=\" + companyId + \"&customerid=\" + customerId + \"&itemid=\" + itemId;\n\t\tvar xhttp = new XMLHttpRequest();\n\t\txhttp.onreadystatechange = function () {\n\t\t\tif (xhttp.readyState == 4 && xhttp.status == 200) {\n\t\t\t\tvar oResponse = JSON.parse(xhttp.responseText);\n\t\t\t\texpectedDate =  oResponse.expecteddate;\n\t\t\t\tjQuery(\"#expected-date-\" + line_id).text(expectedDate);\n\t\t\t\tline.set(\"expecteddate\", expectedDate);\n\t\t\t}\n\t\t}\n\t\txhttp.open('GET', url, true);\n\t\txhttp.setRequestHeader('Content-type', 'application\/x-www-form-urlencoded');\n\t\txhttp.send(\"itemid=\" + itemId + \"&customerid=\" + customerId);\n\t  \/\/JHD-7 End\n  \/\/var ptype = _.where(item.get(\"options\"), {id: \"CUSTCOL_PRODUCTTYPE\"})[0].value;\n\tvar formtype = _.where(item.get(\"options\"), {id: \"CUSTCOL_PRODUCTTYPE\"})[0].value;\n\n\tvar item_details = item.get('itemDetails')\n\n\tvar isDisplayDateNeededHoldFabricHoldProduction = true;\n\tvar isDisplayButtCopy = true;\n\tvar fabricdetails = _.where(item.get(\"options\"), {id:\"CUSTCOL_CUSTOM_FABRIC_DETAILS\"})\n\tif(fabricdetails[0]){\n\t\tvar fabricjson = JSON.parse(fabricdetails[0].value);\n\t\tif(fabricjson.code && fabricjson.collection){\n\t\t\tvar itemsku = item.get('_sku');\n\t\t\titem.set('_sku', itemsku.replace('CMT Item', fabricjson.collection +'-'+fabricjson.code));\n\t\t}\n\t}\n%>\n\n\t<style> \/* JHD-33 *\/\n\t\tinput[type='number'] {\n    \t\t-moz-appearance:textfield;\n\t\t}\n\n\t\tinput::-webkit-outer-spin-button,\n\t\tinput::-webkit-inner-spin-button {\n\t\t\t-webkit-appearance: none;\n\t\t}\n\t<\/style>\n\n<article id=\"<%- line_id %>\" class=\"item-list-navigable <%= line_id %>\" data-id=<%= item.get('internalid') %>>\n\t<div class=\"item\">\n\t\t<div class=\"thumbnail\">\n\t\t<% if (options.showActions && false) { %>\n\t\t\t<a <%= link_attributes %>>\n\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t<\/a>\n\t\t<% } else { %>\n\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"info\">\n\t\t\t\t<div class=\"details\">\n\t\t\t\t\t<div class=\"name item-name\" style=\"float:left;\" > <!-- JHD-3-->\n\t\t\t\t<% if (options.showActions && false) { %>\n\t\t\t\t\t<a <%= link_attributes %>>\n\t\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a><%= item.get('_name') %><\/a>\n\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<!-- JHD-33 Start-->\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar lineItemTotal;\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlineItemTotal =  _.where(line.get(\"options\"), {id: \"CUSTCOL_ORDER_LIST_LINE_ITEM_TOTAL\"})[0].value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch(ex)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlineItemTotal =  0.00;\n\t\t\t\t\t\t}\n\t\t\t\t\t%>\n\t\t\t\t\t<input type=\"number\" id=\"order_list_line_item_total_<%= line_id %>\" onkeypress=\"return event.charCode != 45\" name=\"order_list_line_item_total\" value=\"<%= lineItemTotal %>\" min=\"0\" style=\"float: right; width: 45px; height: 15px; font-size: 12px;\">\n\t\t\t\t\t<span id=\"tailor_currency_symbol\" style=\"float: right; padding: 4px; font-weight: normal; \"><%= SC.getSessionInfo('currency').symbol %><\/span>\n\t\t\t\t\t<!-- JHD-33 End--><\/input>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"name\" style=\"clear:both;\">\n\t\t\t\t<%\n\t\t\t\t\tvar producttype = _.find(line.get(\"options\"), function(o){\n\t\t\t\t\t\treturn o.id == \"CUSTCOL_PRODUCTTYPE\"});\n\n\t\t\t\t\t\tif(producttype){\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<%= _('Product Type: $(0)').translate(producttype.value)%>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<!--\n\t\t\t\t<div class=\"price\">\n\t\t\t\t\t<span itemtype=\"http:\/\/schema.org\/Offer\" itemscope=\"\" itemprop=\"offers\">\n\t\t\t\t\t\t<meta content=\"<%= SC.getSessionInfo('currency').code %>\" itemprop=\"priceCurrency\">\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t\tvar tailorPricingColumn = _.where(line.get(\"options\"), {id: \"CUSTCOL_TAILOR_CUST_PRICING\"})\n\t\t\t\t\t\t\t,\ttailorPricing = \"0.00\";\n\n\t\t\t\t\t\t\tif(!_.isUndefined(tailorPricingColumn) && tailorPricingColumn[0]){\n\t\t\t\t\t\t\t\ttailorPricing = tailorPricingColumn[0].value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t<span data-rate=\"<%= tailorPricing %>\" itemprop=\"price\" class=\"lead-price\">\n\t\t\t\t\t\t<%= _.formatCurrency(tailorPricing) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<link href=\"http:\/\/schema.org\/OutOfStock\" itemprop=\"availability\">\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"sku\">\n\t\t\t\t\t<%= _('SKU: #$(0)').translate(item.get('_sku')) %>\n\t\t\t\t<\/div>\n\t\t\t\t-->\n\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t<%\n\n\t\t\t\t\t\tvar clientID = _.find(line.get(\"options\"), function(o){\n\t\t\t\t\t\t\treturn o.id == \"CUSTCOL_TAILOR_CLIENT\"});\n\t\t\t\t\t\t\tif(clientID){\n\n\t\t\t\t\t\t\t\tvar client_collection = view.client_collection;\n\t\t\t\t\t\t\t\tvar client_name = \"\";\n\t\t\t\t\t\t\t\tif(client_collection.length > 0) {\n\t\t\t\t\t\t\t\t\tvar found = _.find(client_collection.models,function(o){\n\t\t\t\t\t\t\t\t\t\treturn o.get('internalid') == clientID.value;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif(found){\n\t\t\t\t\t\t\t\t\t\tclient_name = found.get(\"custrecord_tc_first_name\") + \" \" + found.get(\"custrecord_tc_last_name\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t%>\n\t\t\t\t\t<%= _('Client Name: $(0)').translate(client_name)%>\n\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"name\"> <!-- JHD-10 -->\n\t\t\t\t\t\t<%= _('Estimated Delivery Date :').translate()%> <!-- JHD-23 -->\n\t\t\t\t\t\t<span id=\"expected-date-<%= line_id %>\"><\/span>\n\t\t\t\t\t<\/div>\n\n\n\t\t\t\t<% if (isDisplayDateNeededHoldFabricHoldProduction) { %>\n\t\t\t\t\t\t<!-- start avt date needed, hold fabric, hold production -->\n\t\t\t\t\t\t<div class=\"sku\">\n\t\t\t\t\t\t\t<!-- start avt date needed -->\n\t\t\t\t\t\t\t<div style=\"margin-bottom: 10px;\" class=\"form-control\">\n\t\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t\tvar defaultDateNeeded = '1\/1\/1900';\n\t\t\t\t\t\t\t\t\tvar dateNeededValue =  defaultDateNeeded;\n\t\t\t\t\t\t\t\t\ttry\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdateNeededValue =  _.where(line.get(\"options\"), {id: \"CUSTCOL_AVT_DATE_NEEDED\"})[0].value;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcatch(ex)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tdateNeededValue =  defaultDateNeeded;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvar isEmptyDateNeeded = (dateNeededValue == defaultDateNeeded) ? true : false;\n\n\n\t\t\t\t\t\t\t\t\t\/\/ >> 21\/9\/2016\n\n\t\t\t\t\t\t\t\t\tvar arrSplitDateNeeded = dateNeededValue.split('\/')\n\n\t\t\t\t\t\t\t\t\tvar stDateNeeded = '';\n\t\t\t\t\t\t\t\t\tvar stYear = arrSplitDateNeeded[2];\n\t\t\t\t\t\t\t\t\tvar stMonth = arrSplitDateNeeded[1];\n\t\t\t\t\t\t\t\t\tvar stDate = arrSplitDateNeeded[0];\n\t\t\t\t\t\t\t\t\tstDateNeeded += stYear;\n\t\t\t\t\t\t\t\t\tstDateNeeded += '-';\n\t\t\t\t\t\t\t\t\tstDateNeeded += (stMonth < 10) ? '0' + stMonth : stMonth;\n\t\t\t\t\t\t\t\t\tstDateNeeded += '-';\n\t\t\t\t\t\t\t\t\tstDateNeeded += (stDate < 10) ? '0' + stDate : stDate;\n\n\n\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t<!-- JHD-3 Start-->\n\t\t\t\t\t\t\t\t\t<label for=\"custcol_avt_date_needed\">\n\t\t\t\t\t\t\t\t\t\t<span> <%= _('Date Needed:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t\t<input data-provide=\"datepicker\" id=\"custcol_avt_date_needed_<%= line_id %>\" placeholder=\"<%= _('yyyy-mm-dd').translate() %>\" name=\"custcol_avt_date_needed\" value=\"<%= (isEmptyDateNeeded) ? '' : stDateNeeded %>\">\n\t\t\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"internalid\" id=\"update-internalid-<%= line_id %>\" class=\"update-internalid-<%= line_id %>\" value=\"<%- line_id %>\">\n\t\t\t\t\t\t\t\t\t<!-- JHD-3 End-->\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<!-- end avt date needed -->\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<!-- end avt date needed, hold fabric, hold production -->\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"item-options\">\n\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"item-option selected-options-display\">\n\t\t\t\t\t<%= SC.macros.displayDesignOptions(line) %>\n\t\t\t\t<\/div>\n\t\t\t\t<% var sitecogs = _.where(line.get('options'), {id: \"CUSTCOL_SITE_COGS\"})[0];%>\n\n\t\t\t\t<% if(sitecogs && application.getUser() && application.getUser().get('hidebillingandcogs') == 'F'){ %>\n\t\t\t\t<div class=\"item-cogs\">\n\t\t\t\t\t<div class=\"accordion\" id=\"item-cogs-<%= line.id %>\">\n\t\t\t\t\t\t<div class=\"accordion-group\">\n\t\t\t\t\t\t\t<div class=\"accordion-heading\">\n\t\t\t\t\t\t\t\t<a class=\"accordion-toggle\" data-toggle=\"collapse\" data-target=\"#item-cogs-body-<%= line.id %>\" data-parent=\"#item-cogs-<%= line.id %>\">\n\t\t\t\t\t\t\t\t\tCOGS\n\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div id=\"item-cogs-body-<%= line.id %>\" style=\"padding-left: 50px; height: 0;\" class=\"accordion-body collapse\">\n\t\t\t\t\t\t\t\t\t<%= sitecogs.value %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"summary\">\n\t\t\t\t<% if (false) { \/\/ hardcoded to remove quantity and amount %>\n\t\t\t\t\t<div class=\"quantity\">\n\t\t\t\t\t<% if (options.showActions) { %>\n\t\t\t\t\t\t<form action=\"#\" data-action=\"update-quantity\">\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"internalid\" id=\"update-internalid-<%= line_id %>\" class=\"update-internalid-<%= line_id %>\" value=\"<%- line_id %>\">\n\t\t\t\t\t\t\t<label for=\"quantity-<%= line_id %>\">\n\t\t\t\t\t\t\t\t<div class=\"quantity\"><%= _('Fabric Quantity (Metres):').translate() %><\/div>\n\t\t\t\t\t\t\t\t<% if (item.get('_itemType') !== 'GiftCert') { %>\n\t\t\t\t\t\t\t\t\t<input type=\"number\" step=\"0.05\" readonly=\"true\" name=\"custcol_fabric_quantity\" id=\"quantity-<%= line_id %>\" class=\"input-mini quantity-<%= line_id %>\" value=\"<%- line.get('item').getOption('custcol_fabric_quantity').label %>\" min=\"1\">\n\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"custcol_fabric_quantity\" id=\"quantity-<%= line_id %>\" value=\"1\">\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<\/label>\n\t\t\t\t\t\t<\/form>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<%= _('Qty: $(0)').translate(line.get('quantity')) %>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (false) { \/\/ hardcoded to remove quantity and amount %>\n\t\t\t\t\t<div class=\"amount\">\n\t\t\t\t\t\t<%= _('$(0) $(1)').translate('<span class=\"amount-label\">' + _('Amount:').translate() + '<\/span>', line.get('total_formatted')) %>\n\t\t\t\t\t\t<% if (line.get('amount') > line.get('total')) {%>\n\t\t\t\t\t\t\t<small class=\"muted crossed\"><%= line.get('amount_formatted') %><\/small>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<div class=\"stock\">\n\t\t\t\t\t<%= macros.itemDetailsStock(stock_info) %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t\t<!-- <small style=\"position: relative;bottom: -5px;\"><i>* This date may be impacted by Chinese New Year<\/i><\/small> --> <!--JHD-23 -->\n\t\t<\/div>\n\t\t\t<div class=\"alert-placeholder\" data-type=\"alert-placeholder\" style=\"position: relative; top: 8px\"> <!-- JHD-10 -->\n\t\t<% if (item.get('_cartCustomAlert')) {%>\n\t\t\t<div class=\"alert alert-<%= item.get('_cartCustomAlertType') || 'info' %>\">\n\t\t\t\t<%= item.get('_cartCustomAlert') %>\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n\t<% if (options.showActions) { %>\n\t<div class=\"actions\">\n\t\t<%\n\t\t\tvar editUrl = \"\/\"\n\t\t\t,\tcategoryUrl = \"product\/\"\n\t\t\t,\tinternalid = item.get('internalid')\n\t\t\t,\tclientID = _.where(item.get(\"options\"), {id:\"CUSTCOL_TAILOR_CLIENT\"})[0].value\n\t\t\t,\tlineID = item.get(\"line_id\");\n\n\t\t\teditUrl = editUrl + categoryUrl + internalid + \"?client=\" + clientID + \"|\" + lineID+\"&product=\"+formtype\n\t\t%>\n\t\t<a class=\"btn edit\" href=\"<%- _(editUrl).fixUrl() %>\" >\n\t\t\t<%= _('Edit').translate() %>\n\t\t<\/a>\n\n\t\t<% if (isDisplayButtCopy) { %>\n\t\t\t<button data-action=\"copy-to-cart\" class=\"btn add-to-cart\" data-internalid=\"<%- line.get('internalid') %>\"><%= _('Copy').translate() %><\/button>\n\t\t\t<% }%>\n\n\t\t<button class=\"btn remove\" data-action=\"remove-item\" data-internalid=\"<%- line.get('internalid') %>\">\n\t\t\t<%= _('Remove').translate() %>\n\t\t<\/button>\n\t\t<% if (is_advanced && application.ProductListModule && application.ProductListModule.isProductListEnabled() && application.name.toLowerCase() === 'shopping') { %>\n\t\t\t<button class=\"btn saveforlater\" data-action=\"save-for-later-item\" data-internalid=\"<%- line.get('internalid') %>\">\n\t\t\t\t<%= _('Save for Later').translate() %>\n\t\t\t<\/button>\n\t\t\t<% }%>\n\t\t<a class=\"btn dropdown-toggle show-wishlist\" href=\"\/item-types\/<%=formtype+'?client='+clientID+'|'+lineID%>\">\n\t\t\tChange Fabric\n\t\t<\/a>\n\t<\/div>\n\t<% } %>\n\n\n<\/article>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History\n--------------\nDate: 04-03-2019\nChanged by:Shoaib Iqbal\nChange \/Jira Ticket #: JHD-26\nChange Description: Remove address book section\n-->\n\n<!--\nChange History\n--------------\nDate: 04-03-2019\nChanged by:Shoaib Iqbal\nChange \/Jira Ticket #: JHD-27\nChange Description: Remove Email Preferences section\n-->\n\n<!--\nChange History\n--------------\nDate: 04-03-2019\nChanged by:Shoaib Iqbal\nChange \/Jira Ticket #: JHD-29\nChange Description: Updates to \ufffdCases\ufffd section on myaccount\n-->\n\n<!--\nChange History\n--------------\nDate: 05-03-2019\nChanged by: Salman Khan\nChange \/Jira Ticket #: JHD-32\nChange Description: Same Drop down of \"My account\" and \"Your account\"\n-->\n\n\n<% registerMacro('headerProfile', function (application) { %>\n<% var Profile = application.getUser(); %>\n\n<%\n\tvar profileInternalId = Profile.get('internalid');\n\n%>\n\n<% if (Profile.get('isLoggedIn') === 'T' && Profile.get('isGuest') === 'F') { %>\n\t<li class=\"welcome\"><a><%- _('Welcome $(0)').translate(Profile.get('firstname') || Profile.get('companyname')) %><\/a><\/li>\n\t<li id=\"my-account-container\" class=\"dropdown my-account-container\">\n\t\t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-touchpoint=\"customercenter\" data-navigation=\"ignore-click\">\n\t\t\t<span class=\"my-account-title\"><%= _('Your Account').translate() %><\/span>\n\t\t\t<i class=\"fa fa-caret-down\"><\/i>\n\t\t<\/a>\n\t\t<ul class=\"dropdown-menu\">\n\t\t\t<li class=\"my-account-item-cell hidden-phone\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#overview\">\n\t\t\t\t\t<%= _('Overview').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\n\t\t\t<!-- Orders -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\" data-permissions=\"transactions.tranFind.1,transactions.tranSalesOrd.1\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Orders').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#ordershistory\">\n\t\t\t\t\t\t\t<%= _('Order History').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#cart\">\n\t\t\t\t\t\t\t<%= _('Saved Orders').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#returns\" data-permissions=\"transactions.tranFind.1,transactions.tranRtnAuth.1\">\n\t\t\t\t\t\t\t<%= _('Returns').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#receiptshistory\">\n\t\t\t\t\t\t\t<%= _('Receipts').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#reorderItems\">\n\t\t\t\t\t\t\t<%= _('Reorder Items').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<!-- <li data-permissions=\"transactions.tranFind.1,transactions.tranEstimate.1\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#quotes\">\n\t\t\t\t\t\t\t<%= _('Quotes').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t-->\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<!-- Product Lists - For single list mode data-hashtag will be added dynamically -->\n\t\t\t<% if (application.ProductListModule && application.ProductListModule.isProductListEnabled()) { %>\n\t\t\t\t<% if (application.ProductListModule.isSingleList()) { %>\n\t\t\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" class=\"header-profile-single-productlist\">\n\t\t\t\t\t\t\t<%= _('Loading list...').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#productlists\">\n\t\t\t\t\t\t\t<%= _('Product Lists').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\n\t\t\t<!-- Billing -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Billing').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#balance\"><%= _('Account Balance').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#invoices\" data-permissions=\"transactions.tranCustInvc.1\"><%= _('Invoices').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#transactionhistory\" data-permissions=\"transactions.tranCustInvc.1, transactions.tranCustCred.1, transactions.tranCustPymt.1, transactions.tranCustDep.1, transactions.tranDepAppl.1\" data-permissions-operator=\"OR\"><%= _('Transaction History').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#printstatement\" data-permissions=\"transactions.tranStatement.2\"><%= _('Print a Statement').translate() %><\/a><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<!-- Settings -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Settings').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#profileinformation\">\n\t\t\t\t\t\t\t<%= _('Profile Information').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<!-- <li> JHD-27\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#emailpreferences\">\n\t\t\t\t\t\t\t<%= _('Email Preferences').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li> -->\n\t\t\t\t\t<!-- <li> JHD-26\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#addressbook\">\n\t\t\t\t\t\t\t<%= _('Address Book').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li> -->\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#creditcards\">\n\t\t\t\t\t\t\t<%= _('Credit Cards').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#updateyourpassword\">\n\t\t\t\t\t\t\t<%= _('Update Your Password').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#designoptionsrestriction\">\n\t\t\t\t\t\t\t<%= _('Design Options Restriction').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#favouriteoptions\">\n\t\t\t\t\t\t\t<%= _('Favourite Options').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li> <!-- JHD-11 -->\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#favouritefittools\">\n\t\t\t\t\t\t\t<%= _('Favourite Fit Tools').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#fitprofile\"><%= _('Client Profiles').translate() %><\/a>\n\t\t\t<\/li>\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\" data-permissions=\"lists.listCase.1\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Support').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<!-- JHD-29 Start -->\n\t\t\t\t<!--\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#cases\" ><%= _('All My Cases').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#newcase\"><%= _('Submit New Case').translate() %><\/a><\/li>\n\t\t\t\t\t -->\n\t\t\t\t\t<!-- JHD-29 End -->\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#trainingguides\"><%= _('Training Guides').translate() %><\/a><\/li> <!-- JHD-32 -->\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t\t <!-- JHD-32 Start -->\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#stocklist\"><%= _('Stock List').translate() %><\/a>\n\t\t\t<\/li>\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#termsandconditions\"><%= _('Terms and Conditions').translate() %><\/a>\n\t\t\t<\/li>\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#contactus\"><%= _('Contact Us').translate() %><\/a>\n\t\t\t<\/li>\n\t\t\t <!-- JHD-32 End -->\n\t\t\t<li class=\"divider\"><\/li>\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"logout\">\n\t\t\t\t\t<%= _('Sign Out').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<\/li>\n<% } else { %>\n\t<li>\n        <a href=\"#\" data-touchpoint=\"login\" data-hashtag=\"login-register\"><i class=\"fa fa-lock\"><\/i> <%= _('Login').translate() %><\/a>\n    <\/li>\n\t<li class=\"divider-vertical\"><\/li>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemCellGrid', function (item, view) { %>\n<%\n\tvar min_qty = parseInt(item.get('_minimumQuantity'), 10)\n\t,\tthumbnail = item.get('_thumbnail')\n\t,\tmacros = SC.macros\n\t,\tstock_info = item.getStockInfo()\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\tvar client = \"\"\n\t,\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid;\n\n\tif (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) {\n\t\tvar fragmentArray = Backbone.history.fragment.split(\"?\")\n\t\t,\tclientId = \"\";\n\n\t\tfor(var i = 0; i <= fragmentArray.length; i++){\n\t\t\tif(fragmentArray[i].match('client')){\n\t\t\t\tclientId = fragmentArray[i].split(\"=\")[1].split(\"&\")[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tclient = \"?client=\" + clientId;\n\t\tvar translator = SC._applications.Shopping.getLayout().currentView.translator.facets;\n\t\tvar facet = _.find(translator,function(o){ return o.id == 'category'; });\n\t\tif(facet){\n\t\t\tclient += '&product='+facet.value.split('\/')[1];\n\n\t\t}\n\t}\n%>\n<% if (isOrderPage && Backbone.history.fragment.split(\"?\").length > 1) { %>\n\t<div class=\"item-cell item-cell-grid\" data-type=\"item\" data-item-id=\"<%= item.get('_id') %>\" itemprop=\"itemListElement\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t\t<meta itemprop=\"url\" content=\"<%= item.get('_url') %>\">\n\t\t<div class=\"item-cell-thumbnail thumbnail\">\n\t\t\t<a href=\"<%= item.get('_url') %><%= client %>\">\n\t\t\t\t<img width=\"225px\" height=\"225px\" src=\"<%= view.options.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\" itemprop=\"image\">\n\t\t\t<\/a>\n\t\t<\/div>\n\t\t<h2 class=\"item-cell-name\">\n\t\t\t<a href=\"<%= item.get('_url') %><%= client %>\">\n\t\t\t\t<span itemprop=\"name\">\n\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t<\/span>\n\t\t\t<\/a>\n\t\t<\/h2>\n\t\t<h4 class=\"item-cell-vendorname\">\n\t\t\t\t<span itemprop=\"vendorname\" >\n\t\t\t\t\t<%= item.get('vendorname') %>\n\t\t\t\t<\/span>\n\t\t<\/h2>\n\t\t<% if(item.get('outofstockmessage') == \"Low Stock\" || item.get('outofstockmessage') == \"Out of Stock\" || item.get('outofstockmessage') == \"Temp Soldout\" || item.get('outofstockmessage') == \"Soldout\"){ %>\n\t\t<h2 class=\"item-cell-stockstatus\">\n\t\t\t\t<span itemprop=\"outofstockmessage\" class=\"outofstockmessage\">\n\t\t\t\t\t<%= item.get('outofstockmessage') %>\n\t\t\t\t<\/span>\n\t\t<\/h2>\n\t\t<% }else if(item.get('custitem_ftorderstock') && parseFloat(item.get('custitem_ftorderstock'))>0){ %>\n\t\t<h2 class=\"item-cell-stockstatus\">\n\t\t\t\t<span itemprop=\"instockmessage\" class=\"instockmessage\">\n\t\t\t\t\tIn stock(m): <%= item.get('custitem_ftorderstock') %>\n\t\t\t\t<\/span>\n\t\t<\/h2>\n\t\t<% }else{ %>\n\t\t<h2 class=\"item-cell-stockstatus\">\n\t\t\t\t<span itemprop=\"instockmessage\" class=\"checkstockmessage\">\n\t\t\t\t\t<% if(item.get('custitem_checkstockmessage')){ %>\n\t\t\t\t\t\t<%= item.get('custitem_checkstockmessage') %>\n\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\tCheck Stock\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/span>\n\t\t<\/h2>\n\t\t<% } %>\n\t\t<div class=\"item-cell-price\">\n\t\t\t<%= macros.showItemPrice(item.getPrice(), stock_info.isInStock) %>\n\t\t<\/div>\n\t\t<div class=\"options-container\">\n\t\t\t<%= item && item.renderAllOptionSelector(\n\t\t\t\t_.where(item.getPosibleOptions(), {showSelectorInList: true})\n\t\t\t) %>\n\t\t<\/div>\n\t\t<!-- <div class=\"item-cell-stock\"> -->\n\t\t\t<%\/*= macros.itemDetailsStock(stock_info)*\/%>\n\t\t<!-- <\/div> -->\n\n\t\t<!-- Stock Availability Date-->\n\t\t<div class=\"item\">\n\t\t\t<% if (!item.get('custitem_ps_item_available')){ %>\n\t\t\t\t<span> Availability Date:<\/span>\n\t\t\t\t<span class=\"fabric-unavailable\" itemprop=\"custitem_ps_item_availability_date\">\n\t\t\t\t\t<%= item.get('custitem_ps_item_availability_date') %>\n\t\t\t\t<\/span>\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<% if (view.options.application.getConfig('addToCartFromFacetsView') && item.isReadyForCart()) { %>\n\t\t\t<form data-toggle=\"add-to-cart\">\n\t\t\t\t<input type=\"hidden\" value=\"<%= item.get('_id') %>\" name=\"item_id\">\n\t\t\t\t<div class=\"input-append\">\n\t\t\t\t\t<input name=\"quantity\" class=\"input-mini\" type=\"number\" min=\"1\" value=\"<%- min_qty %>\">\n\t\t\t\t\t<input type=\"submit\" class=\"btn btn-primary\" value=\"Add to Cart\">\n\t\t\t\t<\/div>\n\t\t\t<\/form>\n\t\t<% } %>\n\t<\/div>\n\n<% } else {%>\n\n\n\t\t<div class=\"item-cell item-cell-grid\" data-type=\"item\" data-item-id=\"<%= item.get('_id') %>\" itemprop=\"itemListElement\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t\t\t<meta itemprop=\"url\" content=\"<%= item.get('_url') %>\">\n\t\t\t<div class=\"item-cell-thumbnail thumbnail\">\n\t\t\t\t<img src=\"<%= view.options.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\" itemprop=\"image\">\n\t\t\t<\/div>\n\t\t\t<h4 class=\"item\">\n\t\t\t\t<span itemprop=\"name\">\n\t\t\t\t\t<b><%= item.get('_name') %><\/b>\n\t\t\t\t<\/span>\n\t\t\t<\/h4>\n\n\n\t\t\t<div class=\"item\">\n\t\t\t\t<span> Supplier :<\/span>\n\t\t\t\t<span itemprop=\"manufacturer\">\n\t\t\t\t\t<%= item.get('manufacturer') %>\n\t\t\t\t<\/span>\n\t\t\t<\/div>\n\t\t\t<% if(item.get('outofstockmessage') == \"Low Stock\" || item.get('outofstockmessage') == \"Out of Stock\" || item.get('outofstockmessage') == \"Temp Soldout\" || item.get('outofstockmessage') == \"Soldout\"){ %>\n\t\t\t<h2 class=\"item-cell-stockstatus\">\n\t\t\t\t\t<span itemprop=\"outofstockmessage\" class=\"outofstockmessage\">\n\t\t\t\t\t\t<%= item.get('outofstockmessage') %>\n\t\t\t\t\t<\/span>\n\t\t\t<\/h2>\n\t\t\t<% }else if(item.get('custitem_ftorderstock') && parseFloat(item.get('custitem_ftorderstock'))>0){ %>\n\t\t\t<h2 class=\"item-cell-stockstatus\">\n\t\t\t\t\t<span itemprop=\"instockmessage\" class=\"instockmessage\">\n\t\t\t\t\t\tAvailable stock(m): <%= item.get('custitem_ftorderstock') %>\n\t\t\t\t\t<\/span>\n\t\t\t<\/h2>\n\t\t\t<% } %>\n\t\t<\/div>\n\n\n\t<% \/*\n\t\t<div class=\"item-cell item-cell-grid\" data-type=\"item\" data-item-id=\"<%= item.get('_id') %>\" itemprop=\"itemListElement\" itemscope itemtype=\"http:\/\/schema.org\/Product\">\n\t\t\t<meta itemprop=\"url\" content=\"<%= item.get('_url') %>\">\n\t\t\t<div class=\"item-cell-thumbnail thumbnail\">\n\t\t\t\t<a href=\"<%= item.get('_url') %>\">\n\t\t\t\t\t<img src=\"<%= view.options.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\" itemprop=\"image\">\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t\t<h2 class=\"item-cell-name\">\n\t\t\t\t<a href=\"<%= item.get('_url') %>\">\n\t\t\t\t\t<span itemprop=\"name\">\n\t\t\t\t\t\t<%= item.get('_name') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/h2>\n\n\t\t\t<div class=\"item-cell-price\">\n\t\t\t\t<%= macros.showItemPrice(item.getPrice(), stock_info.isInStock) %>\n\t\t\t<\/div>\n\t\t\t<div class=\"options-container\">\n\t\t\t\t<%= item && item.renderAllOptionSelector(\n\t\t\t\t\t_.where(item.getPosibleOptions(), {showSelectorInList: true})\n\t\t\t\t) %>\n\t\t\t<\/div>\n\t\t\t<div class=\"item-cell-stock\">\n\t\t\t\t<%= macros.itemDetailsStock(stock_info) %>\n\t\t\t<\/div>\n\t\t\t<% if (view.options.application.getConfig('addToCartFromFacetsView') && item.isReadyForCart()) { %>\n\t\t\t\t<form data-toggle=\"add-to-cart\">\n\t\t\t\t\t<input type=\"hidden\" value=\"<%= item.get('_id') %>\" name=\"item_id\">\n\t\t\t\t\t<div class=\"input-append\">\n\t\t\t\t\t\t<input name=\"quantity\" class=\"input-mini\" type=\"number\" min=\"1\" value=\"<%- min_qty %>\">\n\t\t\t\t\t\t<input type=\"submit\" class=\"btn btn-primary\" value=\"Add to Cart\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/form>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% *\/ %>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('clientForm', function (client, parent) { %>\n<% \n\tvar clientRec = client\n\t,\tsite_settings = SC.ENVIRONMENT.siteSettings\n\t,\tcountries = SC.ENVIRONMENT.siteSettings.countries\n\t,\tquantity_countries = _.size(countries)\n\t,\tselected_country = clientRec.get(\"custrecord_tc_country\") || site_settings.defaultshipcountry;\n%>\n<form id=\"client_form\">\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t<input type=\"hidden\" value=\"<%= parent %>\" name=\"custrecord_tc_tailor\" data-rectype=\"field\">\n\t<div class=\"control-group\" data-input=\"firstname\">\n\t\t<label class=\"control-label\" for=\"firstname\">\n\t\t\t<%= _('Firstname').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"firstname\" name=\"custrecord_tc_first_name\" value=\"<%- clientRec.get(\"custrecord_tc_first_name\") %>\" data-rectype=\"field\">\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"control-group\" data-input=\"lastname\">\n\t\t<label class=\"control-label\" for=\"lastname\">\n\t\t\t<%= _('Lastname').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"lastname\" name=\"custrecord_tc_last_name\" value=\"<%- clientRec.get(\"custrecord_tc_last_name\") %>\" data-rectype=\"field\">\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"email\">\n\t\t<label class=\"control-label\" for=\"email\">\n\t\t\t<%= _('Email').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"email\" class=\"input-xlarge\" id=\"email\" name=\"custrecord_tc_email\" value=\"<%- clientRec.get(\"custrecord_tc_email\") %>\" data-rectype=\"field\">\n\t\t<\/div>\n\t<\/div>\n\t\n\t<div class=\"control-group\"  data-input=\"phone\">\n\t\t<label class=\"control-label\" for=\"phone\">\n\t\t\t<%= _('Phone Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"tel\" class=\"input-xlarge\" id=\"phone\" name=\"custrecord_tc_phone\" value=\"<%- clientRec.get(\"custrecord_tc_phone\") %>\" data-type=\"phone\" data-rectype=\"field\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 555-123-1234').translate() %>\n\t\t<\/span>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"address1\">\n\t\t<label class=\"control-label\" for=\"address1\">\n\t\t\t<%= _('Address 1').translate() %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"custrecord_tc_addr1\" name=\"custrecord_tc_addr1\" value=\"<%- clientRec.get(\"custrecord_tc_addr1\") %>\" data-rectype=\"field\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 1234 Main Street').translate() %>\n\t\t<\/span>\n\t<\/div>\n\n\t<div class=\"control-group control-group-big\" data-input=\"address2\">\n\t\t<label class=\"control-label\" for=\"address2\">\n\t\t\t<%= _('Address 2').translate() %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"address2\" name=\"custrecord_tc_addr2\" value=\"<%- clientRec.get(\"custrecord_tc_addr2\") %>\" placeholder=\"<%= _('(optional)').translate() %>\" data-rectype=\"field\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: Apt. 3 or Suite #1516').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"city\">\n\t\t<label class=\"control-label\" for=\"city\">\n\t\t\t<%= _('City').translate() %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"city\" name=\"custrecord_tc_city\" value=\"<%- clientRec.get(\"custrecord_tc_city\") %>\" data-rectype=\"field\">\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group<%= quantity_countries <= 1 ? ' hide' : '' %>\" data-input=\"country\">\n\t\t<label class=\"control-label\" for=\"country\">\n\t\t\t<%= _('Country').translate() %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<%= SC.macros.countriesDropdown(countries, selected_country, \"\") %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"state\">\n\t\t<%= SC.macros.statesDropdown({\n\t\t\tcountries: countries\n\t\t,\tselectedCountry: selected_country\n\t\t,\tselectedState: clientRec.get(\"custrecord_tc_state\")\n\t\t,\tmanage: \"\"\n\t\t}) %>\n\t<\/div>\n\n\t<div class=\"control-group\"  data-input=\"zip\">\n\t\t<label class=\"control-label\" for=\"zipcode\">\n\t\t\t<%= _('Zip Code').translate() %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-medium\" id=\"zipcode\" name=\"custrecord_tc_zip\" value=\"<%- clientRec.get(\"custrecord_tc_zip\") %>\" data-type=\"zip\" data-rectype=\"field\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 94117').translate() %>\n\t\t<\/span>\n\t<\/div>\n<\/fieldset>\n<\/form>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('ratingByStar', function (options) { %>\n<%\n\tvar count, percentage, i;\n\tfor ( i = options.maxRate; i > 0; i-- )\n\t{\n\t\tcount = options.ratingsCountsByRate[i] ? options.ratingsCountsByRate[i] : 0;\n\t\tpercentage = count * 100 \/ options.totalReviews;\n%>\n<div class=\"rating-by-star\">\n<% if (count) { %>\n\t<a href=\"<%= options.view ? options.view.getUrlForOption({ filter: i +'star' }) : options.baseUrl +'\/reviews?filter='+ i +'star' %>\" class=\"rating-by-star-link\">\n<% } %>\n\t<span class=\"rating-by-star-label\">\n\t\t<%= (i === 1) ? _('1 star').translate() : _('$(0) stars').translate(i) %>\n\t<\/span>\n\t\n\t<div class=\"rating-by-star-percentage-area\">\n\t\t<div class=\"progress progress-small\">\n\t\t\t<div class=\"bar bar-rating\" style=\"width: <%= percentage %>%;\"><\/div>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (\/*options.showPercentage*\/ null) { %>\n\t\t<span class=\"rating-by-star-percentage\">\n\t\t\t<%= _('$(0)%').translate(Math.round(percentage)) %>\n\t\t<\/span>\n\t<% } %>\n\t\n\t<% if (options.showCount) { %>\n\t\t<span class=\"rating-by-star-count\">\n\t\t\t<%= count === 1 ? _('1').translate() : _('$(0)').translate(count) %>\n\t\t<\/span>\n\t<% } %>\n<% if (count) { %>\n\t<\/a>\n<% } %>\n\t<div class=\"clearfix\"><\/div>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionTile', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles size-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') + ' ' + (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t\t<%= item.label %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerSimpleProfile', function (Profile) { %>\n<% if (Profile.get('isLoggedIn') === 'T' &&  Profile.get('isGuest') === 'F') { %>\n\t<li class=\"welcome\"><a><%= _('Welcome $(0)').translate(Profile.get('firstname') || Profile.get('companyname'))  %><\/a><\/li>\n\t<li class=\"my-account-title\">\n\t\t<a href=\"#\" data-touchpoint=\"customercenter\">\n\t\t\t<%= _('Your Account').translate() %>\n\t\t<\/a>\n\t<\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li class=\"logout\">\n\t\t<a href=\"#\" data-touchpoint=\"logout\">\n\t\t\t<%= _('Sign Out').translate() %>\n\t\t<\/a>\n\t<\/li>\t\n<% } else { %>\n\t<li><a href=\"#\" data-touchpoint=\"login\"><%= _('Login').translate() %><\/a><\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li><a href=\"#\" data-touchpoint=\"register\"><%= _('Register').translate() %><\/a><\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetedNavigation', function (view) { %>\n<%\n\tvar translator = view.translator\n\t,\tmodel = view.model\n\t,\thas_items = model.get('items').length\n\t,\thas_facets = has_items && model.get('facets').length\n\t\t\/\/ Categories are not a real facet, so lets remove those\n\t,\tapplied_facets = translator.cloneWithoutFacetId('category').facets\n\t,\tcategory = view.category\n\t,\thas_categories = category && category.categories;\n%>\n<% if (has_categories) { %>\n<!--<div class=\"well faceted-navigation\">\n\t<div class=\"well-header facet-list-header\">\n\t\t<%= _('Shop $(0)').translate(category.itemid) %>\n\t<\/div>\n\t<div class=\"well-body\">\n\t\t<div data-type=\"facet\" data-facet-id=\"category\"><\/div>\n\t<\/div>\n<\/div>\n<% } %>\n<% if (has_categories && has_facets) { %>\n<hr>\n<% } %>\n-->\n<% if (has_facets) { %>\n<div id=\"faceted-navigation\" class=\"well faceted-navigation\">\n\t<div class=\"well-header facet-list-header\">\n\t\t<div id=\"banner-left-top\" class=\"content-banner banner-left-top\"><\/div>\n\t\t<% if (applied_facets.length) { %>\n\t\t\t<a href=\"<%= translator.cloneWithoutFacets().getUrl() %>\" class=\"btn btn-primary pull-right facet-clear-all\">\n\t\t\t\t<%= _('Clear All').translate() %>\n\t\t\t<\/a>\n\t\t<% } %>\n\t\t<button class=\"btn btn-inverse back-btn pull-left facet-back-btn\" data-toggle=\"facet-navigation\">\n\t\t\t<%= _('Back').translate() %>\n\t\t<\/button>\n\t\t<span>\n\t\t\t<%= _('Narrow by:').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t<div class=\"well-body\">\n\t\t<% if (applied_facets.length) { %>\n\t\t\t<div class=\"well-section top-filter-reset\">\n\t\t\t\t<a href=\"<%= translator.cloneWithoutFacets().getUrl() %>\" class=\"facet-clear-all\">\n\t\t\t\t\t<%= _('Clear all Filters').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<div\n\t\t\tid=\"default-facets-container\"\n\t\t\tclass=\"facets-container default-facets-container\"\n\t\t\tdata-type=\"all-facets\"\n\t\t\tdata-exclude-facets=\"category\"\n\t\t><\/div>\n\t\t<div id=\"banner-left-bottom\" class=\"content-banner banner-left-bottom\"><\/div>\n\t<\/div>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionDropdown', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/label>\n\t<select name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium\" data-toggle=\"select-option\">\n\t<% _.each(option.values, function (item) {  %>\n\t\t<% if (item.internalid || item.label === _('- Select -').translate()) { %>\n\t\t\t<%\n\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t%>\n\t\t\t<option\n\t\t\t\tclass=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\"\n\t\t\t\tvalue=\"<%= item.internalid %>\"\n\t\t\t\t<%= is_active ? 'selected' : '' %>\n\t\t\t\tdata-active=\"<%= is_active %>\"\n\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t<\/option>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/select>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsStock', function (stock_info) { %>\n\t<% if (!stock_info.isInStock && stock_info.showOutOfStockMessage) { %>\n\t\t<span class=\"label label-important stock-status out-of-stock\">\n\t\t\t<%= stock_info.outOfStockMessage %>\n\t\t<\/span>\n\t<% } else if (stock_info.showInStockMessage) { %>\n\t\t<span class=\"label label-success stock-status in-stock\">\n\t\t\t<%= stock_info.inStockMessage %>\n\t\t<\/span>\n\t<% } %>\n\t<% if (stock_info.showStockDescription && stock_info.stockDescription) { %>\n\t\t<span class=\"stock-description <%= stock_info.stockDescriptionClass %>\">\n\t\t\t<%= stock_info.stockDescription %>\n\t\t<\/span>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('merchandisingZoneCustom', function (zone) { %>\n<aside class=\"shopping-cart-recent-items\">\n\t<h3>Top 3 in: <%= _(zone.title).translate() %><\/h3>\n\t<% if (zone.description) { %>\n\t<p><%= zone.description %><\/p>\n\t<% } %>\n\t<div class=\"row-fluid\">\n\t\t<%\n\t\t\tvar relatedWrap = function relatedWrap (item) {\n\t\t\t\treturn SC.macros.relatedItem(item, zone.application);\n\t\t\t};\n\t\t%>\n\t\t<%= SC.macros.displayInRows(_.first(zone.items, 3), relatedWrap, 4) %>\n\t<\/div>\n<\/aside>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('hostSelector', function (hosts, current_host) { %>\n<% if (hosts && hosts.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<i class=\"icon-globe\"><\/i>\n\t<\/span>\n\t<select data-toggle=\"host-selector\" class=\"input-medium\">\n\t<% _.each(hosts, function(host) { %>\n\t\t<% if (host.languages && host.languages.length) { %>\n\t\t\t<optgroup label=\"<%- host.title %>\">\n\t\t\t<% _.each(host.languages, function(language) { %>\n\t\t\t\t<option value=\"<%- language.host %>\" <%= language.host === current_host ? 'selected' : '' %>>\n\t\t\t\t\t<%= language.title || language.name %>\n\t\t\t\t<\/option>\n\t\t\t<%})%>\n\t\t\t<\/optgroup>\n\t\t<% } %>\n\t<% }) %>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('showItemPrice', function (price, is_in_stock) { %>\n<% if (price.min && price.max) { %>\n<span itemprop=\"offers\" itemscope itemtype=\"http:\/\/schema.org\/AggregateOffer\">\n\t<meta itemprop=\"priceCurrency\" content=\"<%= SC.getSessionInfo('currency').code %>\">\n\t<!-- Price Range -->\n\t<span class=\"lead-price\">\n\t\t<%= _('$(0) to $(1)').translate(\n\t\t\t'<span itemprop=\"lowPrice\">' + price.min.price_formatted + '<\/span>'\n\t\t,\t'<span itemprop=\"highPrice\">' + price.max.price_formatted + '<\/span>'\n\t\t) %>\n\t<\/span>\n\t<% if (price.max.price < price.compare_price) { %>\n\t\t<small class=\"muted crossed\">\n\t\t\t<%= price.compare_price_formatted %>\n\t\t<\/small>\n\t<% } %>\n\t<link itemprop=\"availability\" href=\"<%= is_in_stock ? 'http:\/\/schema.org\/InStock' : 'http:\/\/schema.org\/OutOfStock' %>\">\n<\/span>\n<% } else { %>\n<span itemprop=\"offers\" itemscope itemtype=\"http:\/\/schema.org\/Offer\">\n\t<meta itemprop=\"priceCurrency\" content=\"<%= SC.getSessionInfo('currency').code %>\">\n\t<!-- Single -->\n\t<span class=\"lead-price\" itemprop=\"price\" data-rate=\"<%= price.price %>\">\n\t\t<%= price.price_formatted %>\n\t<\/span>\n\t<% if (price.price < price.compare_price) { %>\n\t\t<small class=\"muted crossed\">\n\t\t\t<%= price.compare_price_formatted %>\n\t\t<\/small>\n\t<% } %>\n\t<link itemprop=\"availability\" href=\"<%= is_in_stock ? 'http:\/\/schema.org\/InStock' : 'http:\/\/schema.org\/OutOfStock' %>\">\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemListSortSelector', function(config) {  %>\n<div class=\"item-listing-sorting span6\">\n\t<label>\n\t\t<!-- visible-desktop -->\n\t\t<span class=\"hidden-phone hidden-tablet sort-selector-label\"><%= _('Sort By:').translate() %><\/span>\n\t\t<!-- \/visible-desktop -->\n\t\t<select class=\"input-medium no-margin-bottom\" data-type=\"navigator\">\n\t\t\t<% _.each(config.options, function(option) { %>\n\t\t\t\t<option value=\"<%- config.translator.cloneForOptions({order: option.id, page: 1}).getUrl() %>\" <%= config.translator.getOptionValue('order') === option.id ? 'selected' : '' %> ><%= option.name %><\/option>\n\t\t\t<%})%>\n\t\t<\/select>\n\t<\/label>\n<\/div>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('quickLinks', function(model) { %>\n\n\t<div id=\"quick-button-overlay\" class=\"quick-button-area\"><\/div>\n\t<div id=\"quick-button-content\" class=\"quick-button-area\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<% _.each(model, function (quickLink) { %>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<a href=\"<%= quickLink.href %>\" data-touchpoint=\"<%= quickLink.data.touchpoint %>\" data-hashtag=\"<%= quickLink.data.hashtag %>\">\n\t\t\t\t\t\t\t<div class=\"quick-button-image-wrapper\">\n\t\t\t\t\t\t\t\t<div style=\n\t\t\t\t\t\t\t\t\t\"background-image: url('\/assets\/images\/content\/quick buttons\/quick_buttons.png');\n\t\t\t\t\t\t\t\t\t background-position: <%=quickLink.xPosition%> 0px\"><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div><%=_(quickLink.text).translate() %><\/div>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History   \n-------------- \nDate: 04-03-2019\nChanged by:Shoaib Iqbal\nChange \/Jira Ticket #: JHD-25\nChange Description: Remove State\n-->\n\n<% registerMacro('swxOrderClientList', function (paramClientList) { %>\n\n\t<%\n\t\tvar arrObjClientList = paramClientList;\n\t\tvar arrObjClientListTotal = (!_.isNullOrEmpty(arrObjClientList)) ? arrObjClientList.length : 0;\n\t\tvar hasArrObjClientList = (arrObjClientListTotal != 0) ? true : false;\n\t%>\n\n\t<% if (hasArrObjClientList) { %>\n\n\t\t<!-- start header -->\n\t\t<div id=\"desktop-only\" class=\"row-fluid back-btn\" style=\"border-bottom: solid 1px #e5e5e5; margin-bottom: 8px;\">\n\t\t\t\n\t\t\t<div class=\"span8\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3\" style=\"padding-bottom: 8px;\"><div style=\"font-weight: 600;\">Client Name<\/div><\/div>\n\t\t\t\t\t<div class=\"span4\"><div style=\"font-weight: 600;\">Email<\/div><\/div>\n\t\t\t\t\t<div class=\"span3\"><div style=\"font-weight: 600;\">Phone<\/div><\/div>\n\t\t\t\t\t<!-- <div class=\"span2\"><div style=\"font-weight: 600;\">State<\/div><\/div> --> <!-- JHD-25 -->\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div class=\"span4\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span4\"><div>&nbsp;<\/div><\/div>\n\t\t\t\t\t<div class=\"span4\"><div>&nbsp;<\/div><\/div>\n\t\t\t\t\t<div class=\"span4\"><div>&nbsp;<\/div><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\n\t\t<!-- end header -->\n\t\n\t\t<% for (var dx = 0; dx < arrObjClientListTotal; dx++) { %>\n\t\t\n\t\t\t<%\n\t\t\t\tvar clientNameValue = ''; \n\t\t\t\tvar clientInternalId = arrObjClientList[dx]['internalid'];\n\t\t\t\tvar clientEmail = arrObjClientList[dx]['custrecord_tc_email'];\n\t\t\t\tvar clientPhone = arrObjClientList[dx]['custrecord_tc_phone'];\n\t\t\t\tvar clientState = arrObjClientList[dx]['custrecord_tc_state'];\n\t\t\t\tvar clientFirstName = arrObjClientList[dx]['custrecord_tc_first_name'];\n\t\t\t\tvar clientLastName = arrObjClientList[dx]['custrecord_tc_last_name'];\n\t\t\t\tvar hasClientFirstName = (!_.isNullOrEmpty(clientFirstName)) ? true : false;\n\t\t\t\tvar hasClientLastName = (!_.isNullOrEmpty(clientLastName)) ? true : false;\n\t\t\t\tclientNameValue += (hasClientFirstName) ? clientFirstName + ' ' : '';\n\t\t\t\tclientNameValue += (hasClientLastName) ? clientLastName : '';\n\n\t\t\t\t\t\t\n\t\t\t%>\n\t\t\t\n\t\t\t<!-- start row contents -->\n\t\t\t<div class=\"row-fluid\" style=\"border-bottom: solid 1px #e5e5e5; margin-bottom: 8px;\">\n\t\t\t\t\n\t\t\t\t<div class=\"span8\" style=\"padding-top: 8px;\">\n\t\t\t\t\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"float: left; font-size: 12px; font-weight: 600; padding-right: 8px; white-space: nowrap;\">Client Name:<\/div>\t\n\t\t\t\t\t\t\t<div style=\"float: left; font-size: 12px;\"><%= clientNameValue %><\/div>\n\t\t\t\t\t\t\t<div style=\"clear: both;\"><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"float: left; font-size: 12px; font-weight: 600; padding-right: 8px; white-space: nowrap;\">Email:<\/div>\t\n\t\t\t\t\t\t\t<div style=\"float: left; font-size: 12px;\"><%= clientEmail %><\/div>\n\t\t\t\t\t\t\t<div style=\"clear: both;\"><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\n\t\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"float: left; font-size: 12px; font-weight: 600; padding-right: 8px; white-space: nowrap;\">Phone:<\/div>\n\t\t\t\t\t\t\t<div style=\"float: left; font-size: 12px;\"><%= clientPhone %><\/div>\n\t\t\t\t\t\t\t<div style=\"clear: both;\"><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\n\t\t\t\t\t\t<!-- <div class=\"span2\"> \n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"float: left; font-size: 12px; font-weight: 600; padding-right: 8px; white-space: nowrap;\">State:<\/div>\n\t\t\t\t\t\t\t<div style=\"float: left; font-size: 12px;\"><%= clientState %><\/div>\n\t\t\t\t\t\t\t<div style=\"clear: both;\"><\/div>\n\t\t\t\t\t\t<\/div> --> <!-- JHD-25 -->\n\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t\t<\/div>\n\t\t\t\n\t\t\t\t<div class=\"span4\" style=\"padding-bottom: 8px;\">\n\t\t\t\t\t\t\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\n\t\t\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"height: 10px;\"><\/div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<!--button id=\"\" class=\"btn\" style=\"width: 100%;\">Edit<\/button-->\n\t\t\t\t\t\t\t\t<a href=\"\/tailorclientdetails\/<%=clientInternalId%>|client\" data-toggle=\"show-in-modal\" class=\"btn\" style=\"width: 100%; padding-top: 4px; padding-bottom: 4px; padding-left: 0px; padding-right: 0px;\">Edit<\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"height: 10px;\"><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\n\t\t\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t\t\t<div><a data-id=\"<%=clientInternalId%>\" data-type=\"client\" data-action=\"remove-rec\" class=\"btn\" style=\"width: 100%; padding-top: 4px; padding-bottom: 4px; padding-left: 0px; padding-right: 0px;\">Remove<\/a><\/div>\t\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"height: 10px;\"><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\n\t\t\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t\t\t<div><a href=\"\/item-types?client=<%=clientInternalId%>\" data-touchpoint=\"home\" data-hashtag=\"#\/item-types?client=<%=clientInternalId%>\" class=\"btn btn-primary\" style=\"width: 100%; padding-top: 4px; padding-bottom: 4px; padding-left: 0px; padding-right: 0px;\">Create Order<\/a><\/div>\t\n\t\t\t\t\t\t\t<div id=\"mobile-only\" style=\"height: 10px;\"><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\n\t\t\t<\/div>\n\t\t\t<!-- end row contents -->\n\t\t\t\t\n\t\t<% } %>\n\t\t\n\t\t<% _.toggleMobileNavButt() %>\n\n\n\t<% } %>\n\t\n\t<% if (!hasArrObjClientList) { %>\n\t\n\t<% } %>\n\t\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetCategories', function (translator, config, facet) { %>\n<%\n\tvar selected = translator.getFacetValue(facet.id)\n\t,\ttree = translator.getMergedCategoryTree(facet.values)\n\t,\ttab = selected ? tree[selected.split('\/')[0]] : {}\n\t,\tfacet_html_id = _.uniqueId('facetList_');\n%>\n<div id=\"<%= facet_html_id %>\" class=\"well-section facet-well\" data-type=\"rendered-facet\" data-facet-id=\"<%= facet.id %>\">\n\t<h3 class=\"heading uncollapsible\"><\/h3>\n\t<div class=\"filters <%= !config.uncollapsible && config.collapsed ? 'collapse' : 'in' %>\">\n\t\t<%= SC.macros.facetCategoriesList({\n\t\t\tlist: translator.getMergedCategoryTree(facet.values, tab.categories)\n\t\t,\tfacet: facet\n\t\t,\ttranslator: translator\n\t\t,\tselected: translator.getFacetValue(facet.id)\n\t\t,\turl_memo: tab.urlcomponent\n\t\t}) %>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<!--\nChange History   \n-------------- \nDate: 15-01-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-6\nChange Description: Expand room for fit tool names\n-->\n<!--\nChange History   \n-------------- \nDate: 28-02-2019\nChanged by:Salman Khan\nChange \/Jira Ticket #: JHD-11\nChange Description: Default fit tools can be inputted into the my account section\n-->\n\n<% registerMacro('measureForm', function (fields, values,selectedItemType, paramEvent) { %>\n<%\n\tvar eventValue = (!_.isNullOrEmpty(paramEvent) && paramEvent == 'add') ? 'add' : 'viewedit';\n\tvar isAddEvent = (eventValue == 'add') ? true : false;\n\tvar isViewEdit = (eventValue == 'viewedit') ? true : false;\n\t\n%>\n\t<% if(fields && fields.fieldset && fields.fieldset.length){ %>\n\t\t<h4 class=\"section-header\"><%= _('Measurement Details').translate() %><\/h4>\n\n\t\t<% _.each(fields.fieldset, function(fieldset){ %>\n\t\t\t<% if(fieldset.name == 'main'){ %>\n\t\t\t\t<div class=\"main-section\">\n\t\t\t\t\t<% if(fields.type == 'Body'){ %>\n\t\t\t\t\t\t<% _.each(fieldset.fields, function(field){\n              var mainBodyValue  = null;\n\t\t\t\t\t\t\tvar fieldValue = _.where(values, {name: field.name.replace('+',' ')});\n              if(fieldValue===null || fieldValue === undefined || fieldValue.length ===0 ){\n                   fieldValue = _.where(values, {name: field.name.replace(' ','+')});\n               }\n               \/\/console.log('upper fieldValue initial>',fieldValue);\n\t\t\t\t\t\t\tif(fieldValue.length){\n\t\t\t\t\t\t\t\tmainBodyValue = fieldValue[0].value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<%= SC.macros.bodyMeasureField(field, mainBodyValue, fieldset.name,0,0,selectedItemType) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<% _.each(fieldset.fields, function(field){\n\t\t\t\t\t\t\tvar mainBlockValue = null\n\t\t\t\t\t\t\t,\tfieldValue = _.where(values, {name: field.name})\n\t\t\t\t\t\t\tif(fieldValue.length){\n\t\t\t\t\t\t\t\tmainBlockValue = fieldValue[0].value;\n\t\t\t\t\t\t\t\tif (fieldValue.length > 1 && field.type == \"select\") { \/\/ for select items with a similar name to a measurement\n\t\t\t\t\t\t\t\t\tmainBlockValue = fieldValue[fieldValue.length - 1].value; \/\/ select types seem to always get the last item\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmainBlockValue = fieldValue[0].value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<%= SC.macros.blockMeasureField(field, mainBlockValue) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<% } else { %>\n\t\t\t\t<div class=\"<%= fieldset.name %>-section\">\n\t\t\t\t\t<h4><%= fieldset.label %><\/h4>\n\t\t\t\t\t<hr \/>\n\t\t\t\t\t<% if(fields.type == 'Body'){ %>\n\t\t\t\t\t\t<% if(fieldset.name == \"body-measurement\"){ %>\n\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<!-- JHD-6 Start -->\n\t\t\t\t\t\t\t<div style=\"width:30%; float:left;margin:0;\">&nbsp;<\/div>\n\t\t\t\t\t\t\t\t<div style=\"width:20%;margin:0;\" class=\"span3-profile offset2 measurement\"><%= _('Measurement').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div style=\"width:20%;margin:0;\" class=\"span3-profile measurement\"><%= _('Allowance').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div style=\"width:20%;margin:0;text-align:center;\" class=\"span3-profile measurement\"><%= _('Finished').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div style=\"width:10%;margin:0;\" class=\"span3-profile measurement\"><%= _('Range').translate() %><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<!-- JHD-6 End -->\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% _.each(fieldset.fields, function(field){\n\t\t\t\t\t\t\tvar fieldName = field.name;\n\t\t\t\t\t\t\tvar fieldValue = _.where(values, {name: fieldName});\n\t\t\t\t\t\t\tif(fieldValue.length === 0){\n\t\t\t\t\t\t\t\tfieldValue = _.where(values, {name: fieldName.replace('-',' ')});\n\t\t\t\t\t\t\t\tfieldName = fieldName.replace('-',' ');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(fieldValue.length === 0){\n\t\t\t\t\t\t\t\tfieldValue = _.where(values, {name: fieldName.replace('+',' ')});\n\t\t\t\t\t\t\t\tfieldName = fieldName.replace('+',' ');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar bodyValue = null;\n\t\t\t\t\t\t\tvar allowance = null;\n\t\t\t\t\t\t\tvar baseAllowance = null;\n\n\t\t\t\t\t\t\tvar allowFieldValue = _.where(values, {name: \"allowance-\" + fieldName});\n\n\t\t\t\t\t\t\tvar lookUpField = _.where(values, {name: fields[\"lookup-key\"]});\n\n\t\t\t\t\t\t\tif(values) {\n\t\t\t\t\t\t\t\tif(fieldValue.length){\n\t\t\t\t\t\t\t\t\tif (fieldValue.length > 1 && field.type == \"select\") { \/\/ for select items with a similar name to a measurement\n\t\t\t\t\t\t\t\t\t\tbodyValue = fieldValue[fieldValue.length - 1].value; \/\/ select types seem to always get the last item\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tbodyValue = fieldValue[0].value;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(allowFieldValue.length){\n\t\t\t\t\t\t\t\t\tallowance = allowFieldValue[0].value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(lookUpField.length){\n\t\t\t\t\t\t\t\t\tbaseAllowance = _.where(fields[\"lookup-value\"][lookUpField[0].value], {field: field.name})[0];\n\t\t\t\t\t\t\t\t\tbaseAllowance = baseAllowance && baseAllowance.value ? baseAllowance.value : 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbaseAllowance = _.where(fields[\"lookup-value\"][\"Very Slim\"], {field: field.name})[0];\n\t\t\t\t\t\t\t\tbaseAllowance = baseAllowance && baseAllowance.value ? baseAllowance.value : 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<%= SC.macros.bodyMeasureField(field, bodyValue, fieldset.name, baseAllowance, allowance,selectedItemType) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<!-- JHD-6 Start-->\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div style=\"width:30%;float:left;\">&nbsp;<\/div>\n\t\t\t\t\t\t\t<div style=\"width:20%;margin:0;\" class=\"span2 offset3\"><%= fieldset[\"max-label\"] %><\/div>\n\t\t\t\t\t\t\t<div style=\"width:20%;margin:0;\" class=\"span2 offset5p\"><%= fieldset[\"min-label\"] %><\/div>\n\t\t\t\t\t\t\t<% if(fieldset.name == 'length' || fieldset.name == 'horizontals') { %> <!-- JHD-11 -->\n\t\t\t\t\t\t\t<div style=\"width:10%;margin:0; color:#c1c1c1;\" class=\"span-w-10\"><%= _('Default').translate() %><\/div>\n\t\t\t\t\t\t\t<div style=\"width:10%;margin:0;padding-left: 7px; color:#c1c1c1;\" class=\"span-w-10 offset5p\"><%= _('Block').translate() %><\/div>\n\t\t\t\t\t\t\t<div style=\"width:10%;margin:0; color:#c1c1c1;\" class=\"span-w-10\"><%= _('Finished').translate() %><\/div>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<div style=\"width:10%;text-align:center;float: left; color:#c1c1c1;\"><%= _('Default').translate() %><\/div>\n\t\t\t\t\t\t\t<div style=\"width:10%;margin:0;\" class=\"span3\">&nbsp;<\/div>\n\t\t\t\t\t\t\t<div style=\"width:10%;margin:0;\" class=\"span3\">&nbsp;<\/div>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<!-- JHD-6 End -->\n\t\t\t\t\t\t<% _.each(fieldset.fields, function(field){\n\t\t\t\t\t\t\tvar blockValueMin = _.where(values, {name: field.name + \"-min\"})[0]\n\t\t\t\t\t\t\t,\tblockValueMax = _.where(values, {name: field.name + \"-max\"})[0]\n\t\t\t\t\t\t\t,\tvalue = [blockValueMin, blockValueMax];\n\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<%= SC.macros.blockMeasureField(field, value, fields.increment,fieldset) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<% if(fieldset.name == \"body-measurement\" && (selectedItemType == 'Jacket' || selectedItemType == 'Waistcoat' ||\njQuery('[id*=\"custrecord_fp_product_type\"]').val() == 'Jacket' || jQuery('[id*=\"custrecord_fp_product_type\"]').val() == 'Waistcoat')){ %>\n\n\t\t\t\t<p id=\"optionalmessage\">** optional measurement<\/p>\n\t\t\t\t<% }%>\n\t\t\t<% } %>\n\t\t<% }) %>\n\n\t\t<div class=\"form-actions\">\n\t\t\t<% if (isViewEdit) { %>\n\t\t\t<button class=\"btn\" id='swx-fitprofile-copy'> Copy<\/button>\n\t\t\t<% } %>\n\t\t\t<button class=\"btn btn-primary\" type=\"submit\">Submit<\/button>\n\t\t\t<button data-action=\"reset\" class=\"btn hide\" type=\"reset\">Cancel<\/button>\n\n\t\t<\/div>\n\n\t<% } %>\n\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('backToTop', function () { %>\n<div id=\"back-to-top\" class=\"text-center back-to-top\">\n\t<a href=\"#\" data-action=\"back-to-top\">\n\t\t<i class=\"icon-arrow-up\"><\/i>\n\t\t<%= _('Top').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('facetCategoriesList', function (options) { %>\n<ul class=\"nav nav-list <%= (options.list_id && options.collapsed) ? 'collapse' : 'in' %>\" <% if (options.list_id) {%>id=\"<%= options.list_id %>\"<% } %>>\n\t<% _.each(_.values(options.list), function (item) { %>\n\t\t<%\n\t\t\tvar has_sub = item.categories && _.values(item.categories).length\n\t\t\t,\tsub_list_id = _.uniqueId('facetSubList_')\n\t\t\t,\tvalue = options.url_memo ? options.url_memo + '\/' + item.urlcomponent : item.urlcomponent\n\t\t\t,\tis_selected = options.selected === value\n\t\t\t,\tis_active = is_selected || (options.selected && ~options.selected.indexOf(value + '\/'));\n\t\t%>\n\t\t<li class=\"<%= is_active ? 'active' : '' %>\">\n\t\t\t<div class=\"category-item-label\">\n\t\t\t\t<a title=\"<%= item.itemid %>\" href=\"<%= options.selected === value ? '' : options.translator.cloneWithoutFacets().cloneWithoutOption('order').cloneForFacetId(options.facet.id, value).getUrl() %>\">\n\t\t\t\t\t<%= item.itemid %><% if (item.count) { %> (<%= item.count %>)<% } %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t\t<% if (has_sub) { %>\n\t\t\t\t<%= SC.macros.facetCategoriesList({\n\t\t\t\t\tlist: item.categories\n\t\t\t\t,\tfacet: options.facet\n\t\t\t\t,\ttranslator: options.translator\n\t\t\t\t,\turl_memo: value\n\t\t\t\t,\tlist_id: sub_list_id\n\t\t\t\t,\tcollapsed: !options.selected || value !== options.selected.substring(0, value.length)\n\t\t\t\t,\tselected: options.selected\n\t\t\t\t}) %>\n\t\t\t<% } %>\n\t\t<\/li>\n\t<% }) %>\n<\/ul>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemListSummary', function( configuration ) { %>\n<%\n\tvar range_end = configuration.currentPage * configuration.itemsPerPage\n\t,\trange_start = range_end - configuration.itemsPerPage + 1\n\t,\ttotal = configuration.totalItems;\n\n\trange_end = Math.min(range_end, total);\n%>\n\t<div class=\"item-listing-summary\">\n\t\t<%= _('$(0) - $(1) of $(2) Results').translate(range_start, range_end, total) %>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('currencySelector', function (currencies, selected_code) { %>\n<% if (currencies && currencies.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<%= SC.getSessionInfo('currency').symbol %>\n\t<\/span>\n\t<select data-toggle=\"currency-selector\" class=\"input-medium\">\n\t<% _.each(currencies, function (currency) { %>\n\t\t<option value=\"<%- currency.code %>\" <%= selected_code === currency.code ? 'selected' : '' %>>\n\t\t\t<%= currency.title || currency.name %>\n\t\t<\/option>\n\t<% }) %>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('quickLinks', function(model) { %>\n\t\t\n\t<div id=\"quick-button-content\" class=\"quick-button-area\" style=\"margin:0px;background-color: #ebebeb\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<% _.each(model, function (quickLink) { %>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<a href=\"<%= quickLink.href %>\" data-touchpoint=\"<%= quickLink.data.touchpoint %>\" data-hashtag=\"<%= quickLink.data.hashtag %>\">\n\t\t\t\t\t\t\t<div class=\"quick-button-image-wrapper\">\n\t\t\t\t\t\t\t\t<div style=\n\t\t\t\t\t\t\t\t\t\"background-image: url('\/assets\/images\/content\/quick buttons\/quick_buttons.png');\n\t\t\t\t\t\t\t\t\t background-position: <%=quickLink.xPosition%> 0px\"><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div><%= quickLink.text %><\/div>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<%})%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n"],"forbidden_error_tmpl":"<div class=\"view-header container\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <div id=\"forbidden-error-content\" class=\"view-body forbidden-error-content\">\n            <p><%= _('Sorry! You have no permission to view this page.').translate() %><\/p>\n            <p><%= _('Please contact the website administrator, click <a href=\"\/\">here<\/a> to continue.').translate() %><\/p>\n        <\/div>\n    <\/div>\n<\/div>","product_list_delete_confirm_tmpl":"<div class=\"modal-body\">\n\t<%= view.body %>\n<\/div>\n<div class=\"modal-footer\">\n\t<button class=\"btn btn-primary pull-right\" data-action=\"delete\">\n\t\t<%= view.confirmLabel || _('Yes').translate() %>\n\t<\/button>\n\t<button class=\"btn\" data-dismiss=\"modal\" data-action=\"cancel\">\n\t\t<%= view.cancelLabel || _('Cancel').translate() %>\n\t<\/button>\n<\/div>","product_list_new_tmpl":"<%\n\/\/TODO: rename this file to product_list_edit\nvar model = view.model;\n%>\n\n<form action=\"#\">\n\n\t<% if (view.inModal) { %>\n\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<div class=\"row-fluid product-list-new-name\">\n\t\t<div class=\"pull-left control-group control-group-name product-list-new-name-input\">\n\t\t\t<label><%= view.isEdit ? _('Your list name').translate() : _('Name your new list').translate() %>:<\/label>\n\t\t\t<span class=\"controls\">\n\t\t\t\t<input type=\"text\" name=\"name\" class=\"list-name\" placeholder=\"<%= view.isEdit ? _('List name').translate() : _('New list name').translate() %>\" value=\"<%= view.isEdit ? model.get('name') : '' %>\">\n\t\t\t<\/span>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"row-fluid product-list-new-privacy\">\n\t\t<!-- TODO -->\n\t<\/div>\n\t<div class=\"row-fluid product-list-new-notes\">\n\t\t<div class=\"pull-left control-group product-list-new-notes-input\">\n\t\t\t<label><%= _('Notes for the list (optional)').translate() %>: <\/label>\n\t\t\t<textarea class=\"list-description\" name=\"description\" placeholder=\"<%= _('Add a note or description for your list').translate() %>\"><%= view.isEdit ? model.get('description') : '' %><\/textarea>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (view.inModal) { %>\n\t<\/div>\n\t<% } %>\n\n\t<div class=\"<%= view.inModal ? 'modal-footer' : '' %> product-list-new-commands\">\n\t\t\n\t\t<button type=\"submit\" class=\"btn btn-primary new-product-list-btn pull-right\">\n\t\t\t<%= view.isEdit ? _('Save').translate() : _('Create list').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal) { %>\n\t\t<button class=\"btn new-product-list-cancel\" data-dismiss=\"modal\"><%= _('Cancel').translate() %><\/button>\n\t\t<% } %>\n\t\t\n\t<\/div>\n\n<\/form>","review_form_tmpl":"<div class=\"container\">\n    <%= breadcrumb(view.getBreadcrumb()) %>\n<\/div>\n<div class=\"gradient-content\">\n    <div class=\"container\">\n        <div class=\"row-fluid review-form\">\n            <div class=\"span3\">\n                <div class=\"rev-form-side\">\n                <%= itemCellGrid(view.item, view) %>\n                    <h3 class=\"no-margin-top\"><%= _('Writing Suggestions').translate() %><\/h3>\n                    <p><%= _('Explain why you like or dislike the product, focusing your comments on the product\\'s features & functionality and your own experience using the product').translate() %><\/p>\n                    <p><%= _('Avoid single-word reviews, bad language, contact information (email addresses, phone numbers, etc.), URLs, time-sensitive material or alternative ordering information').translate() %><\/p>\n                <\/div>\n            <\/div>\n            <div class=\"span9\">\n                <% if ( view.options.application.getConfig('productReviews.loginRequired') && !view.isLoggedIn ) { %>\n                <p><%= _('You need to be logged in to write a review, <a href=\"#\" data-touchpoint=\"login\">click here<\/a> to log in.').translate() %><\/p>\n                <% } else { %>\n                <form id=\"new-product-review\" class=\"new-product-review\">\n                    <h1><%= view.page_header %><\/h1>\n                    <div class=\"rating rating-container\">\n                        <% _.each(view.item.get('_attributesToRateOn'), function (attribute) { %>\n                        <% if (attribute) { %>\n                        <div class=\"control-group stars-g\">\n                            <label class=\"control-label\" for=\"<%= attribute %>\"><%= attribute %><\/label>\n                            <div class=\"controls\">\n                                <%= starRating({\n                                    max: view.options.application.getConfig('productReviews.maxRate')\n                                    ,\tvalue: view.model.get('rating_per_attribute')[attribute] || 0\n                                    ,\tname: attribute\n                                    ,\tclassName: 'pegs'\n                                    ,\twriteMode: true\n                                }) %>\n                            <\/div>\n                        <\/div>\n                        <% } %>\n                        <%})%>\n\n                        <div class=\"control-group stars-g\">\n                            <label class=\"control-label\" for=\"Overall\"><%= _('Overall').translate() %><\/label>\n                            <div class=\"controls\" name=\"rating\">\n                                <%= starRating({\n                                    max: view.options.application.getConfig('productReviews.maxRate')\n                                    ,\tvalue: view.model.get('rating') || 0\n                                    ,\tname: '__overall__'\n                                    ,\tclassName: 'star'\n                                    ,\twriteMode: true\n                                }) %>\n                            <\/div>\n                        <\/div>\n                    <\/div>\n                    <div class=\"control-group\">\n                        <label class=\"control-label\" for=\"writer\"><%= _('Your Nickname').translate() %><\/label>\n                        <div class=\"controls\">\n                            <input type=\"text\" id=\"writer\" class=\"writer\" name=\"writer.name\" value=\"<%- view.model.get('writer') && view.model.get('writer').name || '' %>\" placeholder=\"\">\n                            <small class=\"help-inline\"><%= _('For privacy reasons, please do not use your full name or email address.').translate() %><\/small>\n                        <\/div>\n                    <\/div>\n\n                    <div class=\"row-fluid\">\n                        <div class=\"\">\n                            <div class=\"control-group\">\n                                <label class=\"control-label\" for=\"title\"><%= _('Review Title').translate() %><\/label>\n                                <div class=\"controls\">\n                                    <input type=\"text\" id=\"title\" class=\"span9 title\" name=\"title\" value=\"<%- view.model.get('title') || '' %>\" placeholder=\"\">\n                                <\/div>\n                            <\/div>\n\n                            <div class=\"control-group\">\n                                <label class=\"control-label\" for=\"text\"><%= _('Your Review').translate() %><\/label>\n                                <div class=\"controls\">\n                                    <textarea rows=\"9\" id=\"text\" class=\"span9 resize-vertical text\" name=\"text\"><%= view.model.get('text') || '' %><\/textarea>\n                                <\/div>\n                            <\/div>\n                        <\/div>\n\n\n                    <\/div>\n                    <div class=\"form-actions\">\n                        <button type=\"submit\" class=\"btn btn-primary btn-large\"><%= _('Preview').translate() %><\/button>\n                        <button href=\"<%= view.item.get('_url') %>\" class=\"btn btn-large\"><%= _('Cancel').translate() %><\/button>\n                    <\/div>\n                <\/form>\n                <% } %>\n            <\/div>\n        <\/div>\n\n\n    <\/div>\n<\/div>","facet_browse_tmpl":"<%\n\tvar model = view.model\n\t,\titems = model.get('items')\n\t,\tfacets = model.get('facets')\n\t,\ttranslator = view.translator;\n\t\/\/var translateorFacet = translator.facets\n\t\/\/translateorFacet.push({'priority' : 10, 'behavior' : 'single', 'value' : []})\n\n\tvar\tisOrderPage = \"Item Types\" == SC._applications.Shopping.getLayout().currentView.category.itemid\n\t,\tspan = isOrderPage ? \"span12\" : \"span9\"\n\t\t\/\/ Some calls to macros so we have can reuse them\n\t,\tfacetsDisplayResults = facetsDisplay(translator)\n\n\t,\titemListSummaryResult = itemListSummary({\n\t\t\ttotalItems: model.get('total')\n\t\t,\tcurrentPage: translator.getOptionValue('page')\n\t\t,\titemsPerPage: translator.getOptionValue('show')\n\t\t})\n\n\t,\tpaginationResult = pagination(_.extend({}, view.options.application.getConfig('defaultPaginationSettings'), {\n\t\t\tcurrentPage: translator.getOptionValue('page')\n\t\t,\ttotalPages: view.totalPages\n\t\t,\textraClass: 'pagination-small pull-right'\n\t\t,\tpager: function (page, rawClientID) {\n\t\t\t\tvar result = \"\";\n\t\t\t\tif (rawClientID){ \/\/ fix for pagination not handling the client parameter\n\t\t\t\t\tvar url = translator.cloneForOption('page', page).getUrl();\n\t\t\t\t\tvar arr = url.split(\"?\")\n\t\t\t\t\tarr.splice(1,0, \"?\" + rawClientID + \"&\")\n\t\t\t\t\tresult = arr.join(\"\");\n\t\t\t\t} else {\n\t\t\t\t\tresult = translator.cloneForOption('page', page).getUrl();\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}))\n\n\t,\titemListDisplaySelectorResult = itemListDisplaySelector({\n\t\t\ttranslator: translator\n\t\t,\tclasses: 'pull-right'\n\t\t,\toptions: view.options.application.getConfig('itemsDisplayOptions')\n\t\t})\n\n\t,\titemListSortSelectorResult = itemListSortSelector({\n\t\t\ttranslator: translator\n\t\t,\toptions: view.options.application.getConfig('sortOptions')\n\t\t})\n\n\t,\titemListShowSelectorResult = itemListShowSelector({\n\t\t\ttranslator: translator\n\t\t,\toptions: view.options.application.getConfig('resultsPerPage')\n\t\t})\n\n\n\t,\tpage_header = _(view.page_header).substitute({\n\t\t\titemscount: model.get('total')\n\t\t});\n\t\tvar hash = window.location.hash;\n\t\tif(hash.indexOf('Inventory\/Fabrics') == -1 && hash.indexOf('Inventory\/Inventory-Accessories') == -1 && hash.indexOf('Inventory\/Packaging') == -1){\n\t\t\tvar paramarr = hash.split('item-types\/')[1];\n\t\t\tvar product = paramarr.split('?')[0];\n\t\t\tvar client = paramarr.split('?')[1];\n\t\t}\n%>\n<div data-cms-area=\"item_list_banner\" data-cms-area-filters=\"page_type\"><\/div>\n<div class=\"view-header container\" itemscope itemtype=\"http:\/\/schema.org\/WebPage\">\n\t<%= breadcrumb(view.getBreadcrumb()) %>\n<\/div>\n\t<div class=\"gradient-content\">\n    <div class=\"container\">\n\t\t\t\n\t\t\t<div class=\"row-fluid\" itemscope itemtype=\"http:\/\/schema.org\/ItemList\">\n\t\t\t\t<h2>\n\t\t\t\t<%- _('Fabric Selection').translate() %>\n\t\t\t\t<\/h2>\n\t\t\t\t<div id=\"site-search-container\" class=\"site-search-container pull-left\">\n\t\t\t\t\t<%= SC.macros.siteSearch('keywords', view) %>\n\t\t\t\t<\/div>\n\t\t\t\t<% if(isOrderPage) { %>\n\t\t\t\t<div class=\"site-search-container pull-left\">\n\t\t\t\t\t<a style=\"margin-left:20px;height:32px;line-height:32px;\" class=\"btn\" href=\"CMT-Item?<%=client%>&product=<%=product%>\">CMT ITEM<\/a>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t\n  \t\t<div class=\"row-fluid view-body\" itemscope itemtype=\"http:\/\/schema.org\/ItemList\">\n        <% if(!isOrderPage){ %>\n\t\t      <nav class=\"span3\">\n\t\t\t\t\t<%= facetedNavigation(view) %>\n\t\t\t\t\t<\/nav>\n\t\t\t\t<% } %>\n\t<section id=\"item-list-container\" class=\"<%=span%> item-list-container\">\n\t\t<% if(view.subtitle && isOrderPage){ %>\n\t\t<meta itemprop=\"name\" content=\"<%- view.getTitle() %>\">\n\t\t<div id=\"banner-section-top\" class=\"content-banner banner-section-top\"><\/div>\n\t\t<header>\n\t\t\t<!-- visible-phone -->\n\t\t\t<p class=\"h1 visible-phone\">\n\t\t\t\t<%= page_header %>\n\t\t\t<\/p>\n\t\t\t<% if (view.subtitle) { %>\n\t\t\t\t<h4><%- _(view.subtitle).translate() %><\/h4>\n\t\t\t<% } %>\n\t\t\t<!-- \/visible-phone -->\n\t\t\t<div class=\"facet-header <%= translator.facets.length ? 'no-facets-selected' : '' %>\">\n\t\t\t\t<%= paginationResult %>\n\t\t\t\t<% if (items.length && facets.length) { %>\n\t\t\t\t\t<button class=\"btn btn-inverse pull-left narrow-by-btn\" data-toggle=\"facet-navigation\">\n\t\t\t\t\t\t<span><%= _('Narrow By').translate() %><\/span>\n\t\t\t\t\t\t<i class=\"icon-plus-sign\"><\/i>\n\t\t\t\t\t\t<i class=\"icon-minus-sign\"><\/i>\n\t\t\t\t\t<\/button>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"hidden-phone pull-left\">\n\t\t\t\t\t<%= itemListShowSelectorResult %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<%= facetsDisplayResults %>\n\t\t\t<div id=\"banner-section-middle\" class=\"content-banner banner-section-middle\"><\/div>\n\t\t<\/header>\n\t\t<!-- Item List -->\n\t\t<div id=\"item-list\" class=\"item-list\">\n\t\t\t<%\n\t\t\t\tvar displayOption = _.find(view.options.application.getConfig('itemsDisplayOptions'), function (option)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn option.id === view.options.translator.getOptionValue('display');\n\t\t\t\t\t})\n\t\t\t\t,\tcellWrap = function cellWrap (item)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn SC.macros[displayOption.macro](item, view);\n\t\t\t\t\t};\n\t\t\t%>\n\t\t\t<%= displayInRows(items.models, cellWrap, displayOption.columns) %>\n\t\t\t<div class=\"bottom-pagination\">\n\t\t\t\t<%= paginationResult %>\n\t\t\t<\/div>\n\t\t\t<div class=\"clearfix\"><\/div>\n\t\t<\/div>\n\t\t<!-- \/Item List -->\n\n\t\t<div id=\"banner-section-bottom\" class=\"content-banner banner-section-bottom\"><\/div>\n\t\t<% }else{ %>\n\t\t\t\t\t<%= SC.macros.facetBrowseItemList(view) %>\n\t\t<% } %>\n\t<\/section>\n<\/div>\n    <\/div>\n<\/div>\n","reviews_center_for_item_tmpl":"<div class=\"container\">\n    <%= breadcrumb(view.getBreadcrumb()) %>\n<\/div>\n\n<div class=\"gradient-content\">\n    <div class=\"container\">\n<% var paginationConfig = _.extend({}, view.options.application.getConfig('defaultPaginationSettings'), {\n\t\tcurrentPage: view.collection.page\n\t,\ttotalPages: view.collection.totalPages\n\t,\tpager: function (page)\n\t\t{\n\t\t\treturn '\/'+ (page > 1 ? _.setUrlParameter(Backbone.history.fragment, 'page', page) : _.removeUrlParameter(Backbone.history.fragment, 'page'));\n\t\t}\n\t,\textraClass: 'pull-right no-margin-top'\n\n\t}); %>\n<% if ( !view.item.get('_ratingsCount') ) { %>\n<section class='reviews-list'>\n\t<h3><%= _('No reviews available').translate(0) %><\/h3>\n\t<p><%= _('Be the first to').translate() %> <a href=\"<%= view.baseUrl %>\/new\"><%= _('Write a Review').translate() %><\/a><\/p>\n<\/section>\n<% } else { %>\n        <div class=\"row-fluid\">\n            <header class=\"reviews-header span3\">\n                <%= itemCellGrid(view.item, view) %>\n                <div class=\"review-summary\">\n                    <h3 class=\"no-margin-top no-margin-bottom\">\n                        <%= view.item.get('_ratingsCount') === 1 ?  _('1 review').translate() : _('$(0) reviews').translate( view.item.get('_ratingsCount') ) %>\n                    <\/h3>\n                    <div>\n                        <%= starRating({\n                            max: view.options.application.getConfig('productReviews.maxRate')\n                            ,\tvalue: view.item.get('_rating')\n                            ,\tclassName: 'star'\n                            ,\tfillRounded: true\n                            ,\tshowValue: true\n                        }) %>\n                    <\/div>\n                    <div>\n                        <%= ratingByStar({\n                            view: view\n                            ,\tratingsCountsByRate: view.item.get(\"_ratingsCountsByRate\") || {}\n                            ,\ttotalReviews: view.item.get(\"_ratingsCount\")\n                            ,\tmaxRate: view.options.application.getConfig('productReviews.maxRate')\n                            ,\tshowPercentage: true\n                            ,\tshowCount: true\n                        }) %>\n                    <\/div>\n                    <br>\n                    <a href=\"<%= view.baseUrl %>\/new\" class=\"btn btn-primary\"><%= _('Write a Review').translate() %><\/a>\n                <\/div>\n            <\/header>\n            <section class='reviews-list span9'>\n                <div class=\"review-header\">\n                    <h1><%= view.page_header %>\n                    <a href=\"<%= view.baseUrl %>\/new\" class=\"btn btn-primary pull-right hidden-phone\"><%= _('Write a Review').translate() %><\/a>\n                    <\/h1>\n                    <div class=\"\">\n                        <%= pagination(paginationConfig) %>\n                        <div class=\"clearfix\"><\/div>\n                        <div class=\"sorts\">\n                            <form class=\"form-inline pull-left\">\n                                <span class=\"sort-phone\">\n                                    <label><%= _('Show').translate() %><\/label>\n                                    <select name=\"\" data-type=\"navigator\">\n                                        <% _.each(view.options.application.getConfig('productReviews.filterOptions'), function ( filter_option ) { %>\n                                        <option <%= ( ( view.options.queryOptions.filter && view.options.queryOptions.filter == filter_option.id ) || ( !view.options.queryOptions.filter && filter_option.isDefault ) ) ? 'selected' : '' %> value=\"<%= view.getUrlForOption({ filter: filter_option.id }) %>\">\n                                            <%= filter_option.name %>\n                                        <\/option>\n                                        <% }) %>\n                                    <\/select>\n                                <\/span>\n                                <span class=\"sort-phone\">\n                                    <label><%= _('Sort By').translate() %><\/label>\n                                    <select name=\"\" data-type=\"navigator\">\n                                        <% _.each(view.options.application.getConfig('productReviews.sortOptions'), function ( sort_option ) { %>\n                                        <option <%= ( ( view.options.queryOptions.sort && view.options.queryOptions.sort == sort_option.id ) || ( !view.options.queryOptions.sort && sort_option.isDefault ) ) ? 'selected' : '' %> value=\"<%= view.getUrlForOption({ sort: sort_option.id }) %>\">\n                                            <%= sort_option.name %>\n                                        <\/option>\n                                        <% }) %>\n                                    <\/select>\n                                <\/span>\n                            <\/form>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <% if (view.collection.totalRecordsFound < 1) { %>\n                <%= _('There are no reviews available for your selection').translate() %>\n                <% } else { %>\n                <% view.collection.each(function (review) { %>\n                <div class=\"review-container\">\n                    <%= SC.macros[ view.options.application.getConfig('productReviews.reviewMacro') ] (review, _.extend({ showActionButtons: true }, view.options.application.getConfig('productReviews') ) ) %>\n                <\/div>\n                <% }) %>\n                <% } %>\n            <\/section>\n        <\/div>\n<footer>\n\t<%= pagination(_.extend(paginationConfig, {extraClass: paginationConfig.extraClass +' no-margin-bottom'})) %>\n\n\t<div class=\"clearfix\"><\/div>\n<\/footer>\n<% } %>\n    <\/div>\n<\/div>","home_popup_tmpl":"<div class=\"home-popup\">\n  <h3 class=\"home-popup-title\">Urgent Notice:<\/h3>\n<\/div>\n<div class=\"home-popup-section\">\n  <p>IMPORTANT: FACTORY IS NOW OPEN BUT THE CORONAVIRUS HAS CAUSED FURTHER DELAYS<\/p>\n<p>Please check the new shipping schedule that was emailed to you.<\/p>\n<\/div>\n  ","backinstocknotification_subscribe_tmpl":"\n<div class=\"show-bis-link\">\n    <button class=\"btn dropdown-toggle show-bis\" data-toggle=\"dropdown\" data-action=\"show-bis-control\">\n        <%= _('Email me when it is back in stock').translate() %>\n    <\/button>\n\n<div class=\"dropdown-menu sub-menu bis-control\" data-type=\"bis-control\" <%= view.is_visible ? 'style=\"display: block\"' : ''%>>\n    <p class=\"bis-message\"><%= _('To be notified when this item is back in stock, please enter your name and email address').translate() %><\/p>\n    <div data-confirm-bin-message=\"\"><\/div>\n    <form class=\"bis-form\">\n        <fieldset>\n            <div class=\"control-group\">\n                <label class=\"control-label\">\n                <%=_('Name').translate() %> <small> <%=_('(required)').translate() %><\/small>\n                <\/label>\n                <div class=\"controls\">\n                    <input type=\"text\" name=\"firstname\" id=\"firstname\" class=\"input-xlarge\" placeholder=\"<%=_('First Name').translate() %>\">\n                    <input type=\"text\" name=\"lastname\" id=\"lastname\" class=\"input-xlarge\" placeholder=\"<%=_('Last Name').translate() %>\">\n                <\/div>\n            <\/div>\n            <div class=\"control-group\">\n                <label class=\"control-label\">\n                <%=_('Email').translate() %> <small><%=_('(required)').translate() %><\/small>\n                <\/label>\n                <div class=\"controls\">\n                    <input type=\"email\" name=\"email\" id=\"bis-email\" class=\"input-xlarge\" placeholder=\"<%=_('your@email.com').translate() %>\">\n                <\/div>\n            <\/div>\n            <input type=\"hidden\" name=\"item\" id=\"item\" value=\"<%= view.getSelectedProduct()%>\">\n            <div class=\"sign-in-actions\">\n                <button type=\"submit\" class=\"btn btn-primary btn-large\"><%=_('Notify Me!').translate() %><\/button>\n            <\/div>\n        <\/fieldset>\n    <\/form>\n<\/div>","product_list_lists_tmpl":"<header>\n\t<h3><%= _('My Product Lists').translate()%><\/h3>\n\t\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t<hr class=\"divider-small\">\n\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"product-list-header product-list-lists-header clearfix\">\n\t\t\t<% if(view.collection.length) { %>\n\t\t\t<button class=\"btn pull-right add-list\" data-action=\"add-list\"><%= _('Create new list').translate()%><\/button>\n\t\t\t<% } %>\t\t\t\n\t\t\t<% if(view.collection.length > 1) { %>\n\t\t\t<span class=\"actions-container\" style=\"display: none\">\n\t\t\t\t<%= _('Sort By').translate()%>\n\t\t\t\t<select class=\"sort-by\" data-action=\"sort-by\">\n\t\t\t\t\t<option value=\"modified-date\">Modified Date<\/option>\n\t\t\t\t\t<option value=\"list-name\">List name<\/option>\n\t\t\t\t\t<option value=\"amount-of-items\">Amount of Items<\/option>\n\t\t\t\t<\/select>\n\t\t\t<\/span>\n\t\t\t<% } else if(view.collection.length === 0){ %>\n\t\t\t<span><%= _('You have not product lists yet. You can create one now. ').translate()%><\/span>\n\t\t\t<% } %>\t\t\t\n\t\t<\/div>\n\t<\/div>\n<\/header>\n\n<% \n\/\/ if the customer as no lists then we show a Create New List form (rendered in view.render())\nif(!view.collection.length) { %>\n<br\/>\n<h4><%=_('Create a product list').translate()%><\/h4><br\/>\n<div data-type=\"new-product-list\"><\/div>\n<% } else { %>\n<div class=\"product-list-lists\">\n<% view.collection.each(function(model){ %>\n<%= productListListDetails(model) %>\n<% }); } %>\n<\/div>\n","product_list_control_new_pl_tmpl":"<button class=\"btn pull-left btn-expanded\" type=\"button\" data-type=\"show-add-new-list-form\"><%= _('Create a new list').translate() %><\/button>\n<form action=\"#\" data-type=\"add-new-list-form\">\n\t<div class=\"control-group control-group-name\">\n\t\t<span class=\"controls\">\n\t\t\t<input class=\"add-new-list-input\" name=\"name\" type=\"text\" data-type=\"new-product-list-name\" placeholder=\"<%= _('Your new list name').translate() %>\" >\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"add-new-list-buttons\">\n\t\t<button type=\"submit\" class=\"btn new-product-list-btn pull-right btn-expanded\"><%= view.parentView.mode === 'move' ? _('Create and move Item').translate() : _('Create and Add Item').translate() %><\/button>\n\t<\/div>\n<\/form>\n","profile_tmpl":"<div id=\"profile-details\"><\/div>","product_list_edit_item_tmpl":"<%\n\tvar item = view.model;\t\n\n\tvar product = item.get('item')\n\t,\tquantity = item.get('quantity')\n\t,\tpriority = item.get('priority')\n\t,\tdescription = item.get('description')\n\t,\titem_details = item.get('itemDetails')\n\t,\tthumbnail = item_details.get('_thumbnail')\n\t,\tprice = item_details.getPrice()\n\t,\trating = item_details.get('_rating');\n%>\n<div class=\"row-fluid modal-body\">\n\t<div class=\"span10 info-box\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span4 item-image\" data-type=\"product-list-item\">\n\t\t\t\t<img src=\"<%= view.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%=thumbnail.altimagetext %>\">\n\t\t\t<\/div>\n\t\t\t<div class=\"span8 item-details\" data-type=\"item-details\">\n\t\t\t\t<h5 class=\"item-details-name\">\n\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"product\/<%= product.internalid %>\"> <%= product.displayname %><\/a>\n\t\t\t\t<\/h5>\n\n\t\t\t\t<div class=\"item-details-date-added\">\n\t\t\t\t\t<span><%=_('Added on').translate() %>: <%= item.get('created') %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"item-rating\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t\t\t<%= SC.macros.starRating({\n\t\t\t\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t,\tvalue: rating\n\t\t\t\t\t,\tclassName: 'star pull-left'\n\t\t\t\t\t,\tfillRounded: true\n\t\t\t\t\t}) %>\n\t\t\t\t\t<span class=\"review-total\">\n\t\t\t\t\t\t<%= _('($(0))').translate(\n\t\t\t\t\t\t\t'<span itemprop=\"reviewCount\">' + item_details.get('_ratingsCount') + '<\/span>'\n\t\t\t\t\t\t) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t\t<br\/> \n\t\t\t\t\n\t\t\t\t<p class=\"item-details-price\">\n\t\t\t\t\t<%= SC.macros.showItemPrice(item_details.getPrice(), item_details.getStockInfo().isInStock) %>\n\t\t\t\t<\/p>\n\n\t\t\t\t<div class=\"item-details-options\">\t\t\t\t\t\t\n\t\t\t\t\t<div class=\"options-container\">\n\t\t\t\t\t\t<%= item_details && item_details.renderAllOptionSelector() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"item-details-quantity control-group\">\n\t\t\t\t\t\t<label for=\"quantity\"><%= _('Desired Quantity').translate() %><\/label>\n\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity\" class=\"input-mini quantity\" placeholder=\"<%=_('Desired Quantity').translate() %>\" value=\"<%= quantity %>\">\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"item-details-priority control-group\">\t\t\t\t\t\t\t\n\t\t\t\t\t\t<label for=\"priority\"><%= _('Priority').translate() %><\/label>\n\t\t\t\t\t\t<select name=\"priority\" id=\"priority\" class=\"input-medium\">\n\t\t\t\t\t\t\t<option value=\"1\" <%= priority.id === '1' ? 'selected' : '' %>><%= _('High').translate() %><\/option>\n\t\t\t\t\t\t\t<option value=\"2\" <%= priority.id === '2' ? 'selected' : '' %>><%= _('Medium').translate() %><\/option>\n\t\t\t\t\t\t\t<option value=\"3\" <%= priority.id === '3' ? 'selected' : '' %>><%= _('Low').translate() %><\/option>\n\t\t\t\t\t\t<\/select>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"item-details-notes\">\n\t\t\t\t\t\t<label for=\"description\"><%= _('Notes for this item (optional)').translate() %>: <\/label>\n\t\t\t\t\t\t<textarea name=\"description\" id=\"description\" placeholder=\"<%= _('Add a note or description for your item').translate() %>\"><%- description %><\/textarea>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<div class=\"row-fluid\">\n\t<div class=\"modal-footer\">\n\t\t<button href=\"#\" class=\"btn btn-primary pull-right\" data-action=\"edit\" <%= !item.isSelectionCompleteForEdit() ? 'disabled' : '' %> ><%= _('Save').translate() %><\/button>\n\t\t<button href=\"#\" class=\"btn\" data-dismiss=\"modal\" data-action=\"cancel\" aria-hidden=\"true\"><%= _('Cancel').translate() %><\/button>\n\t<\/div>\n<\/div>","profile_selector_tmpl":"<h2 style=\"border-bottom: 1px solid #eee;padding-bottom: 5px;margin-bottom: 10px;margin-top: 35px;\"><%= _('Fit Profile').translate() %><\/h2>\n\n<% if(view.groupProfile && view.groupProfile.length > 0){ %>\n\t<% _.each(view.groupProfile, function(profile){ %>\n\t\t<%= SC.macros.fitProfileOptionDropdown(profile) %>\n\t<% }); %>\n<% } %>\n\n<!--NOTES: Remove by comsmetuc changes update.-->\n<!--<div class=\"control-group\" data-input=\"fitprofile-message\">\n\t<label class=\"control-label\" for=\"fitprofile-message\"><%= _('Fit Profile Notes').translate() %><\/label>\n\t<div class=\"controls\">\n\t\t<textarea class=\"input-xxlarge fitprofile-message\" id=\"fitprofile-message\" name=\"fitprofile\"><\/textarea>\n\t<\/div>\n<\/div>-->","product_list_menu_tmpl":"<div class=\"product-list-menu\">\n\t<% if ( ! view.is_single_list) { %> \n\t<a href=\"\/productlists\/?\" data-action=\"my-lists\">My lists<\/a>\n\t<ul class=\"nav nav-tabs nav-stacked\">\n\t\t<!-- <li>\n\t\t\t<span class=\"title\">Public lists<\/span>\n\t\t\t<ul>\n\t\t\t<% view.collection.each(function(model) { %>\n\t\t\t\t<% if ('public' === model.get('scope').name) { %>\n\t\t\t\t<li><a href=\"\/productlist\/<%= model.get('internalid') %>\" data-product-list=\"<%= model.get('internalid') %>\"><%= model.get('name') %> (<%= model.get('items').length %>)<\/a><\/li>\n\t\t\t\t<% } %>\n\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li> -->\n\t\t<li> \n\t\t\t<span class=\"title\"><%= _('Private lists').translate() %><\/span>\n\t\t\t<ul>\n\t\t\t<% view.collection.each(function(model) { \n\t\t\t\tvar id = model.get('internalid') || 'tmpl_' + model.get('templateid'); %>\n\t\t\t\t<% if ('private' === model.get('scope').name) { %>\n\t\t\t\t<li><a href=\"\/productlist\/<%= id %>\" data-product-list=\"<%= id %>\"><%= model.get('name') %> (<%= model.get('items').length %>)<\/a><\/li>\n\t\t\t\t<% } %>\n\t\t\t<% }) %>    \n\t\t\t<\/ul>\n\t\t<\/li>\n\t<\/ul>\n\t<% } else { \/\/ we are in single list mode \n\t\t\/\/ contemplate predefined lists that may be has not been created yet. \n\t\t\/\/ For those urls will be \/productlist\/_tmpl_1\n\t\tvar id = view.model.get('internalid') || 'tmpl_' + view.model.get('templateid'); \n\t\t%>\n\t<a href=\"\/productlist\/<%= id %>\" data-action=\"my-lists\">My list<\/a>\n\t<%} %>\n<\/div>\n","product_list_control_single_tmpl":"<% \nvar model = view.single_list; \n%>\n<div class=\"show-wishlist-link\">\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n\t<% if (view.getProductsInternalid().indexOf(view.getProductId(view.product) + '') === -1) { %>\n\t\n\t<button class=\"btn\" data-type=\"add-product-to-single-list\"><%= _('Add to <i>$(0)<\/i>').translate(model.get('name')) %><\/button>\n\n\t<% } else { %>\n\n\t<a href=\"#\" data-type=\"added-product-to-single-list\" data-touchpoint=\"customercenter\" data-hashtag=\"#productlist\/<%= model.get('internalid')%>\"><%= _('Saved to <i>$(0)<\/i>').translate(model.get('name')) %><\/a>\n\n\t<% } %>\n<\/div>\n"};